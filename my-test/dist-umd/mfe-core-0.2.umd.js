(function(di,an){typeof exports=="object"&&typeof module<"u"?an(exports):typeof define=="function"&&define.amd?define(["exports"],an):(di=typeof globalThis<"u"?globalThis:di||self,an(di.MFECore={}))})(this,(function(di){"use strict";function an(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ta={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu;function R0(){if(tu)return re;tu=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),r=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;function m(x){return x===null||typeof x!="object"?null:(x=p&&x[p]||x["@@iterator"],typeof x=="function"?x:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function b(x,O,W){this.props=x,this.context=O,this.refs=v,this.updater=W||g}b.prototype.isReactComponent={},b.prototype.setState=function(x,O){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,O,"setState")},b.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function w(){}w.prototype=b.prototype;function T(x,O,W){this.props=x,this.context=O,this.refs=v,this.updater=W||g}var H=T.prototype=new w;H.constructor=T,f(H,b.prototype),H.isPureReactComponent=!0;var N=Array.isArray;function Y(){}var z={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function q(x,O,W){var K=W.ref;return{$$typeof:i,type:x,key:O,ref:K!==void 0?K:null,props:W}}function de(x,O){return q(x.type,O,x.props)}function Z(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function Re(x){var O={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(W){return O[W]})}var it=/\/+/g;function j(x,O){return typeof x=="object"&&x!==null&&x.key!=null?Re(""+x.key):O.toString(36)}function $(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Y,Y):(x.status="pending",x.then(function(O){x.status==="pending"&&(x.status="fulfilled",x.value=O)},function(O){x.status==="pending"&&(x.status="rejected",x.reason=O)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function R(x,O,W,K,ne){var fe=typeof x;(fe==="undefined"||fe==="boolean")&&(x=null);var ge=!1;if(x===null)ge=!0;else switch(fe){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(x.$$typeof){case i:case e:ge=!0;break;case d:return ge=x._init,R(ge(x._payload),O,W,K,ne)}}if(ge)return ne=ne(x),ge=K===""?"."+j(x,0):K,N(ne)?(W="",ge!=null&&(W=ge.replace(it,"$&/")+"/"),R(ne,O,W,"",function(nt){return nt})):ne!=null&&(Z(ne)&&(ne=de(ne,W+(ne.key==null||x&&x.key===ne.key?"":(""+ne.key).replace(it,"$&/")+"/")+ge)),O.push(ne)),1;ge=0;var je=K===""?".":K+":";if(N(x))for(var Fe=0;Fe<x.length;Fe++)K=x[Fe],fe=je+j(K,Fe),ge+=R(K,O,W,fe,ne);else if(Fe=m(x),typeof Fe=="function")for(x=Fe.call(x),Fe=0;!(K=x.next()).done;)K=K.value,fe=je+j(K,Fe++),ge+=R(K,O,W,fe,ne);else if(fe==="object"){if(typeof x.then=="function")return R($(x),O,W,K,ne);throw O=String(x),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ge}function G(x,O,W){if(x==null)return x;var K=[],ne=0;return R(x,K,"","",function(fe){return O.call(W,fe,ne++)}),K}function V(x){if(x._status===-1){var O=x._result;O=O(),O.then(function(W){(x._status===0||x._status===-1)&&(x._status=1,x._result=W)},function(W){(x._status===0||x._status===-1)&&(x._status=2,x._result=W)}),x._status===-1&&(x._status=0,x._result=O)}if(x._status===1)return x._result.default;throw x._result}var Q=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},oe={map:G,forEach:function(x,O,W){G(x,function(){O.apply(this,arguments)},W)},count:function(x){var O=0;return G(x,function(){O++}),O},toArray:function(x){return G(x,function(O){return O})||[]},only:function(x){if(!Z(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return re.Activity=h,re.Children=oe,re.Component=b,re.Fragment=t,re.Profiler=s,re.PureComponent=T,re.StrictMode=n,re.Suspense=l,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return z.H.useMemoCache(x)}},re.cache=function(x){return function(){return x.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(x,O,W){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var K=f({},x.props),ne=x.key;if(O!=null)for(fe in O.key!==void 0&&(ne=""+O.key),O)!be.call(O,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&O.ref===void 0||(K[fe]=O[fe]);var fe=arguments.length-2;if(fe===1)K.children=W;else if(1<fe){for(var ge=Array(fe),je=0;je<fe;je++)ge[je]=arguments[je+2];K.children=ge}return q(x.type,ne,K)},re.createContext=function(x){return x={$$typeof:r,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:o,_context:x},x},re.createElement=function(x,O,W){var K,ne={},fe=null;if(O!=null)for(K in O.key!==void 0&&(fe=""+O.key),O)be.call(O,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ne[K]=O[K]);var ge=arguments.length-2;if(ge===1)ne.children=W;else if(1<ge){for(var je=Array(ge),Fe=0;Fe<ge;Fe++)je[Fe]=arguments[Fe+2];ne.children=je}if(x&&x.defaultProps)for(K in ge=x.defaultProps,ge)ne[K]===void 0&&(ne[K]=ge[K]);return q(x,fe,ne)},re.createRef=function(){return{current:null}},re.forwardRef=function(x){return{$$typeof:a,render:x}},re.isValidElement=Z,re.lazy=function(x){return{$$typeof:d,_payload:{_status:-1,_result:x},_init:V}},re.memo=function(x,O){return{$$typeof:c,type:x,compare:O===void 0?null:O}},re.startTransition=function(x){var O=z.T,W={};z.T=W;try{var K=x(),ne=z.S;ne!==null&&ne(W,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Y,Q)}catch(fe){Q(fe)}finally{O!==null&&W.types!==null&&(O.types=W.types),z.T=O}},re.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},re.use=function(x){return z.H.use(x)},re.useActionState=function(x,O,W){return z.H.useActionState(x,O,W)},re.useCallback=function(x,O){return z.H.useCallback(x,O)},re.useContext=function(x){return z.H.useContext(x)},re.useDebugValue=function(){},re.useDeferredValue=function(x,O){return z.H.useDeferredValue(x,O)},re.useEffect=function(x,O){return z.H.useEffect(x,O)},re.useEffectEvent=function(x){return z.H.useEffectEvent(x)},re.useId=function(){return z.H.useId()},re.useImperativeHandle=function(x,O,W){return z.H.useImperativeHandle(x,O,W)},re.useInsertionEffect=function(x,O){return z.H.useInsertionEffect(x,O)},re.useLayoutEffect=function(x,O){return z.H.useLayoutEffect(x,O)},re.useMemo=function(x,O){return z.H.useMemo(x,O)},re.useOptimistic=function(x,O){return z.H.useOptimistic(x,O)},re.useReducer=function(x,O,W){return z.H.useReducer(x,O,W)},re.useRef=function(x){return z.H.useRef(x)},re.useState=function(x){return z.H.useState(x)},re.useSyncExternalStore=function(x,O,W){return z.H.useSyncExternalStore(x,O,W)},re.useTransition=function(){return z.H.useTransition()},re.version="19.2.0",re}var iu;function nu(){return iu||(iu=1,Ta.exports=R0()),Ta.exports}var E=nu();const P0=an(E);var Aa={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su;function $0(){if(su)return ct;su=1;var i=nu();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(l,c,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:h==null?null:""+h,children:l,containerInfo:c,implementation:d}}var r=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ct.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return o(l,c,null,d)},ct.flushSync=function(l){var c=r.T,d=n.p;try{if(r.T=null,n.p=2,l)return l()}finally{r.T=c,n.p=d,n.d.f()}},ct.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},ct.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},ct.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,h=a(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:m}):d==="script"&&n.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},ct.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=a(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},ct.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,h=a(d,c.crossOrigin);n.d.L(l,d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},ct.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=a(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},ct.requestFormReset=function(l){n.d.r(l)},ct.unstable_batchedUpdates=function(l,c){return l(c)},ct.useFormState=function(l,c,d){return r.H.useFormState(l,c,d)},ct.useFormStatus=function(){return r.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var ou;function B0(){if(ou)return Aa.exports;ou=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Aa.exports=$0(),Aa.exports}var Vo=B0();const V0=an(Vo);var Oa={exports:{}},Es={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru;function L0(){if(ru)return Es;ru=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var r=null;if(o!==void 0&&(r=""+o),s.key!==void 0&&(r=""+s.key),"key"in s){o={};for(var a in s)a!=="key"&&(o[a]=s[a])}else o=s;return s=o.ref,{$$typeof:i,type:n,key:r,ref:s!==void 0?s:null,props:o}}return Es.Fragment=e,Es.jsx=t,Es.jsxs=t,Es}var au;function F0(){return au||(au=1,Oa.exports=L0()),Oa.exports}var st=F0(),Lo={exports:{}},H0=Lo.exports,lu;function N0(){return lu||(lu=1,(function(i,e){(function(t,n){i.exports=n()})(H0,(function(){var t=1e3,n=6e4,s=36e5,o="millisecond",r="second",a="minute",l="hour",c="day",d="week",h="month",p="quarter",m="year",g="date",f="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(j){var $=["th","st","nd","rd"],R=j%100;return"["+j+($[(R-20)%10]||$[R]||$[0])+"]"}},T=function(j,$,R){var G=String(j);return!G||G.length>=$?j:""+Array($+1-G.length).join(R)+j},H={s:T,z:function(j){var $=-j.utcOffset(),R=Math.abs($),G=Math.floor(R/60),V=R%60;return($<=0?"+":"-")+T(G,2,"0")+":"+T(V,2,"0")},m:function j($,R){if($.date()<R.date())return-j(R,$);var G=12*(R.year()-$.year())+(R.month()-$.month()),V=$.clone().add(G,h),Q=R-V<0,oe=$.clone().add(G+(Q?-1:1),h);return+(-(G+(R-V)/(Q?V-oe:oe-V))||0)},a:function(j){return j<0?Math.ceil(j)||0:Math.floor(j)},p:function(j){return{M:h,y:m,w:d,d:c,D:g,h:l,m:a,s:r,ms:o,Q:p}[j]||String(j||"").toLowerCase().replace(/s$/,"")},u:function(j){return j===void 0}},N="en",Y={};Y[N]=w;var z="$isDayjsObject",be=function(j){return j instanceof Re||!(!j||!j[z])},q=function j($,R,G){var V;if(!$)return N;if(typeof $=="string"){var Q=$.toLowerCase();Y[Q]&&(V=Q),R&&(Y[Q]=R,V=Q);var oe=$.split("-");if(!V&&oe.length>1)return j(oe[0])}else{var x=$.name;Y[x]=$,V=x}return!G&&V&&(N=V),V||!G&&N},de=function(j,$){if(be(j))return j.clone();var R=typeof $=="object"?$:{};return R.date=j,R.args=arguments,new Re(R)},Z=H;Z.l=q,Z.i=be,Z.w=function(j,$){return de(j,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var Re=(function(){function j(R){this.$L=q(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[z]=!0}var $=j.prototype;return $.parse=function(R){this.$d=(function(G){var V=G.date,Q=G.utc;if(V===null)return new Date(NaN);if(Z.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var oe=V.match(v);if(oe){var x=oe[2]-1||0,O=(oe[7]||"0").substring(0,3);return Q?new Date(Date.UTC(oe[1],x,oe[3]||1,oe[4]||0,oe[5]||0,oe[6]||0,O)):new Date(oe[1],x,oe[3]||1,oe[4]||0,oe[5]||0,oe[6]||0,O)}}return new Date(V)})(R),this.init()},$.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},$.$utils=function(){return Z},$.isValid=function(){return this.$d.toString()!==f},$.isSame=function(R,G){var V=de(R);return this.startOf(G)<=V&&V<=this.endOf(G)},$.isAfter=function(R,G){return de(R)<this.startOf(G)},$.isBefore=function(R,G){return this.endOf(G)<de(R)},$.$g=function(R,G,V){return Z.u(R)?this[G]:this.set(V,R)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(R,G){var V=this,Q=!!Z.u(G)||G,oe=Z.p(R),x=function(Fe,nt){var ci=Z.w(V.$u?Date.UTC(V.$y,nt,Fe):new Date(V.$y,nt,Fe),V);return Q?ci:ci.endOf(c)},O=function(Fe,nt){return Z.w(V.toDate()[Fe].apply(V.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(nt)),V)},W=this.$W,K=this.$M,ne=this.$D,fe="set"+(this.$u?"UTC":"");switch(oe){case m:return Q?x(1,0):x(31,11);case h:return Q?x(1,K):x(0,K+1);case d:var ge=this.$locale().weekStart||0,je=(W<ge?W+7:W)-ge;return x(Q?ne-je:ne+(6-je),K);case c:case g:return O(fe+"Hours",0);case l:return O(fe+"Minutes",1);case a:return O(fe+"Seconds",2);case r:return O(fe+"Milliseconds",3);default:return this.clone()}},$.endOf=function(R){return this.startOf(R,!1)},$.$set=function(R,G){var V,Q=Z.p(R),oe="set"+(this.$u?"UTC":""),x=(V={},V[c]=oe+"Date",V[g]=oe+"Date",V[h]=oe+"Month",V[m]=oe+"FullYear",V[l]=oe+"Hours",V[a]=oe+"Minutes",V[r]=oe+"Seconds",V[o]=oe+"Milliseconds",V)[Q],O=Q===c?this.$D+(G-this.$W):G;if(Q===h||Q===m){var W=this.clone().set(g,1);W.$d[x](O),W.init(),this.$d=W.set(g,Math.min(this.$D,W.daysInMonth())).$d}else x&&this.$d[x](O);return this.init(),this},$.set=function(R,G){return this.clone().$set(R,G)},$.get=function(R){return this[Z.p(R)]()},$.add=function(R,G){var V,Q=this;R=Number(R);var oe=Z.p(G),x=function(K){var ne=de(Q);return Z.w(ne.date(ne.date()+Math.round(K*R)),Q)};if(oe===h)return this.set(h,this.$M+R);if(oe===m)return this.set(m,this.$y+R);if(oe===c)return x(1);if(oe===d)return x(7);var O=(V={},V[a]=n,V[l]=s,V[r]=t,V)[oe]||1,W=this.$d.getTime()+R*O;return Z.w(W,this)},$.subtract=function(R,G){return this.add(-1*R,G)},$.format=function(R){var G=this,V=this.$locale();if(!this.isValid())return V.invalidDate||f;var Q=R||"YYYY-MM-DDTHH:mm:ssZ",oe=Z.z(this),x=this.$H,O=this.$m,W=this.$M,K=V.weekdays,ne=V.months,fe=V.meridiem,ge=function(nt,ci,ye,xe){return nt&&(nt[ci]||nt(G,Q))||ye[ci].slice(0,xe)},je=function(nt){return Z.s(x%12||12,nt,"0")},Fe=fe||function(nt,ci,ye){var xe=nt<12?"AM":"PM";return ye?xe.toLowerCase():xe};return Q.replace(b,(function(nt,ci){return ci||(function(ye){switch(ye){case"YY":return String(G.$y).slice(-2);case"YYYY":return Z.s(G.$y,4,"0");case"M":return W+1;case"MM":return Z.s(W+1,2,"0");case"MMM":return ge(V.monthsShort,W,ne,3);case"MMMM":return ge(ne,W);case"D":return G.$D;case"DD":return Z.s(G.$D,2,"0");case"d":return String(G.$W);case"dd":return ge(V.weekdaysMin,G.$W,K,2);case"ddd":return ge(V.weekdaysShort,G.$W,K,3);case"dddd":return K[G.$W];case"H":return String(x);case"HH":return Z.s(x,2,"0");case"h":return je(1);case"hh":return je(2);case"a":return Fe(x,O,!0);case"A":return Fe(x,O,!1);case"m":return String(O);case"mm":return Z.s(O,2,"0");case"s":return String(G.$s);case"ss":return Z.s(G.$s,2,"0");case"SSS":return Z.s(G.$ms,3,"0");case"Z":return oe}return null})(nt)||oe.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(R,G,V){var Q,oe=this,x=Z.p(G),O=de(R),W=(O.utcOffset()-this.utcOffset())*n,K=this-O,ne=function(){return Z.m(oe,O)};switch(x){case m:Q=ne()/12;break;case h:Q=ne();break;case p:Q=ne()/3;break;case d:Q=(K-W)/6048e5;break;case c:Q=(K-W)/864e5;break;case l:Q=K/s;break;case a:Q=K/n;break;case r:Q=K/t;break;default:Q=K}return V?Q:Z.a(Q)},$.daysInMonth=function(){return this.endOf(h).$D},$.$locale=function(){return Y[this.$L]},$.locale=function(R,G){if(!R)return this.$L;var V=this.clone(),Q=q(R,G,!0);return Q&&(V.$L=Q),V},$.clone=function(){return Z.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},j})(),it=Re.prototype;return de.prototype=it,[["$ms",o],["$s",r],["$m",a],["$H",l],["$W",c],["$M",h],["$y",m],["$D",g]].forEach((function(j){it[j[1]]=function($){return this.$g($,j[0],j[1])}})),de.extend=function(j,$){return j.$i||(j($,Re,de),j.$i=!0),de},de.locale=q,de.isDayjs=be,de.unix=function(j){return de(1e3*j)},de.en=Y[N],de.Ls=Y,de.p={},de}))})(Lo)),Lo.exports}var W0=N0();const z0=an(W0),G0=({formData:i,fields:e,buttons:t=[],title:n,colCount:s=2,styles:o,className:r=""})=>{const[a,l]=E.useState(i),[c,d]=E.useState({}),h=(f,v)=>{l(b=>({...b,[f]:v}))},p=()=>{const f={};return e.forEach(v=>{v.required&&!a[v.name]&&(f[v.name]="Bắt buộc nhập")}),d(f),Object.keys(f).length===0},m=f=>{f.onClick&&p()&&f.onClick(a)},g=`repeat(${s}, 1fr)`;return st.jsxs("div",{className:`border p-4 rounded-md bg-white ${r}`,style:o,children:[st.jsx("h3",{className:"font-bold text-green-700 mb-3",children:n}),st.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:g},children:e.map(f=>st.jsxs("div",{className:"flex flex-col",children:[st.jsxs("label",{className:"font-semibold mb-1 text-left",children:[f.label," ",f.required&&st.jsx("span",{className:"text-red-500",children:"*"})]}),f.type==="text"&&st.jsx("input",{...f.fieldProps,type:"text",className:`border rounded p-2 ${f.fieldProps?.className??""}`,value:a[f.name]??"",onChange:v=>h(f.name,v.target.value)}),f.type==="textarea"&&st.jsx("textarea",{...f.fieldProps,className:`border rounded p-2 resize-none ${f.fieldProps?.className??""}`,value:a[f.name]??"",onChange:v=>h(f.name,v.target.value)}),f.type==="select"&&st.jsxs("select",{...f.fieldProps,className:`border rounded p-2 ${f.fieldProps?.className??""}`,value:a[f.name]??"",onChange:v=>h(f.name,v.target.value),children:[st.jsx("option",{value:"",children:"-- Chọn --"}),f.options?.map(v=>st.jsx("option",{value:v.value,children:v.label},v.value))]}),f.type==="date"&&st.jsx("input",{...f.fieldProps,type:"date",className:`border rounded p-2 ${f.fieldProps?.className??""}`,value:a[f.name]?z0(a[f.name]).format("YYYY-MM-DD"):"",onChange:v=>h(f.name,v.target.value)}),c[f.name]&&st.jsx("span",{className:"text-red-500 text-sm mt-1",children:c[f.name]})]},f.name))}),st.jsx("div",{className:"mt-4 flex gap-3",children:t.map((f,v)=>st.jsx("button",{className:`px-4 py-2 rounded ${f.type==="primary"?"bg-green-600 text-white":f.type==="danger"?"bg-red-500 text-white":"bg-gray-200"}`,onClick:()=>m(f),children:f.label},v))})]})};function C(){return C=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},C.apply(null,arguments)}const ui=function(i){this._options=i||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};ui.prototype._fireCore=function(i,e){const t=this._firingIndexes,n=this._list,{stopOnFalse:s}=this._options,o=t.length;for(t[o]=0;t[o]<n.length&&!(n[t[o]].apply(i,e)===!1&&s);t[o]++);t.pop()},ui.prototype.add=function(i){return typeof i=="function"&&(!this._options.unique||!this.has(i))&&this._list.push(i),this},ui.prototype.remove=function(i){const e=this._list,t=this._firingIndexes,n=e.indexOf(i);if(n>-1&&(e.splice(n,1),this._firing&&t.length))for(let s=0;s<t.length;s++)n<=t[s]&&t[s]--;return this},ui.prototype.has=function(i){const e=this._list;return i?e.indexOf(i)>-1:!!e.length},ui.prototype.empty=function(i){return this._list=[],this},ui.prototype.fireWith=function(i,e){const t=this._queue;if(e=e||[],e=e.slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(i,e);else{if(t.push([i,e]),this._firing)return;for(this._firing=!0;t.length;){const n=t.shift();this._fireCore(n[0],n[1])}}return this._firing=!1,this._fired=!0,this},ui.prototype.fire=function(){this.fireWith(this,arguments)},ui.prototype.fired=function(){return this._fired};const Ee=function(i){return new ui(i)},qe=(i,e)=>{if(Array.isArray(i))return i.map(e);const t=[];for(const n in i)t.push(e(i[n],n));return t},S=(i,e)=>{if(i){if("length"in i)for(let t=0;t<i.length&&e.call(i[t],t,i[t])!==!1;t++);else for(const t in i)if(e.call(i[t],t,i[t])===!1)break;return i}};class ka{constructor(){this.memory=[],this.callbacks=Ee()}add(e){S(this.memory,((t,n)=>e.apply(e,n))),this.callbacks.add(e)}remove(e){this.callbacks.remove(e)}fire(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.memory.push(t),this.callbacks.fire.apply(this.callbacks,t)}}const Ma=new ka,K0=["pageX","pageY","screenX","screenY","clientX","clientY"],U0=function(i,e){if(e[i]&&!e.touches||!e.touches)return e[i];const t=e.touches.length?e.touches:e.changedTouches;if(t.length)return t[0][i]};function j0(i){K0.forEach((e=>{i(e,(t=>U0(e,t)))}),this)}const Ra=i=>{var e,t;const{originalEvent:n}=i;if(!n)return i.target;if(!!!(!((e=n.target)===null||e===void 0)&&e.shadowRoot))return n.target;const o=n.path??((t=n.composedPath)===null||t===void 0?void 0:t.call(n));return o?.[0]??i.target},q0={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string"},gt=function(i){if(i===null)return"null";const e=Object.prototype.toString.call(i);return typeof i=="object"?q0[e]||"object":typeof i},Fo=function(i){return typeof i=="boolean"},Pa=function(i){return Le(i)&&i.toString().indexOf("e")!==-1},zt=function(i){return gt(i)==="date"},y=function(i){return i!=null},L=function(i){return typeof i=="function"},le=function(i){return typeof i=="string"},Le=function(i){return typeof i=="number"&&isFinite(i)||!isNaN(i-parseFloat(i))},X=function(i){return gt(i)==="object"},Jt=function(i){let e;for(e in i)return!1;return!0},J=function(i){if(!i||gt(i)!=="object")return!1;const e=Object.getPrototypeOf(i);if(!e)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&Object.toString.call(t)===Object.toString.call(Object)},cu=function(i){return!["object","array","function"].includes(gt(i))},Ve=function(i){return i!=null&&i===i.window},Mi=function(i){return!!i&&!!(i.jquery||i.dxRenderer)},Ri=function(i){return!!i&&L(i.then)},Ho=function(i){return!!i&&L(i.done)&&L(i.fail)},du=function(i){return!!(i&&i.preventDefault)},Is={isBoolean:Fo,isDate:zt,isDeferred:Ho,isDefined:y,isEmptyObject:Jt,isEvent:du,isExponential:Pa,isFunction:L,isNumeric:Le,isObject:X,isPlainObject:J,isPrimitive:cu,isPromise:Ri,isRenderer:Mi,isString:le,isWindow:Ve,type:gt},Y0=function(i,e,t){i=i||{};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const s=e[n];i[n]=s}return i},I=function(i){i=i||{};let e=1,t=!1;for(typeof i=="boolean"&&(t=i,i=arguments[1]||{},e++);e<arguments.length;e++){const n=arguments[e];if(n!=null)for(const s in n){const o=i[s],r=n[s];let a=!1,l;s==="__proto__"||s==="constructor"||i===r||(t&&r&&(J(r)||(a=Array.isArray(r)))?(a?l=o&&Array.isArray(o)?o:[]:l=o&&J(o)?o:{},i[s]=I(t,l,r)):r!==void 0&&(i[s]=r))}}return i},X0=(function(){const i=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(i[0],"&amp;").replace(i[1],"&quot;").replace(i[2],"&#39;").replace(i[3],"&lt;").replace(i[4],"&gt;")}})();function Ln(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return L(i)?i(...t):(t.forEach(((s,o)=>{le(s)&&(s=s.replace(/\$/g,"$$$$"));const r=new RegExp(`\\{${o}\\}`,"gm");i=i.replace(r,s)})),i)}const $a=(function(){const i=/\s/g;return function(e){return!e||!e.replace(i,"")}})(),Z0="25.1.6",uu="25.1.6",J0=function(){},No=function(i){return typeof console>"u"||!L(console[i])?J0:console[i].bind(console)},Wo={log:No("log"),info:No("info"),warn:No("warn"),error:No("error")},Q0={logger:Wo},ex=`https://js.devexpress.com/error/${Z0.split(".").slice(0,2).join("_")}/`;function Ba(i,e){const t={ERROR_MESSAGES:I(e,i),Error:function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(function(c){const d=c[0];c=c.slice(1);const h=n(d,c),p=o(d),m=s(d,h);return I(new Error(m),{__id:d,__details:h,url:p})})(a)},log(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];const c=a[0];let d="log";/^E\d+$/.test(c)?d="error":/^W\d+$/.test(c)&&(d="warn"),Q0.logger[d](d==="log"?c:(function(h){const p=h[0];return h=h.slice(1),s(p,n(p,h))})(a))}};function n(r,a){return a=[t.ERROR_MESSAGES[r]].concat(a),Ln.apply(this,a).replace(/\.*\s*?$/,"")}function s(r,a){const l=r!=null&&r.startsWith("W")?"warning":"error";return Ln.apply(this,[`{0} - {1}.

For additional information on this {2} message, see: {3}`,r,a,l,o(r)])}function o(r){return ex+r}return t}const he=Ba({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",E0122:"AIIntegration: The sendRequest method is missing.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view type: {0}",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2',W0019:`DevExtreme: Unable to Locate a Valid License Key.

Detailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.

If you are using a 30-day trial version of DevExtreme, you must uninstall all copies of DevExtreme once your 30-day trial period expires. For terms and conditions that govern use of DevExtreme UI components/libraries, please refer to the DevExtreme End User License Agreement: https://js.devexpress.com/EULAs/DevExtremeComplete.

To use DevExtreme in a commercial project, you must purchase a license. For pricing/licensing options, please visit: https://js.devexpress.com/Buy.

If you have licensing-related questions or need help with a purchase, please email clientservices@devexpress.com.

`,W0020:`DevExtreme: License Key Has Expired.

Detailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.

A mismatch exists between the license key used and the DevExtreme version referenced in this project.

To proceed, you can:
• use a version of DevExtreme linked to your license key: https://www.devexpress.com/ClientCenter/DownloadManager
• renew your DevExpress Subscription: https://www.devexpress.com/buy/renew (once you renew your subscription, you will be entitled to product updates and support service as defined in the DevExtreme End User License Agreement)

If you have licensing-related questions or need help with a renewal, please email clientservices@devexpress.com.

`,W0021:`DevExtreme: License Key Verification Has Failed.

Detailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.

To verify your DevExtreme license, make certain to specify a correct key in the GlobalConfig. If you continue to encounter this error, please visit https://www.devexpress.com/ClientCenter/DownloadManager to obtain a valid license key.

If you have a valid license and this problem persists, please submit a support ticket via the DevExpress Support Center. We will be happy to follow-up: https://supportcenter.devexpress.com/ticket/create.

`,W0022:`DevExtreme: Pre-release software. Not suitable for commercial use.

Detailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.

Pre-release software may contain deficiencies and as such, should not be considered for use or integrated in any mission critical application.

`,W0023:`DevExtreme: the following 'devextreme' package version does not match versions of other DevExpress products used in this application:

{0}

Interoperability between different versions of the products listed herein cannot be guaranteed.

`,W0024:`DevExtreme: Use Your DevExtreme License Key - Not Your DevExpress .NET License Key

Invalid/incorrect license key. You used your DevExpress .NET license key instead of your DevExtreme (React, Angular, Vue, JS) license key. Please copy your DevExtreme license key and try again. 

Go to https://www.devexpress.com/ClientCenter/DownloadManager (navigate to the DevExtreme Subscription section) to obtain a valid DevExtreme license key. To validate your license, specify the correct key within GlobalConfig.

For detailed license/registration information, visit https://js.devexpress.com/Documentation/Licensing/.

If you have a valid license and the issue persists, submit a support ticket via the DevExpress Support Center. We will be happy to follow-up: https://supportcenter.devexpress.com/ticket/create.

`}),hu={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,versionAssertions:[],copyStylesToShadowDom:!0,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:i=>{i.trim().charAt(0)!=="{"&&(i=`{${i}}`);try{return JSON.parse(i)}catch(e){try{return JSON.parse(tx(i))}catch{throw he.Error("E3018",e,i)}}}},tx=i=>i.replace(/'/g,'"').replace(/,\s*([\]}])/g,"$1").replace(/([{,])\s*([^":\s]+)\s*:/g,'$1"$2":'),ix=["decimalSeparator","thousandsSeparator"],ce=function(){if(!arguments.length)return hu;const i=arguments.length<=0?void 0:arguments[0];ix.forEach((e=>{if(i[e]){const t=`Now, the ${e} is selected based on the specified locale.`;he.log("W0003","config",e,"19.2",t)}})),I(hu,i)};typeof DevExpress<"u"&&DevExpress.config&&ce(DevExpress.config);const nx=function(i,e,t){return function(){const n=this.callBase;this.callBase=i[e];try{return t.apply(this,arguments)}finally{this.callBase=n}}},sx=function(i){const e=function(){};return e.prototype=i.prototype,new e},ox=function(i){const e=this;let t,n,s;if(!i)return e;for(n in i)s=i[n],t=typeof e.prototype[n]=="function"&&typeof s=="function",e.prototype[n]=t?nx(e.parent.prototype,n,s):s;return e},rx=function(){const i=this;let e,t,n;const s=Object.prototype.hasOwnProperty.bind(i);!s("_includedCtors")&&!s("_includedPostCtors")&&(i._includedCtors=i._includedCtors.slice(0),i._includedPostCtors=i._includedPostCtors.slice(0));for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];for(n=0;n<a.length;n++){e=a[n],e.ctor&&i._includedCtors.push(e.ctor),e.postCtor&&i._includedPostCtors.push(e.postCtor);for(t in e)t==="ctor"||t==="postCtor"||t==="default"||(i.prototype[t]=e[t])}return i},ax=function(i){if(!Object.prototype.hasOwnProperty.bind(this)("parent")&&this.parent){const n=Object.getPrototypeOf(this);return n===i||n.subclassOf(i)}return this.parent===i?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(i)},pu=function(){throw he.Error("E0001")},ee=function(){};ee.inherit=function(i){const e=function(){if(!this||Ve(this)||typeof this.constructor!="function")throw he.Error("E0003");const t=this,{ctor:n}=t,s=t.constructor._includedCtors,o=t.constructor._includedPostCtors;let r;for(r=0;r<s.length;r++)s[r].call(t);if(n){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n.apply(t,l)}for(r=0;r<o.length;r++)o[r].call(t)};return e.prototype=sx(this),Object.setPrototypeOf(e,this),e.inherit=this.inherit,e.abstract=pu,e.redefine=ox,e.include=rx,e.subclassOf=ax,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(i),e},ee.abstract=pu;const $e=ee.inherit({ctor:function(i){i&&(i=String(i)),this._value=this._normalize(i||this._generate())},_normalize:function(i){for(i=i.replace(/[^a-f0-9]/gi,"").toLowerCase();i.length<32;)i+="0";return[i.substr(0,8),i.substr(8,4),i.substr(12,4),i.substr(16,4),i.substr(20,12)].join("-")},_generate:function(){let i="";for(let e=0;e<32;e++)i+=Math.round(15*Math.random()).toString(16);return i},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),mu={};let zo;function lx(i,e){mu[i]=e}function cx(i){if(le(i)){if(zo=mu[i],!zo)throw he.Error("E0020",i)}else zo=i}function fu(){return zo}function Gt(i){const e=ee.inherit(i);let t=e,n=new t(i);const s={},o=function(r,a){S(r,(function(l){L(n[l])?(a||!i[l])&&(i[l]=function(){return n[l].apply(i,arguments)}):(a&&(s[l]=i[l]),i[l]=n[l])}))};return o(i,!0),i.inject=function(r){t=t.inherit(r),n=new t,o(r)},i.resetInjection=function(){I(i,s),t=e,n=new e},i}const vt=Gt({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(i){return i},unwrap:function(i){return i},assign:function(){Wo.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}}),dx=function(i,e){const t=[];let n,s;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.push(n);for(t.sort((function(o,r){const a=Le(o),l=Le(r);return a&&l?o-r:a&&!l?-1:!a&&l?1:o<r?-1:o>r?1:0})),s=0;s<t.length;s++)n=t[s],e(n,i[n])},_u=i=>X(i)?Array.isArray(i)?[]:{}:i,ux=function(i,e,t,n,s,o){!s&&vt.isWrapped(i[e])?vt.assign(i[e],t):i[e]=t},gu=function(i,e,t,n,s,o){const r=n?X(i):J(i);!s&&vt.isWrapped(i[e])?vt.assign(i[e],t):!s&&Array.isArray(t)?i[e]=t.map((a=>ln(_u(a),a,n,s,o))):!s&&r?i[e]=ln(_u(t),t,n,s,o,gu):i[e]=t},ln=function(i,e,t,n,s,o){let r,a;const l=o?gu:ux;for(const c in e){if(r=i[c],a=e[c],c==="__proto__"||c==="constructor"||i===a)continue;if(J(a)){const p=t?X(r):J(r);a=ln(p?r:{},a,t,n,s)}(Array.isArray(a)&&!n||((s||a!==void 0)&&r!==a||s&&r===void 0))&&l(i,c,a,t,n,s)}return i},hx=vt.unwrap,{isWrapped:vu}=vt,{assign:px}=vt,mx=function(i){return i.replace(/\[/g,".").replace(/\]/g,"")},Fn=function(i){return mx(i).split(".")},fx=function(i,e,t){return t=t||{},ws(e==="this"?i:i[e],t)},xu=function(i,e,t,n){if(e==="this")throw new he.Error("E4016");const s=i[e];n.unwrapObservables&&vu(s)?px(s,t):i[e]=t},yu=function(i){return i=i||{},i.unwrapObservables=i.unwrapObservables!==void 0?i.unwrapObservables:!0,i};function ws(i,e){return e.unwrapObservables?hx(i):i}const et=function(i){if(arguments.length>1&&(i=[].slice.call(arguments)),!i||i==="this")return function(e){return e};if(typeof i=="string"){const e=Fn(i);return function(t,n){n=yu(n);const s=n.functionsAsIs,o="defaultValue"in n;let r=ws(t,n);for(let a=0;a<e.length;a++){if(!r){if(r==null&&o)return n.defaultValue;break}const l=e[a];if(o&&X(r)&&!(l in r))return n.defaultValue;let c=ws(r[l],n);!s&&L(c)&&(c=c.call(r)),r=c}return r}}if(Array.isArray(i))return _x(i);if(L(i))return i};function _x(i){const e={};for(let t=0,n=i.length;t<n;t++){const s=i[t];e[s]=et(s)}return function(t,n){let s;return S(e,(function(o){const r=this(t,n);if(r===void 0)return;let a=s||(s={});const l=o.split("."),c=l.length-1;for(let d=0;d<c;d++){const h=l[d];h in a||(a[h]={}),a=a[h]}a[l[c]]=r})),s}}function Cu(i,e){return e!=null&&e.locale?i.toLocaleLowerCase(e.locale):i.toLowerCase()}function gx(i,e){return e!=null&&e.locale?i.toLocaleUpperCase(e.locale):i.toUpperCase()}const bu=function(i,e,t,n){if(y(t))return t;const s={};return xu(i,e,s,n),s},vx=function(i){i=Fn(i||"this");const e=i.length-1;return function(t,n,s){s=yu(s);let o=ws(t,s);i.forEach((function(r,a){let l=fx(o,r,s);const c=!s.functionsAsIs&&L(l)&&!vu(l);a===e?s.merge&&J(n)&&(!y(l)||J(l))?(l=bu(o,r,l,s),ln(l,n,!1,!0)):c?o[r](n):xu(o,r,n,s):(l=bu(o,r,l,s),c&&(l=l.call(o)),o=l)}))}},hi=function(i,e){var t;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i instanceof Date)return i.getTime();const s=n==null||(t=n.collatorOptions)===null||t===void 0?void 0:t.sensitivity;if(i&&i instanceof ee&&i.valueOf)i=i.valueOf();else if(typeof i=="string"&&(s==="base"||s==="case")){const a=/[\u0300-\u036f]/g;s==="base"&&(i=Cu(i,n)),i=i.normalize("NFD").replace(a,"")}if(typeof i=="string"&&!(e||s==="case"||s==="variant")){var r;const a=n==null||(r=n.locale)===null||r===void 0?void 0:r.toLowerCase();return(a&&!!["hy","el"].find((c=>a===c||a.startsWith(`${c}-`)))?gx:Cu)(i,n)}return i},Su=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}];let Hn=function(){const i=this;this._state="pending",this._promise={},Su.forEach((function(e){const t=e.method;this[`${t}Callbacks`]=Ee(),this[t]=(function(){return this[`${t}With`](this._promise,arguments)}).bind(this),this._promise[e.handler]=function(n){if(!n)return this;const s=i[`${t}Callbacks`];return s.fired()?n.apply(i[`${t}Context`],i[`${t}Args`]):s.add((function(o,r){n.apply(o,r)})),this}}).bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(e,t){const n=new Hn;return["done","fail"].forEach((function(s){const o=s==="done"?e:t;this[s]((function(){if(!o){n[s==="done"?"resolve":"reject"].apply(this,arguments);return}const r=o&&o.apply(this,arguments);Ho(r)?r.done(n.resolve).fail(n.reject):Ri(r)?r.then(n.resolve,n.reject):n.resolve.apply(this,y(r)?[r]:arguments)}))}).bind(this)),n.promise()},this._promise.state=function(){return i._state},this._promise.promise=function(e){return e?I(e,i._promise):i._promise},this._promise.promise(this)};Su.forEach((function(i){const e=i.method,{state:t}=i;Hn.prototype[`${e}With`]=function(n,s){const o=this[`${e}Callbacks`];return this.state()==="pending"&&(this[`${e}Args`]=s,this[`${e}Context`]=n,t&&(this._state=t),o.fire(n,s),t!=="pending"&&(this.resolveCallbacks.empty(),this.rejectCallbacks.empty())),this}}));function Qt(i,e){if(Ho(i))return i;if(Ri(i)){const t=new Hn;return i.then((function(){t.resolveWith.apply(t,[e].concat([[].slice.call(arguments)]))}),(function(){t.rejectWith.apply(t,[e].concat([[].slice.call(arguments)]))})),t}return new Hn().resolveWith(e,[i])}let xx=function(){if(arguments.length===1)return Qt(arguments[0]);const i=[].slice.call(arguments),e=[];let t=0;const n=new Hn,s=function(o){return function(r){e[o]=this,i[o]=arguments.length>1?[].slice.call(arguments):r,t++,t===i.length&&n.resolveWith(e,i)}};for(let o=0;o<i.length;o++)Ho(i[o])?i[o].promise().done(s(o)).fail(n.reject):t++;return t===i.length&&n.resolveWith(e,i),n.promise()};function A(){return new Hn}function Ie(){return xx.apply(this,arguments)}const Go=new A,Be=function(i,e){return y(i)?i:e},Eu=function(i,e){const t=new A,n=e||this,s={promise:t.promise(),abort(){clearTimeout(o),t.rejectWith(n)}},o=(arguments[2]||setTimeout)((function(){const r=i.call(n);r&&r.done&&L(r.done)?r.done((function(){t.resolveWith(n)})):t.resolveWith(n)}),typeof e=="number"?e:0);return s},Va=[],Iu=[],Ds=[];let Nn;const Ko=function(i,e,t){if(Nn&&Nn!==i)return Va.push(e),Iu.push(i),t=t||new A,Ds.push(t),t;const n=Nn,s=Ds.length;Nn=i;let o=e();return o||(Ds.length>s?o=Ie.apply(this,Ds.slice(s)):t&&t.resolve()),Nn=n,t&&o&&o.done&&o.done(t.resolve).fail(t.reject),!Nn&&Va.length&&(Iu.shift()==="render"?Pi:Ts)(Va.shift(),Ds.shift()),o||Ie()},Pi=function(i,e){return Ko("render",i,e)},Ts=function(i,e){return Ko("update",i,e)},Wn=function(i){return function(){const e=this;return Ko("render",(function(){return i.call(e)}))}},La=function(i){return function(){const e=this;return Ko("update",(function(){return i.call(e)}))}},Fa=(i,e,t)=>{const n=[];let s=0;return S(e,((o,r)=>{let a=0;const l=t?t(r):r;S(i,((c,d)=>{const h=l[c];if(h!==void 0){if(yx(h,d)){a++;return}return a=-1,!1}})),!(a<s)&&(a>s&&(n.length=0,s=a),n.push(r))})),n},yx=function(i,e){if(Array.isArray(i)&&Array.isArray(e)){let t=!1;return S(i,((n,s)=>{if(s!==e[n])return t=!0,!1})),!t}return i===e},zn=function(i){switch(gt(i)){case"string":return i.split(/\s+/,2);case"object":return[i.x??i.h,i.y??i.v];case"number":return[i];case"array":return i;default:return null}},Cx=function(i){let e=le(i)?i:i.toString();const t=e.match(/[^a-zA-Z0-9_]/g);return t&&S(t,((n,s)=>{e=e.replace(s,`__${s.charCodeAt()}__`)})),e},bx=function(i){const e=i.match(/__\d+__/g);return e&&e.forEach((t=>{const n=parseInt(t.replace("__",""));i=i.replace(t,String.fromCharCode(n))})),i},Ha=function(i,e){const t=zn(i);let n=e?parseFloat(t&&t[0]):parseInt(t&&t[0],10),s=e?parseFloat(t&&t[1]):parseInt(t&&t[1],10);return isFinite(n)||(n=0),isFinite(s)||(s=n),{h:n,v:s}},Gn=function(i){if(i instanceof $e)return i.toString();if(X(i)||Array.isArray(i))try{const e=JSON.stringify(i);return e==="{}"?i:e}catch{return i}return i},pi=function(i){return i.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},wu=function(i){const e=ce().serverDecimalSeparator;return y(i)&&(i=i.toString().replace(".",e)),i},M=function(){},Sx=function(){return new A().resolve().promise()},St=function(i,e,t){const n=[];let s;const o=!t;for(let r=0;r<i.length;r++)s=!!e(i[r],r),s===o&&n.push(i[r]);return n},Ex=(i,e,t,n)=>i.length!==e.length?!1:!i.some(((s,o)=>!Na(s,e[o],t+1,C({},n,{strict:!0})))),Ix=(i,e,t,n)=>{const s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;const r=new Set(o);return!s.some((a=>!r.has(a)||!Na(i[a],e[a],t+1,n)))},Du={maxDepth:3,strict:!0},Na=(i,e,t,n)=>{const{strict:s,maxDepth:o}=n,r=hi(i,!0),a=hi(e,!0),l=s?r===a:r==a;switch(!0){case l:case t>=o:return!0;case(X(r)&&X(a)):return Ix(r,a,t,n);case(Array.isArray(r)&&Array.isArray(a)):return Ex(r,a,t,n);default:return!1}},cn=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Du;const n=C({},Du,t);return Na(i,e,0,n)},Tu={ensureDefined:Be,executeAsync:Eu,deferRender:Pi,deferUpdate:Ts,deferRenderer:Wn,deferUpdater:La,findBestMatches:Fa,splitPair:zn,normalizeKey:Cx,denormalizeKey:bx,pairToObject:Ha,getKeyHash:Gn,escapeRegExp:pi,applyServerDecimalSeparator:wu,noop:M,asyncNoop:Sx,grep:St,equalByValue:cn};let Uo=null;function Au(i){try{return new CSSStyleSheet}catch{const t=i.ownerDocument.createElement("style");return i.appendChild(t),t.sheet}}function Ou(i,e,t){for(let n=0;n<e.length;n++){const s=e[n];try{for(let o=0;o<s.cssRules.length;o++)wx(i,s.cssRules[o],t)}catch{}}}function wx(i,e,t){var n,s,o,r;(t||((n=e.selectorText)===null||n===void 0?void 0:n.includes("dx-"))||((s=e.cssRules)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.selectorText)===null||s===void 0?void 0:s.includes("dx-"))||((o=e.name)===null||o===void 0?void 0:o.startsWith("dx-"))||((r=e.style)===null||r===void 0?void 0:r.fontFamily)==="DXIcons")&&i.insertRule(e.cssText,i.cssRules.length)}const Wa=new WeakMap;function Dx(i){let e=2166136261;for(const t of i){if(Wa.has(t)){e^=Wa.get(t);continue}let n=2166136261;try{for(const s of t.cssRules){const o=s.cssText;for(let r=0;r<o.length;r++)n^=o.charCodeAt(r),n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24)}}catch{}n>>>=0,Wa.set(t,n),e^=n}return e>>>0}const ku=new WeakMap;function Tx(i){var e;if(!ce().copyStylesToShadowDom)return;const t=i.get(0),n=(e=t.getRootNode)===null||e===void 0?void 0:e.call(t);if(!(n!=null&&n.host))return;Uo||(Uo=Au(n),Ou(Uo,t.ownerDocument.styleSheets,!1));const s=Dx(n.styleSheets);if(ku.get(n)===s)return;ku.set(n,s);const o=Au(n);Ou(o,n.styleSheets,!0),n.adoptedStyleSheets=[Uo,o]}function Ax(i,e,t){var n;const s=(n=i.getBoundingClientRect)===null||n===void 0?void 0:n.call(i);return s&&e>=s.left&&e<s.right&&t>=s.top&&t<s.bottom}function Ox(){let i=0;const e=[];return{push(t){return e.push(t),this},shift(){return i++,e[i-1]},get length(){return e.length-i},get items(){return e}}}function kx(i,e,t){const n=Ox().push(t);for(;n.length;){const o=n.shift();for(let r=0;r<o.childNodes.length;r++){const a=o.childNodes[r];a.nodeType===Node.ELEMENT_NODE&&Ax(a,i,e)&&getComputedStyle(a).pointerEvents!=="none"&&n.push(a)}}const s=n.items.reverse();return s.pop(),s}const D=Gt({querySelectorAll:(i,e)=>i.querySelectorAll(e),elementMatches(i,e){return(i.matches||i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector||(n=>{const s=i.document||i.ownerDocument;if(!s)return!1;const o=this.querySelectorAll(s,n);for(let r=0;r<o.length;r++)if(o[r]===i)return!0})).call(i,e)},createElement(i,e){return e=e??this._document,e.createElement(i)},createElementNS(i,e,t){return t=t||this._document,t.createElementNS(i,e)},createTextNode(i,e){return e=e||this._document,e.createTextNode(i)},createAttribute(i,e){return e=e||this._document,e.createAttribute(i)},isNode:i=>!!i&&typeof i=="object"&&"nodeType"in i&&"nodeName"in i,isElementNode:i=>!!i&&i.nodeType===1,isTextNode:i=>i&&i.nodeType===3,isDocument:i=>i&&i.nodeType===9,isDocumentFragment:i=>i&&i.nodeType===11,removeElement(i){const e=i&&i.parentNode;e&&e.removeChild(i)},insertElement(i,e,t){i&&e&&i!==e&&(t?i.insertBefore(e,t):i.appendChild(e))},getAttribute:(i,e)=>i.getAttribute(e),setAttribute(i,e,t){e==="style"?i.style.cssText=t:i.setAttribute(e,t)},removeAttribute(i,e){i.removeAttribute(e)},setProperty(i,e,t){i[e]=t},setText(i,e){i&&(i.textContent=e)},setClass(i,e,t){i.nodeType===1&&e&&(t?i.classList.add(e):i.classList.remove(e))},setStyle(i,e,t){i.style[e]=t||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(i){return this.getRootNode(i).activeElement},getRootNode(i){var e;return(i==null||(e=i.getRootNode)===null||e===void 0?void 0:e.call(i))??this._document},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(i){return i in this._document},listen(i,e,t,n){return!i||!("addEventListener"in i)?M:(i.addEventListener(e,t,n),()=>{i.removeEventListener(e,t)})},elementsFromPoint(i,e,t){const n=this.getRootNode(t);return n.host?kx(i,e,n):n.elementsFromPoint(i,e)}}),mi=function(i){let e,t=function(){return e=i.apply(this,arguments),t=function(){return e},e};return function(){return t.apply(this,arguments)}};let za=typeof window<"u";const te=()=>za;let $i=te()?window:void 0;$i||($i={},$i.window=$i);const we=()=>$i,Mx=(i,e)=>{e===void 0?za=typeof window<"u"&&window===i:za=e,$i=i},Ga=i=>te()&&i in $i,jo=i=>i<768?"xs":i<992?"sm":i<1200?"md":"lg",Ka=i=>{const e=i||jo,t=D.getDocumentElement().clientWidth;return e(t)},As=()=>{var i;return te()?(i=$i)===null||i===void 0?void 0:i.navigator:{userAgent:""}},ot={defaultScreenFactorFunc:jo,getCurrentScreenFactor:Ka,getNavigator:As,getWindow:we,hasProperty:Ga,hasWindow:te,setWindow:Mx},qo="dxEmptyEventType",Mu={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},Rx={focusin:"focus",focusout:"blur"},Px=["blur","focus","load"],Ru=["touchmove","wheel","mousewheel","touchstart"],$x=["altKey","altitudeAngle","azimuthAngle","bubbles","button","buttons","cancelable","cancelBubble","changedTouches","char","charCode","clipboardData","code","composed","ctrlKey","defaultPrevented","delegateTarget","deltaMode","deltaX","deltaY","deltaZ","detail","eventPhase","height","isComposing","isPrimary","key","keyCode","layerX","layerY","location","metaKey","movementX","movementY","offsetX","offsetY","pointerId","pointerType","pressure","relatedTarget","repeat","returnValue","srcElement","shiftKey","tangentialPressure","target","targetTouches","tiltX","tiltY","toElement","touches","twist","view","width","x","y"],Ua=we();function Bx(i,e){return!Ve(i)&&i.nodeName!=="#document"&&D.elementMatches(i,e)}const ja=new WeakMap;let Pu=0,Yo;const Bi=(function(){const i={};return Ma.add(((e,t)=>{i[e]=t})),{getField:(e,t)=>i[e]&&i[e][t],callMethod:(e,t,n,s)=>i[e]&&i[e][t]&&i[e][t].apply(n,s)}})(),_=Gt({on:Os(Ya(Fu(((i,e,t,n,s)=>{Kn(i,e).addHandler(s,t,n)})))),one:Os(Ya(((i,e,t,n,s)=>{const o=function(){_.off(i,e,t,o),s.apply(this,arguments)};_.on(i,e,t,n,o)}))),off:Os(Fx(Fu(((i,e,t,n)=>{Kn(i,e).removeHandler(n,t)})))),trigger:Os(Lu(((i,e,t)=>{const n=e.type,s=Kn(i,e.type);if(Bi.callMethod(n,"trigger",i,[e,t]),s.callHandlers(e,t),!(Bi.getField(n,"noBubble")||e.isPropagationStopped()||Px.includes(n))){const r=[],a=function(c){const d=c.parentNode??(X(c.host)?c.host:null);d&&(r.push(d),a(d))};a(i),r.push(Ua);let l=0;for(;r[l]&&!e.isPropagationStopped();)Kn(r[l],e.type).callHandlers(I(e,{currentTarget:r[l]}),t),l++}(i.nodeType||Ve(i))&&(Bi.callMethod(n,"_default",i,[e,t]),Nx(n,i))}))),triggerHandler:Os(Lu(((i,e,t)=>{Kn(i,e.type).callHandlers(e,t)})))});function qa(i,e){const t=i[0];if(t)if(D.isNode(t)||Ve(t))e.apply(_,i);else if(!le(t)&&"length"in t){const n=Array.prototype.slice.call(i,0);Array.prototype.forEach.call(t,(s=>{n[0]=s,qa(n,e)}))}else throw he.Error("E0025")}function Os(i){return function(){qa(arguments,i)}}function Vx(){let i=!1;try{const e=Object.defineProperty({},"passive",{get(){return i=!0,!0}});Ua.addEventListener("test",null,e)}catch{}return i}const $u=mi(Vx),Bu=(i,e)=>Ve(i)?Bu(i.document,e):i.contains?i.contains(e):!!(e.compareDocumentPosition(i)&e.DOCUMENT_POSITION_CONTAINS);function Kn(i,e){let t=ja.get(i);e=e||"";const n=e.split("."),s=n.slice(1),o=!!n[0];e=n[0]||qo,t||(t={},ja.set(i,t)),t[e]||(t[e]={handleObjects:[],nativeHandler:null});const r=t[e];return{addHandler(a,l,c){const d=function(f,v){const b=[f],w=f.currentTarget,{relatedTarget:T}=f;let H,N;e in Mu&&(H=T&&w&&(T===w||Bu(w,T))),v!==void 0&&b.push(v),Bi.callMethod(e,"handle",i,[f,c]),H||(N=a.apply(w,b)),N===!1&&(f.preventDefault(),f.stopPropagation())},h={handler:a,wrappedHandler:function(f,v){if(!(Yo&&f.type===Yo))if(f.data=c,f.delegateTarget=i,l){let w=f.target;for(;w&&w!==i;)Bx(w,l)&&(f.currentTarget=w,d(f,v)),w=w.parentNode}else{var b;if(f.currentTarget=f.delegateTarget||f.target,!!(!((b=f.target)===null||b===void 0)&&b.shadowRoot)){const T=Ra(f);f.target=T}d(f,v)}},selector:l,type:e,data:c,namespace:s.join("."),namespaces:s,guid:++Pu};r.handleObjects.push(h);let m=r.handleObjects.length===1&&o,g;m&&(m=!Bi.callMethod(e,"setup",i,[c,s,a])),m&&(r.nativeHandler=Lx(e),$u()&&Ru.includes(e)&&(g={passive:!1}),r.removeListener=D.listen(i,Mu[e]||e,r.nativeHandler,g)),Bi.callMethod(e,"add",i,[h])},removeHandler(a,l){const c=function(h){const p=t[h];if(!p.handleObjects.length){delete t[h];return}let m;p.handleObjects=p.handleObjects.filter((v=>{const b=s.length&&!Vu(v.namespaces,s)||a&&v.handler!==a||l&&v.selector!==l;return b||(m=v.handler,Bi.callMethod(h,"remove",i,[v])),b})),!p.handleObjects.length&&h!==qo&&(Bi.callMethod(h,"teardown",i,[s,m]),p.nativeHandler&&p.removeListener(),delete t[h])};if(o)c(e);else for(const h in t)c(h);Object.keys(t).length===0&&ja.delete(i)},callHandlers(a,l){let c=!1;const d=function(h){c||(!s.length||Vu(h.namespaces,s))&&(h.wrappedHandler(a,l),c=a.isImmediatePropagationStopped())};r.handleObjects.forEach(d),s.length&&t[qo]&&t[qo].handleObjects.forEach(d)}}}function Lx(i){return function(e,t){const n=Kn(this,i);e=_.Event(e),n.callHandlers(e,t)}}function Vu(i,e){for(let t=0;t<e.length;t++)if(i.indexOf(e[t])<0)return!1;return!0}function Ya(i){return function(e,t,n,s,o){o||(o=s,s=void 0),typeof n!="string"&&(s=n,n=void 0),!o&&typeof t=="string"&&(o=s||n,n=void 0,s=void 0),i(e,t,n,s,o)}}function Fx(i){return function(e,t,n,s){typeof n=="function"&&(s=n,n=void 0),i(e,t,n,s)}}function Lu(i){return function(e,t,n){typeof t=="string"&&(t={type:t}),t.target||(t.target=e),t.currentTarget=e,t.delegateTarget||(t.delegateTarget=e),!t.type&&t.originalEvent&&(t.type=t.originalEvent.type),i(e,t instanceof _.Event?t:_.Event(t),n)}}function Hx(i){return _.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e||(e={}),typeof e=="string"&&(e={type:e}),t||(t={}),i.call(this,e,t)},Object.assign(_.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped(){return this._immediatePropagationStopped},stopImmediatePropagation(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),_.Event}function Fu(i){const e=function(t,n){if(n&&n.indexOf(" ")>-1){const s=Array.prototype.slice.call(arguments,0);n.split(" ").forEach((function(o){s[1]=o,i.apply(this,s)}))}else i.apply(this,arguments)};return function(t,n){if(typeof n=="object"){const s=Array.prototype.slice.call(arguments,0);for(const o in n)s[1]=o,s[s.length-1]=n[o],e.apply(this,s)}else e.apply(this,arguments)}}function Nx(i,e){const t=Rx[i]||i;(function(n,s){return n==="click"&&s.localName==="a"})(i,e)||L(e[t])&&(Yo=i,e[t](),Yo=void 0)}function Wx(i){return(function(e){return e.which==null&&e.type.indexOf("key")===0})(i)?i.charCode!=null?i.charCode:i.keyCode:(function(e){return!e.which&&e.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)})(i)?{1:1,2:3,3:1,4:2}[i.button]:i.which}function Hu(i){i&&(_.Event=i,_.Event.prototype=i.prototype)}Hu(Hx((function(i,e){var t;i instanceof _.Event||te()&&i instanceof Ua.Event||((t=i.view)===null||t===void 0?void 0:t.Event)&&i instanceof i.view.Event?(this.originalEvent=i,this.type=i.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(i,"isTrusted")&&(this.isTrusted=i.isTrusted),this.timeStamp=i.timeStamp||Date.now()):Object.assign(this,i),Xa("which",Wx,this),i.type.indexOf("touch")===0&&(delete e.pageX,delete e.pageY),Object.assign(this,e),this.guid=++Pu})));function Xa(i,e,t){Object.defineProperty(t||_.Event.prototype,i,{enumerable:!0,configurable:!0,get(){return this.originalEvent&&e(this.originalEvent)},set(n){Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:n})}})}$x.forEach((i=>Xa(i,(e=>e[i])))),j0(Xa);const Nu=Ee(),Wu=Ee();_.set=function(i){Nu.fire(),_.inject(i),Hu(i.Event),Wu.fire()},_.subscribeGlobal=function(){qa(arguments,Ya((function(){const i=arguments;_.on.apply(this,i),Nu.add((function(){const e=Array.prototype.slice.call(i,0);e.splice(3,1),_.off.apply(this,e)})),Wu.add((function(){_.on.apply(this,i)}))})))},_.forcePassiveFalseEventNames=Ru,_.passiveEventHandlersSupported=$u;const zu=new ka,ks=new WeakMap;let dn;const zx=new ka;let Gu=function(){};(function(i){zx.fire(i),dn=i;const{cleanData:e}=dn;dn.cleanData=function(t){return Gu(t),e.call(this,t)}})({data:function(){const i=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],t=arguments.length<=2?void 0:arguments[2];if(!i)return;let n=ks.get(i);return n||(n={},ks.set(i,n)),e===void 0?n:arguments.length===2?n[e]:(n[e]=t,t)},removeData:function(i,e){if(i)if(e===void 0)ks.delete(i);else{const t=ks.get(i);t&&delete t[e]}},cleanData:function(i){for(let e=0;e<i.length;e++)_.off(i[e]),ks.delete(i[e])}});function Pe(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return dn.data.apply(this,e)}function Gx(i){Gu=i}function Xo(i,e){return dn.removeData.call(this,i,e)}function Ms(i,e){if(!D.isElementNode(i))return;const t=i.getElementsByTagName("*");dn.cleanData(t),e&&dn.cleanData([i])}const Ku=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,ei={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};ei.tbody=ei.colgroup=ei.caption=ei.tfoot=ei.thead,ei.th=ei.td;const Za=function(i){if(typeof i!="string")return null;let t=D.createDocumentFragment().appendChild(D.createElement("div"));const n=Ku.exec(i),s=n?.[1].toLowerCase(),o=ei[s]||ei.default;t.innerHTML=o.startTags+i+o.endTags;for(let r=0;r<o.tagsCount;r++)t=t.lastChild;return[...t.childNodes]},Kx=function(i){const e=Ku.exec(i);return e&&e[1]in ei},Ja=we(),Ux=["auto","none","inherit","initial"],Qa=function(i,e){let t=0;return e.forEach((function(n){t+=parseFloat(i[n])||0})),t},Uu=function(i,e){const t=i==="width"?"Left":"Top",n=i==="width"?"Right":"Bottom";return{padding:Qa(e,[`padding${t}`,`padding${n}`]),border:Qa(e,[`border${t}Width`,`border${n}Width`]),margin:Qa(e,[`margin${t}`,`margin${n}`])}},ju=function(i){var e;const t=(i==null||(e=i.ownerDocument)===null||e===void 0?void 0:e.defaultView)||Ja;return t.getComputedStyle&&t.getComputedStyle(i)},el=function(i,e,t,n){var s;return e?.[t]||((s=i.style)===null||s===void 0?void 0:s[t])||n},Un={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},qu={width:["left","right"],height:["top","bottom"]};function Rs(i,e,t,n){const s=(r,a,l)=>parseFloat(el(r,a,l,"0"))||0,o=t==="border"?"-width":"";return s(i,n,`${t}-${qu[e][0]}${o}`)+s(i,n,`${t}-${qu[e][1]}${o}`)}const jx=function(i,e,t){const n=e==="width"?"offsetWidth":"offsetHeight",s=ju(i);let o=el(i,s,e);(o===""||o==="auto")&&(o=i[n]),o=parseFloat(o)||0;const r=el(i,s,"boxSizing","content-box");let l=Un[t||r],c=Un[r];if(l===void 0||c===void 0)throw new Error;if(c===l)return o;const d=Math.sign(l-c);let h=!1,p=!1,m=!1,g=!1;d===1&&(l+=1,c+=1);for(let f=c;f!==l;f+=d)switch(f){case Un.content:break;case Un.padding:h=d*Rs(i,e,"padding",s);break;case Un.border:p=d*Rs(i,e,"border",s);break;case Un.margin:m=d*Rs(i,e,"margin",s)}if(h||p){const f=(h===!1?d*Rs(i,e,"padding",s):h)+(p===!1?d*Rs(i,e,"border",s):p);g=d*Math.max(0,Math.floor(i[n]-o-d*f))||0}return o+m+h+p+g},qx=function(i){return Ve(i)?i.innerHeight:i.offsetHeight},Yx=function(i,e,t){return i.indexOf("px")>0?i=parseInt(i.replace("px","")):i.indexOf("%")>0?i=parseInt(i.replace("%",""))*qx(e)/100:isNaN(i)?i.indexOf("vh")>0&&(i=Ja.innerHeight/100*parseInt(i.replace("vh",""))):i=parseInt(i),i},Yu=function(i,e,t){if(!i)return null;if(Ux.includes(i))return e?null:i;if(le(i)&&(i=Yx(i,t)),Le(i))return Math.max(0,i+e);const n=e<0?" - ":" ";return`calc(${i}${n}${Math.abs(e)}px)`},Xx=function(i,e,t){const n=Yu(i,e,t);return n!==null?n:"none"},Zx=function(i,e,t){const n=Yu(i,e,t);return n!==null?n:0},tl=function(i,e){if(!i)return 0;const t=Uu("height",Ja.getComputedStyle(i));return t.padding+t.border+(e?t.margin:0)},Xu=function(i){if(i){var e;const t=(e=i.getBoundingClientRect)===null||e===void 0?void 0:e.call(i);if(t!=null&&t.height)return t.height}return 0},un={getWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("width",...e)},setWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("width",...e)},getHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("height",...e)},setHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("height",...e)},getOuterWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("outerWidth",...e)},setOuterWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("outerWidth",...e)},getOuterHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("outerHeight",...e)},setOuterHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("outerHeight",...e)},getInnerWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("innerWidth",...e)},setInnerWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("innerWidth",...e)},getInnerHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("innerHeight",...e)},setInnerHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return At("innerHeight",...e)}};function At(i,e,t){return arguments.length===2?il(e,i):il(e,i,t)}const me=i=>un.getWidth(i),Oe=i=>un.getHeight(i),Jx=(i,e)=>un.setHeight(i,e),Ue=(i,e)=>un.getOuterWidth(i,e||!1),He=(i,e)=>un.getOuterHeight(i,e||!1),Zu=i=>un.getInnerWidth(i),Ju=i=>un.getInnerHeight(i),il=function(i,e,t){const n=e.toLowerCase().indexOf("width")>=0?"Width":"Height",s=n.toLowerCase(),o=e.indexOf("outer")===0,r=e.indexOf("inner")===0,a=arguments.length===2||typeof t=="boolean";if(Mi(i)){if(i.length>1&&!a){for(let l=0;l<i.length;l++)il(i[l],e,t);return}i=i[0]}if(i){if(Ve(i))return o?i[`inner${n}`]:D.getDocumentElement()[`client${n}`];if(D.isDocument(i)){const l=D.getDocumentElement(),c=D.getBody();return Math.max(c[`scroll${n}`],c[`offset${n}`],l[`scroll${n}`],l[`offset${n}`],l[`client${n}`])}if(a){let l="content";return o&&(l=t?"margin":"border"),r&&(l="padding"),jx(i,s,l)}if(Le(t)){const l=ju(i),c=Uu(s,l),d=l.boxSizing==="border-box";t=Number(t),o?t-=d?0:c.border+c.padding:r?t+=d?c.border:-c.padding:d&&(t+=c.border+c.padding)}return t+=Le(t)?"px":"",D.setStyle(i,s,t),null}},Qu=i=>Ve(i)?i:i.defaultView,nl=i=>{if(!i.getClientRects().length)return{top:0,left:0};const e=i.getBoundingClientRect(),t=Qu(i.ownerDocument),n=i.ownerDocument.documentElement;return{top:e.top+t.pageYOffset-n.clientTop,left:e.left+t.pageXOffset-n.clientLeft}},eh=function(i){return i==null?"":String(i)},sl=function(i){return eh(i).charAt(0).toUpperCase()+i.substr(1)},ol=function(i){return eh(i).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},th=function(i){return qe(ol(i),(function(e){return e.toLowerCase()})).join("-")},Ps=function(i,e){return qe(ol(i),(function(t,n){return t=t.toLowerCase(),(e||n>0)&&(t=sl(t)),t})).join("")},Qx=function(i){return sl(th(i).replace(/-/g," "))},$s=function(i){return qe(ol(i),(function(e){return sl(e.toLowerCase())})).join(" ")},ey=["0","1","2","3","4","5","6","7","8","9"],ih=function(i){const e=[];let t,n,s=!1,o=!1;for(t=0;t<i.length;t++)n=i.charAt(t),o=n===n.toUpperCase()&&n!=="-"&&n!==")"&&n!=="/"||n in ey,n==="_"||n==="."?(n=" ",o=!0):t===0?(n=n.toUpperCase(),o=!0):!s&&o&&e.length>0&&e.push(" "),e.push(n),s=o;return e.join("")},Zo=["","Webkit","Moz","O","Ms"],ty={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},rl=mi((function(){return D.createElement("dx").style})),iy=function(i,e){i=Ps(i,!0);let t;for(let n=0,s=Zo.length;n<s;n++){const o=Zo[n],r=o+i,a=Ps(r);if(t=e(a,o),t===void 0&&(t=e(r,o)),t!==void 0)break}return t||""},hn=function(i){if(i in rl())return i;const e=i;i=i.charAt(0).toUpperCase()+i.substr(1);for(let t=1;t<Zo.length;t++){const n=Zo[t].toLowerCase()+i;if(n in rl())return n}return e},Jo=function(i){return iy(i,(function(e,t){if(e in rl())return ty[t]}))},ny=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],Bs=function(i,e){return Le(e)&&!ny.includes(i)&&(e+="px"),e},nh=function(i,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0)&&[].slice.call(i.style).forEach((s=>{i.style.removeProperty(s)})),e.split(";").forEach((n=>{const s=n.split(":").map((o=>o.trim()));if(s.length===2){const[o,r]=s;i.style[o]=r}}))},sy=we();let se;const U=function(i,e){return i?typeof i=="string"?i==="body"?(this[0]=e?e.body:D.getBody(),this.length=1,this):(e=e||D.getDocument(),i.startsWith("<")?(this[0]=D.createElement(i.slice(1,-1),e),this.length=1,this):([].push.apply(this,D.querySelectorAll(e,i)),this)):D.isNode(i)||Ve(i)?(this[0]=i,this.length=1,this):Array.isArray(i)?([].push.apply(this,i),this):se(i.toArray?i.toArray():[i]):(this.length=0,this)};se=function(i,e){return new U(i,e)},se.fn={dxRenderer:!0},U.prototype=se.fn;const jn=function(i,e){for(let t=0;t<this.length;t++){const n=se(this[t]);n[i].apply(n,e)}return this},al=function(i,e,t){t!=null&&t!==!1?D.setAttribute(i,e,t):D.removeAttribute(i,e)};U.prototype.show=function(){return this.toggle(!0)},U.prototype.hide=function(){return this.toggle(!1)},U.prototype.toggle=function(i){return this[0]&&this.toggleClass("dx-state-invisible",!i),this},U.prototype.attr=function(i,e){if(this.length>1&&arguments.length>1)return jn.call(this,"attr",arguments);if(!this[0])return X(i)||e!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(i,e);if(typeof i=="string"&&arguments.length===1){const t=this[0].getAttribute(i);return t??void 0}if(J(i))for(const t in i)this.attr(t,i[t]);else al(this[0],i,e);return this},U.prototype.removeAttr=function(i){return this.each((function(e,t){D.removeAttribute(t,i)})),this},U.prototype.prop=function(i,e){if(!this[0])return this;if(typeof i=="string"&&arguments.length===1)return this[0][i];if(J(i))for(const t in i)this.prop(t,i[t]);else D.setProperty(this[0],i,e);return this},U.prototype.addClass=function(i){return this.toggleClass(i,!0)},U.prototype.removeClass=function(i){return this.toggleClass(i,!1)},U.prototype.hasClass=function(i){if(!this[0]||this[0].className===void 0)return!1;const e=i.split(" ");for(let t=0;t<e.length;t++)if(this[0].classList){if(this[0].classList.contains(e[t]))return!0}else if(((le(this[0].className)?this[0].className:D.getAttribute(this[0],"class"))||"").split(" ").indexOf(e[t])>=0)return!0;return!1},U.prototype.toggleClass=function(i,e){if(this.length>1)return jn.call(this,"toggleClass",arguments);if(!this[0]||!i)return this;e=e===void 0?!this.hasClass(i):e;const t=i.split(" ");for(let n=0;n<t.length;n++)D.setClass(this[0],t[n],e);return this},U.prototype.html=function(i){return arguments.length?(this.empty(),typeof i=="string"&&!Kx(i)||typeof i=="number"?(this[0].innerHTML=i,this):this.append(Za(i))):this[0].innerHTML};const sh=function(i,e){if(!(!this[0]||!i)){typeof i=="string"?i=Za(i):i.nodeType?i=[i]:Le(i)&&(i=[D.createTextNode(i)]);for(let t=0;t<i.length;t++){const n=i[t];let s=this[0];s.tagName==="TABLE"&&n.tagName==="TR"&&s.tBodies&&s.tBodies.length&&(s=s.tBodies[0]),D.insertElement(s,n.nodeType?n:n[0],e)}}},oh=function(i,e){if(!(!this[0]||!this[0].style)&&!(e===null||typeof e=="number"&&isNaN(e))){i=hn(i);for(let t=0;t<this.length;t++)this[t].style[i]=Bs(i,e)}};U.prototype.css=function(i,e){if(le(i))if(arguments.length===2)oh.call(this,i,e);else{if(!this[0])return;i=hn(i);const t=sy.getComputedStyle(this[0])[i]||this[0].style[i];return Le(t)?t.toString():t}else if(J(i))for(const t in i)oh.call(this,t,i[t]);return this},U.prototype.prepend=function(i){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return sh.apply(this,[i,this[0].firstChild]),this},U.prototype.append=function(i){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return sh.apply(this,[i]),this},U.prototype.prependTo=function(i){if(this.length>1){for(let e=this.length-1;e>=0;e--)se(this[e]).prependTo(i);return this}return i=se(i),i[0]&&D.insertElement(i[0],this[0],i[0].firstChild),this},U.prototype.appendTo=function(i){return this.length>1?jn.call(this,"appendTo",arguments):(D.insertElement(se(i)[0],this[0]),this)},U.prototype.insertBefore=function(i){return i&&i[0]&&D.insertElement(i[0].parentNode,this[0],i[0]),this},U.prototype.insertAfter=function(i){return i&&i[0]&&D.insertElement(i[0].parentNode,this[0],i[0].nextSibling),this},U.prototype.before=function(i){return this[0]&&D.insertElement(this[0].parentNode,i[0],this[0]),this},U.prototype.after=function(i){return this[0]&&D.insertElement(this[0].parentNode,i[0],this[0].nextSibling),this},U.prototype.wrap=function(i){if(this[0]){const e=se(i);e.insertBefore(this),e.append(this)}return this},U.prototype.wrapInner=function(i){const e=this.contents();return e.length?e.wrap(i):this.append(i),this},U.prototype.replaceWith=function(i){if(i&&i[0])return i.is(this)?this:(i.insertBefore(this),this.remove(),i)},U.prototype.remove=function(){return this.length>1?jn.call(this,"remove",arguments):(Ms(this[0],!0),D.removeElement(this[0]),this)},U.prototype.detach=function(){return this.length>1?jn.call(this,"detach",arguments):(D.removeElement(this[0]),this)},U.prototype.empty=function(){return this.length>1?jn.call(this,"empty",arguments):(Ms(this[0]),D.setText(this[0],""),this)},U.prototype.clone=function(){const i=[];for(let e=0;e<this.length;e++)i.push(this[e].cloneNode(!0));return se(i)},U.prototype.text=function(i){if(!arguments.length){let t="";for(let n=0;n<this.length;n++)t+=this[n]&&this[n].textContent||"";return t}const e=L(i)?i():i;return Ms(this[0],!1),D.setText(this[0],y(e)?e:""),this},U.prototype.val=function(i){return arguments.length===1?this.prop("value",y(i)?i:""):this.prop("value")},U.prototype.contents=function(){if(!this[0])return se();const i=[];return i.push.apply(i,this[0].childNodes),se(i)},U.prototype.find=function(i){const e=se();if(!i)return e;const t=[];let n;if(typeof i=="string")for(i=i.trim(),n=0;n<this.length;n++){const s=this[n];if(D.isElementNode(s)){const o=s.getAttribute("id");let r=o||"dx-query-children";o||al(s,"id",r),r=`[id='${r}'] `;const a=r+i.replace(/([^\\])(,)/g,`$1, ${r}`);t.push.apply(t,D.querySelectorAll(s,a)),al(s,"id",o)}else(D.isDocument(s)||D.isDocumentFragment(s))&&t.push.apply(t,D.querySelectorAll(s,i))}else for(n=0;n<this.length;n++)i=D.isNode(i)?i:i[0],this[n]!==i&&this[n].contains(i)&&t.push(i);return e.add(t)};const rh=function(i,e){var t,n;return e=e.host??e,e.nodeType?!!(e.offsetWidth||e.offsetHeight||(t=(n=e).getClientRects)!==null&&t!==void 0&&t.call(n).length):!0};U.prototype.filter=function(i){if(!i)return se();if(i===":visible")return this.filter(rh);if(i===":hidden")return this.filter((function(t,n){return!rh(0,n)}));const e=[];for(let t=0;t<this.length;t++){const n=this[t];if(D.isElementNode(n)&&gt(i)==="string")D.elementMatches(n,i)&&e.push(n);else if(D.isNode(i)||Ve(i))i===n&&e.push(n);else if(L(i))i.call(n,t,n)&&e.push(n);else for(let s=0;s<i.length;s++)i[s]===n&&e.push(n)}return se(e)},U.prototype.not=function(i){const e=[],t=this.filter(i).toArray();for(let n=0;n<this.length;n++)t.indexOf(this[n])===-1&&e.push(this[n]);return se(e)},U.prototype.is=function(i){return!!this.filter(i).length},U.prototype.children=function(i){let e=[];for(let t=0;t<this.length;t++){const n=this[t]?this[t].childNodes:[];for(let s=0;s<n.length;s++)D.isElementNode(n[s])&&e.push(n[s])}return e=se(e),i?e.filter(i):e},U.prototype.siblings=function(){const i=this[0];if(!i||!i.parentNode)return se();const e=[],t=i.parentNode.childNodes||[];for(let n=0;n<t.length;n++){const s=t[n];D.isElementNode(s)&&s!==i&&e.push(s)}return se(e)},U.prototype.each=function(i){for(let e=0;e<this.length&&i.call(this[e],e,this[e])!==!1;e++);},U.prototype.index=function(i){return i?(i=se(i),this.toArray().indexOf(i[0])):this.parent().children().index(this)},U.prototype.get=function(i){return this[i<0?this.length+i:i]},U.prototype.eq=function(i){return i=i<0?this.length+i:i,se(this[i])},U.prototype.first=function(){return this.eq(0)},U.prototype.last=function(){return this.eq(-1)},U.prototype.select=function(){for(let i=0;i<this.length;i+=1)this[i].select&&this[i].select();return this},U.prototype.parent=function(i){if(!this[0])return se();const e=se(this[0].parentNode);return!i||e.is(i)?e:se()},U.prototype.parents=function(i){const e=[];let t=this.parent();for(;t&&t[0]&&!D.isDocument(t[0]);)D.isElementNode(t[0])&&(!i||t.is(i))&&e.push(t.get(0)),t=t.parent();return se(e)},U.prototype.closest=function(i){if(this.is(i))return this;let e=this.parent();for(;e&&e.length;){if(e.is(i))return e;e=e.parent()}return se()},U.prototype.next=function(i){if(!this[0])return se();let e=se(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(i))return e;e=e.next()}return se()},U.prototype.prev=function(){return this[0]?se(this[0].previousSibling):se()},U.prototype.add=function(i){const e=se(i),t=this.toArray();for(let n=0;n<e.length;n++){const s=e[n];t.indexOf(s)===-1&&t.push(s)}return se(t)};const ll=[];U.prototype.splice=function(){return se(ll.splice.apply(this,arguments))},U.prototype.slice=function(){return se(ll.slice.apply(this,arguments))},U.prototype.toArray=function(){return ll.slice.call(this)},U.prototype.offset=function(){if(this[0])return nl(this[0])},U.prototype.offsetParent=function(){if(!this[0])return se();let i=se(this[0].offsetParent);for(;i[0]&&i.css("position")==="static";)i=se(i[0].offsetParent);return i=i[0]?i:se(D.getDocumentElement()),i},U.prototype.position=function(){if(!this[0])return;let i;const e=parseFloat(this.css("marginTop")),t=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return i=this[0].getBoundingClientRect(),{top:i.top-e,left:i.left-t};i=this.offset();const n=this.offsetParent();let s={top:0,left:0};return n[0].nodeName!=="HTML"&&(s=n.offset()),s={top:s.top+parseFloat(n.css("borderTopWidth")),left:s.left+parseFloat(n.css("borderLeftWidth"))},{top:i.top-s.top-e,left:i.left-s.left-t}},[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(i,e){i.scrollTo(e,i.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(i,e){i.scrollTo(i.pageXOffset,e)}}].forEach((function(i){const e=i.name;U.prototype[e]=function(t){if(!this[0])return;const n=Qu(this[0]);return t===void 0?n?n[i.offsetProp]:this[0][e]:(n?i.scrollWindow(n,t):this[0][e]=t,this)}})),U.prototype.data=function(i,e){if(this[0])return arguments.length<2?Pe.call(se,this[0],i):(Pe.call(se,this[0],i,e),this)},U.prototype.removeData=function(i){return this[0]&&Xo(this[0],i),this};const ah=function(){return se.apply(this,arguments)};Object.defineProperty(ah,"fn",{enumerable:!0,configurable:!0,get:function(){return se.fn},set:function(i){se.fn=i}});const u={set:function(i){se=i},get:function(){return ah}}.get(),Ot=function(i,e){const t={};"noBubble"in e&&(t.noBubble=e.noBubble),"bindType"in e&&(t.bindType=e.bindType),"delegateType"in e&&(t.delegateType=e.delegateType),S(["setup","teardown","add","remove","trigger","handle","_default","dispose"],((n,s)=>{e[s]&&(t[s]=function(){const o=[].slice.call(arguments);return o.unshift(this),e[s].apply(e,o)})})),Ma.fire(i,t)};Ot.callbacks=Ma;const pn="dxremove",cl="dxRemoveEvent";Gx((i=>{i=[].slice.call(i);for(let e=0;e<i.length;e++){const t=u(i[e]);t.prop(cl)&&(t[0][cl]=null,_.triggerHandler(t,"dxremove"))}})),Ot("dxremove",{noBubble:!0,setup(i){u(i).prop(cl,!0)}});const Qo=new WeakMap;let oy=0;const Vs=function(i,e){if(y(e)){Qo.set(i,e);return}if(!Qo.has(i)){const t="dxPrivateComponent"+oy++;return Qo.set(i,t),t}return Qo.get(i)};function lh(i,e,t){const n=Pe(i.get(0)),s=Vs(e.constructor);n[s]=e,t&&_.one(i,pn,(function(){t.call(e)})),n.dxComponents||(n.dxComponents=[]),n.dxComponents.push(s)}function ch(i,e){const t=Vs(e);return Pe(i.get(0),t)}const ve=function(i,e,t){t?e[i]=t:t=e,Vs(t,i),zu.fire(i,t)},ry=function(i,e){u.fn[i]=function(t){const n=typeof t=="string";let s;if(n){const o=t,r=[].slice.call(arguments).slice(1);this.each((function(){const a=e.getInstance(this);if(!a)throw he.Error("E0009",i);const c=a[o].apply(a,r);s===void 0&&(s=c)}))}else this.each((function(){const o=e.getInstance(this);o?o.option(t):new e(this,t)})),s=this;return s}};zu.add(ry);const De=Ba(he.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"});let ay=null;const er=function(i){var e;(e=ay)===null||e===void 0||e(i)};let dl=[];const ly=mi((()=>{const i=D.listen(D.getDocument(),"DOMContentLoaded",(()=>{dh.fire(),i()}))})),dh={add:i=>{const e=te();e&&D.getReadyState()!=="loading"?i():(dl.push(i),e&&ly())},fire:()=>{dl.forEach((i=>i())),dl=[]}},ti=Gt(dh),cy=ti.add,ul="DEVEXTREME_XHR_ERROR_UNLOAD",uh=function(i){return[i[0],i.length<3?"=":String(i[1]).toLowerCase(),i.length<2?!0:i[i.length-1]]},hl=function(i){return Array.isArray(i)||(i=[i]),qe(i,(e=>{const t={selector:L(e)||typeof e=="string"?e:e.getter||e.field||e.selector,desc:!!(e.desc||String(e.dir).charAt(0).toLowerCase()==="d")};return e.compare&&(t.compare=e.compare),t}))},hh=(function(){const i={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"};let e;return cy((()=>{const t=we();D.listen(t,"beforeunload",(()=>{e=!0}))})),function(t,n){return e?ul:t.status<400?(function(s){let o=i[s];return o||s})(n):t.statusText}})(),dy={count:{seed:0,step:i=>1+i},sum:{seed:0,step:(i,e)=>i+e},min:{step:(i,e)=>e<i?e:i},max:{step:(i,e)=>e>i?e:i},avg:{seed:[0,0],step:(i,e)=>[i[0]+e,i[1]+1],finalize:i=>i[1]?i[0]/i[1]:NaN}},uy=(function(){let i=0,e;return{obtain:function(){i===0&&(e=new A),i++},release:function(){i--,i<1&&e.resolve()},promise:function(){return(i===0?new A().resolve():e).promise()},reset:function(){i=0,e&&e.resolve()}}})();function ph(i){return/^(and|&&|&)$/i.test(i)}const tr=function(i,e,t){if(Array.isArray(i)){const n=qe(e,((o,r)=>r));let s;for(let o=0;o<n.length;o++)if(s=n[o],!cn(e[s],t[s],{strict:!1}))return!1;return!0}return cn(e,t,{strict:!1})},mh=function(i){return i[0]==="!"&&Array.isArray(i[1])},hy=function(i){return i==="and"||i==="or"},py=function(i){if(i.length>2&&Array.isArray(i[0])&&i[1]==="or"&&typeof i[0][0]=="string"&&i[0][1]==="="){const[e]=i[0];return!i.find(((t,n)=>n%2!==0?t!=="or":!Array.isArray(t)||t.length!==3||t[0]!==e||t[1]!=="="))}return!1},my=function(i){const e=i[0],t=i[1];return!!(Array.isArray(e)||L(e)&&(Array.isArray(t)||L(t)||hy(t)))},qn=function(){const i=new A;return i.resolve.apply(i,arguments).promise()},fh=function(){const i=new A;return i.reject.apply(i,arguments).promise()};function fy(i,e){let t;return function(){return t||(t=setTimeout((()=>{t=void 0,i.call(this)}),L(e)?e():e)),t}}function _y(i,e){let t=[];const n=fy((function(){i.call(this,t),t=[]}),e);return function(s){return Array.isArray(s)&&t.push(...s),n.call(this,t)}}function gy(i,e){let t;const n=typeof e=="string"?e.split():e.slice();for(;n.length;)if(t=n.shift(),t in i)return!0;return!1}function _h(i,e,t,n){let s,o;if(n){for(let r=0;r<e.length;r++)if(s=e[r].items||e[r].collapsedItems||[],o=_h(i,s||[],t,n-1),o)return o}else if(mn(i,e,t)>=0)return e}function vy(i,e,t,n){return n?_h(i,e,t,n)||[]:e}function xy(i,e){if(i.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){const t={},n=e.length;for(let s=0;s<n;s++)t[JSON.stringify(i.keyOf(e[s]))]=e[s];e._dataByKeyMap=t,e._dataByKeyMapLength=n}}function yy(i,e){if(i._dataByKeyMap)return i._dataByKeyMap[JSON.stringify(e)]}function Cy(i,e){return i._dataByKeyMap?i._dataByKeyMap[JSON.stringify(e)]:!0}function gh(i,e,t){i._dataByKeyMap&&(i._dataByKeyMap[JSON.stringify(e)]=t,i._dataByKeyMapLength+=t?1:-1)}function vh(i,e,t){t=t||new WeakMap;const n=i?Object.create(Object.getPrototypeOf(i)):{};i&&t.set(i,n);const s=C({},i);ln(n,s,!0,!0,!0);for(const o in s){const r=s[o],a=e?.[o];X(r)&&!J(r)&&X(a)&&!t.has(r)&&(n[o]=vh(r,a,t))}for(const o in n){const r=n[o];X(r)&&t.has(r)&&(n[o]=t.get(r))}return n}function by(i,e){const t=vh(i,e);return ln(t,e,!0,!0,!0)}function pl(i){let{keyInfo:e,data:t,changes:n,groupCount:s,useInsertIndex:o,immutable:r,disableCache:a,logError:l,skipCopying:c}=i;const d=r===!0?[...t]:t;return n.forEach((h=>{const p=h.type==="insert"?d:vy(e,d,h.key,s);switch(!a&&xy(e,p),h.type){case"update":ml(e,p,h.key,h.data,!0,r,l);break;case"insert":fl(e,p,h.data,o&&y(h.index)?h.index:-1,!0,l,c);break;case"remove":xh(e,p,h.key,!0,l)}})),d}function ir(i,e,t){return i?e&&De.log(t):fh(De.Error(t))}function ml(i,e,t,n,s,o,r){let a;const l=i.key();if(l){if(gy(n,l)&&!tr(l,t,i.keyOf(n)))return ir(s,r,"E4017");if(a=yy(e,t),!a){const c=mn(i,e,t);if(c<0)return ir(s,r,"E4009");if(a=e[c],o===!0&&y(a)){const d=by(a,n);return e[c]=d,!s&&qn(d,t)}}}else a=t;if(ln(a,n,!0,!1,!0,!0),!s)return ce().useLegacyStoreResult?qn(t,n):qn(a,t)}function fl(i,e,t,n,s,o,r){let a;const l=i.key(),c=J(t)&&!r?I({},t):t;if(l){if(a=i.keyOf(c),a===void 0||typeof a=="object"&&Jt(a)){if(Array.isArray(l))throw De.Error("E4007");a=c[l]=String(new $e)}else if(e[mn(i,e,a)]!==void 0)return ir(s,o,"E4008")}else a=c;if(n>=0?e.splice(n,0,c):e.push(c),gh(e,a,c),!s)return qn(ce().useLegacyStoreResult?t:c,a)}function xh(i,e,t,n,s){const o=mn(i,e,t);if(o>-1&&(e.splice(o,1),gh(e,t,null)),!n)return qn(t);if(o<0)return ir(n,s,"E4009")}function mn(i,e,t){const n=i.key();if(!Cy(e,t))return-1;for(let s=0,o=e.length;s<o;s++)if(tr(n,i.keyOf(e[s]),t))return s;return-1}const Ls=ee.inherit({toArray(){const i=[];for(this.reset();this.next();)i.push(this.current());return i},countable:()=>!1}),_l=Ls.inherit({ctor(i){this.array=i,this.index=-1},next(){return this.index+1<this.array.length?(this.index++,!0):!1},current(){return this.array[this.index]},reset(){this.index=-1},toArray(){return this.array.slice(0)},countable:()=>!0,count(){return this.array.length}}),nr=Ls.inherit({ctor(i){this.iter=i},next(){return this.iter.next()},current(){return this.iter.current()},reset(){return this.iter.reset()}}),gl=nr.inherit({ctor(i,e){this.callBase(i),this.index=-1,this.mapper=e},current(){return this.mapper(this.callBase(),this.index)},next(){const i=this.callBase();return i&&this.index++,i}}),Sy=function(i,e,t){return le(i)&&le(e)&&(t!=null&&t.locale||t!=null&&t.collatorOptions)?new Intl.Collator(t?.locale||void 0,t?.collatorOptions||void 0).compare(i,e):(i=hi(i,!1,t),e=hi(e,!1,t),i===null&&e!==null?-1:i!==null&&e===null||i===void 0&&e!==void 0?1:i!==void 0&&e===void 0||i<e?-1:i>e?1:0)},vl=Ls.inherit({ctor(i,e,t,n){this.langParams=i.langParams,i instanceof gl||(i=new gl(i,this._wrap),i.langParams=this.langParams),this.iter=i,this.rules=[{getter:e,desc:t,compare:n,langParams:this.langParams}]},thenBy(i,e,t){const n=new vl(this.sortedIter||this.iter,i,e,t);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next(){return this._ensureSorted(),this.sortedIter.next()},current(){return this._ensureSorted(),this.sortedIter.current()},reset(){delete this.sortedIter},countable(){return this.sortedIter||this.iter.countable()},count(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted(){const i=this;i.sortedIter||(S(i.rules,(function(){this.getter=et(this.getter)})),i.sortedIter=new gl(new _l(this.iter.toArray().sort(((e,t)=>i._compare(e,t)))),i._unwrap))},_wrap:(i,e)=>({index:e,value:i}),_unwrap:i=>i.value,_getDefaultCompare:i=>(e,t)=>Sy(e,t,i),_compare(i,e){const t=i.index,n=e.index;if(i=i.value,e=e.value,i===e)return t-n;for(let s=0,o=this.rules.length;s<o;s++){const r=this.rules[s],a=r.getter(i),l=r.getter(e),d=(r.compare||this._getDefaultCompare(r.langParams))(a,l);if(d)return r.desc?-d:d}return t-n}}),xl=(function(){let i={};const e=r=>hi(r,!1,i),t=function(r){if(py(r))return(d=>{const h=et(d[0][0]),p=d.reduce(((m,g,f)=>(f%2===0&&m.push(e(g[2])),m)),[]);return m=>{const g=e(h(m));return p.some((f=>o(f)?g===f:g==f))}})(r);const a=[];let l=!1,c=!1;return S(r,(function(){if(Array.isArray(this)||L(this)){if(a.length>1&&l!==c)throw De.Error("E4019");a.push(xl(this,i)),l=c,c=!0}else c=ph(this)})),function(d){let h=l;for(let p=0;p<a.length;p++)if(a[p](d)!==l){h=!l;break}return h}},n=function(r){var a;return y(r)?(a=i)!==null&&a!==void 0&&a.locale?r.toLocaleString(i.locale):r.toString():""};function s(r,a,l){return function(c){c=e(r(c));let d=o(a)?c===a:c==a;return l&&(d=!d),d}}function o(r){return r===""||r===0||r===!1}return function(r,a){return i=a||{},L(r)?r:my(r)?t(r):mh(r)?(function(l){const c=l[0],d=xl(l[1],i);if(c==="!")return function(h){return!d(h)};throw De.Error("E4003",c)})(r):(function(l){l=uh(l);const c=et(l[0]),d=l[1];let h=l[2];h=e(h);const p=(m,g)=>(m=e(c(m)),(h==null||m==null)&&h!==m?!1:g(m,h));switch(d.toLowerCase()){case"=":return s(c,h);case"<>":return s(c,h,!0);case">":return m=>p(m,((g,f)=>g>f));case"<":return m=>p(m,((g,f)=>g<f));case">=":return m=>p(m,((g,f)=>g>=f));case"<=":return m=>p(m,((g,f)=>g<=f));case"startswith":return m=>e(n(c(m))).startsWith(h);case"endswith":return m=>e(n(c(m))).endsWith(h);case"contains":return m=>e(n(c(m))).includes(h);case"notcontains":return m=>!e(n(c(m))).includes(h)}throw De.Error("E4003",d)})(r)}})(),Ey=nr.inherit({ctor(i,e){this.callBase(i),this.langParams=i.langParams,this.criteria=xl(e,this.langParams)},next(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),Iy=Ls.inherit({ctor(i,e){this.iter=i,this.getter=e},next(){return this._ensureGrouped(),this.groupedIter.next()},current(){return this._ensureGrouped(),this.groupedIter.current()},reset(){delete this.groupedIter},countable(){return!!this.groupedIter},count(){return this.groupedIter.count()},_ensureGrouped(){if(this.groupedIter)return;const i={},e=[],{iter:t}=this,n=et(this.getter);for(t.reset();t.next();){const s=t.current(),o=n(s);o in i?i[o].push(s):(i[o]=[s],e.push(o))}this.groupedIter=new _l(qe(e,(s=>({key:s,items:i[s]}))))}}),wy=nr.inherit({ctor(i,e){this.callBase(i),this.getter=et(e)},current(){return this.getter(this.callBase())},countable(){return this.iter.countable()},count(){return this.iter.count()}}),Dy=nr.inherit({ctor(i,e,t){this.callBase(i),this.skip=Math.max(0,e),this.take=Math.max(0,t),this.pos=0},next(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset(){this.callBase(),this.pos=0},countable(){return this.iter.countable()},count(){return Math.min(this.iter.count()-this.skip,this.take)}}),Fs=function(i,e){e=e||{},i instanceof Ls||(i=new _l(i)),e.langParams&&(i.langParams=e.langParams);const t=function(l){const c=e.errorHandler;c&&c(l),er(l)},n=function(l){const c=new A().fail(t);let d;const{step:h}=l,{finalize:p}=l;try{i.reset(),"seed"in l?d=l.seed:d=i.next()?i.current():NaN;let m=d;for(;i.next();)m=h(m,i.current());c.resolve(p?p(m):m)}catch(m){c.reject(m)}return c.promise()},s=function(l){return n(dy[l])},o=function(l){return!L(l)&&!Array.isArray(l)&&(l=[].slice.call(arguments)),a(new wy(i,l))},r=function(l){return o(et(l))};function a(l){return Fs(l,e)}return{toArray:()=>i.toArray(),enumerate(){const l=new A().fail(t);try{l.resolve(i.toArray())}catch(c){l.reject(c)}return l.promise()},setLangParams(l){i.langParams=l},sortBy:(l,c,d)=>a(new vl(i,l,c,d)),thenBy(l,c,d){if(i instanceof vl)return a(i.thenBy(l,c,d));throw De.Error("E4004")},filter(l){return Array.isArray(l)||(l=[].slice.call(arguments)),a(new Ey(i,l))},slice(l,c){return c===void 0&&(c=Number.MAX_VALUE),a(new Dy(i,l,c))},select:o,groupBy:l=>a(new Iy(i,l)),aggregate:function(l,c,d){return arguments.length<2?n({step:arguments[0]}):n({seed:l,step:c,finalize:d})},count(){if(i.countable()){const l=new A().fail(t);try{l.resolve(i.count())}catch(c){l.reject(c)}return l.promise()}return s("count")},sum(l){return l?r(l).sum():s("sum")},min(l){return l?r(l).min():s("min")},max(l){return l?r(l).max():s("max")},avg(l){return l?r(l).avg():s("avg")}}};function yl(i,e){return i=i.groupBy(e[0].selector),e.length>1&&(i=i.select((t=>I({},t,{items:yl(Fs(t.items),e.slice(1)).toArray()})))),i}function yh(i,e){const t=[];return S(i,((n,s)=>{St(e,(r=>s.selector===r.selector)).length<1&&t.push(s)})),t.concat(e)}function Ty(i,e,t){var n;e=e||{};const{filter:s}=e;if((n=e)!==null&&n!==void 0&&n.langParams){var o,r;(o=(r=i).setLangParams)===null||o===void 0||o.call(r,e.langParams)}if(s&&(i=i.filter(s)),t)return i;let{sort:a}=e;const{select:l}=e;let{group:c}=e;const{skip:d}=e,{take:h}=e;return c&&(c=hl(c),c.keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(a||c)&&(a=hl(a||[]),c&&!c.keepInitialKeyOrder&&(a=yh(c,a)),S(a,(function(p){i=i[p?"thenBy":"sortBy"](this.selector,this.desc,this.compare)}))),l&&(i=i.select(l)),c&&(i=yl(i,c)),(h||d)&&(i=i.slice(d||0,h)),i}const sr={multiLevelGroup:yl,arrangeSortingInfo:yh,queryByOptions:Ty};class fn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=e,this._options=t}static create(e,t){return t?L(t)?t(e):t:new fn(e)}hasEvent(e){const t=this._events[e];return t?t.has():!1}fireEvent(e,t){const n=this._events[e];return n&&n.fireWith(this._owner,t),this._owner}on(e,t){if(J(e))S(e,((n,s)=>{this.on(n,s)}));else{let n=this._events[e];n||(n=Ee({syncStrategy:this._options.syncStrategy}),this._events[e]=n),(n.originalAdd||n.add).call(n,t)}}off(e,t){const n=this._events[e];n&&(L(t)?n.remove(t):n.empty())}dispose(){S(this._events,((e,t)=>{t.empty()}))}}const{abstract:Hs}=ee,{queryByOptions:Ch}=sr,Cl={},Kt=ee.inherit({_langParams:{},ctor(i){const e=this;i=i||{},this._eventsStrategy=new fn(this),S(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],((t,n)=>{n in i&&e.on(n.slice(2).toLowerCase(),i[n])})),this._key=i.key,this._errorHandler=i.errorHandler,this._useDefaultSearch=!0},_clearCache:M,_customLoadOptions:()=>null,key(){return this._key},keyOf(i){return this._keyGetter||(this._keyGetter=et(this.key())),this._keyGetter(i)},_requireKey(){if(!this.key())throw De.Error("E4005")},load(i){const e=this;return i=i||{},this._eventsStrategy.fireEvent("loading",[i]),this._withLock(this._loadImpl(i)).done((t=>{e._eventsStrategy.fireEvent("loaded",[t,i])}))},_loadImpl(i){return Jt(this._langParams)||(i=i||{},i._langParams=C({},this._langParams,i._langParams)),Ch(this.createQuery(i),i).enumerate()},_withLock(i){const e=new A;return i.done((function(){const t=this,n=arguments;uy.promise().done((()=>{e.resolveWith(t,n)}))})).fail((function(){e.rejectWith(this,arguments)})),e},createQuery:Hs,totalCount(i){return this._totalCountImpl(i)},_totalCountImpl(i){return Ch(this.createQuery(i),i,!0).count()},byKey(i,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(i,e)))},_byKeyImpl:Hs,insert(i){const e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[i]),e._addFailHandlers(e._insertImpl(i).done(((t,n)=>{e._eventsStrategy.fireEvent("inserted",[t,n]),e._eventsStrategy.fireEvent("modified")})))},_insertImpl:Hs,update(i,e){const t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("updating",[i,e]),t._addFailHandlers(t._updateImpl(i,e).done((()=>{t._eventsStrategy.fireEvent("updated",[i,e]),t._eventsStrategy.fireEvent("modified")})))},_updateImpl:Hs,push(i){const e={changes:i,waitFor:[]};this._eventsStrategy.fireEvent("beforePushAggregation",[e]),Ie(...e.waitFor).done((()=>{this._pushImpl(i),this._eventsStrategy.fireEvent("beforePush",[{changes:i}]),this._eventsStrategy.fireEvent("push",[i])}))},_pushImpl:M,remove(i){const e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[i]),e._addFailHandlers(e._removeImpl(i).done((t=>{e._eventsStrategy.fireEvent("removed",[t]),e._eventsStrategy.fireEvent("modified")})))},_removeImpl:Hs,_addFailHandlers(i){return i.fail(this._errorHandler).fail(er)},on(i,e){return this._eventsStrategy.on(i,e),this},off(i,e){return this._eventsStrategy.off(i,e),this}});Kt.create=function(i,e){if(!(i in Cl))throw De.Error("E4020",i);return new Cl[i](e)},Kt.registerClass=function(i,e){return e&&(Cl[e]=i),i},Kt.inherit=(function(i){return function(e,t){const n=i.apply(this,[e]);return Kt.registerClass(n,t),n}})(Kt.inherit);const bh="totalCount",bl="load",Sh="byKey",Eh="insert",Ih="update",wh="remove";function Yn(i){return i&&L(i.then)}function _n(i){return new A().resolve(i).promise()}function Ns(i,e){if(!L(e))throw De.Error("E4011",i)}function Dh(i){throw De.Error("E4012",i)}function gn(i){return function(e){let t;e instanceof Error?t=e:t=new Error((function(n){const s=n[0],o=n[1];return!s||!s.getResponseHeader?null:hh(s,o)})(arguments)||e&&String(e)||"Unknown error"),t.message!==ul&&i.reject(t)}}function Th(i,e){const t=i._loadFunc;let n;return Ns(bl,t),n=t.apply(i,[e]),Array.isArray(n)?n=_n(n):n==null?n=_n([]):Yn(n)||Dh(bl),Qt(n)}function Ay(i,e){const t=i._totalCountFunc;let n;if(!L(t))throw De.Error("E4021");return n=t.apply(i,[e]),Yn(n)||(n=Number(n),isFinite(n)||Dh(bh),n=_n(n)),Qt(n)}function Oy(i,e,t){const n=i._byKeyFunc;let s;return Ns(Sh,n),s=n.apply(i,[e,t]),Yn(s)||(s=_n(s)),Qt(s)}function Ah(i,e,t,n){if(e.__rawData)n(e.__rawData);else{const s=e.__rawDataPromise||Th(e,t);e._cacheRawData&&(e.__rawDataPromise=s),s.always((()=>{delete e.__rawDataPromise})).done((o=>{e._cacheRawData&&(e.__rawData=o),n(o)})).fail((o=>{var r;const a=gn(i);(r=e._errorHandler)===null||r===void 0||r.call(e,o),a(o)}))}}function Oh(i,e,t,n){t=t||{};const s={};"userData"in t&&(s.userData=t.userData),Ah(i,e,s,(o=>{const r=Fs(o,{errorHandler:e._errorHandler});let a,l;const c=[];let d,h;n||(a=sr.queryByOptions(r,t),a===r?d=o.slice(0):c.push(a.enumerate().done((p=>{d=p})))),(t.requireTotalCount||n)&&(l=sr.queryByOptions(r,t,!0),l===r?h=o.length:c.push(l.count().done((p=>{h=p})))),Ie.apply(u,c).done((()=>{n?i.resolve(h):t.requireTotalCount?i.resolve(d,{totalCount:h}):i.resolve(d)})).fail((p=>{i.reject(p)}))}))}function ky(i,e,t){Ah(i,e,{},(n=>{const s=e.key();let o;for(let r=0,a=n.length;r<a;r++)if(o=n[r],tr(s,e.keyOf(n[r]),t)){i.resolve(o);return}i.reject(De.Error("E4009"))}))}const Sl=Kt.inherit({ctor(i){i=i||{},this.callBase(i),this._useDefaultSearch=!!i.useDefaultSearch||i.loadMode==="raw",this._loadMode=i.loadMode,this._cacheRawData=i.cacheRawData!==!1,this._loadFunc=i[bl],this._totalCountFunc=i[bh],this._byKeyFunc=i[Sh],this._insertFunc=i[Eh],this._updateFunc=i[Ih],this._removeFunc=i[wh]},_clearCache(){delete this.__rawData},createQuery(){throw De.Error("E4010")},clearRawDataCache(){this._clearCache()},_totalCountImpl(i){let e=new A;return this._loadMode==="raw"&&!this._totalCountFunc?Oh(e,this,i,!0):(Ay(this,i).done((t=>{e.resolve(Number(t))})).fail(gn(e)),e=this._addFailHandlers(e)),e.promise()},_pushImpl(i){this.__rawData&&pl({keyInfo:this,data:this.__rawData,changes:i})},_loadImpl(i){let e=new A;return this._loadMode==="raw"?Oh(e,this,i,!1):(Th(this,i).done(((t,n)=>{e.resolve(t,n)})).fail(gn(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl(i,e){const t=new A;return this._byKeyViaLoad()?(this._requireKey(),ky(t,this,i)):Oy(this,i,e).done((n=>{t.resolve(n)})).fail(gn(t)),t.promise()},_byKeyViaLoad(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl(i){const e=this,t=e._insertFunc;let n;const s=new A;return Ns(Eh,t),n=t.apply(e,[i]),Yn(n)||(n=_n(n)),Qt(n).done((o=>{ce().useLegacyStoreResult?s.resolve(i,o):s.resolve(o||i,e.keyOf(o))})).fail(gn(s)),s.promise()},_updateImpl(i,e){const t=this._updateFunc;let n;const s=new A;return Ns(Ih,t),n=t.apply(this,[i,e]),Yn(n)||(n=_n(n)),Qt(n).done((o=>{ce().useLegacyStoreResult?s.resolve(i,e):s.resolve(o||e,i)})).fail(gn(s)),s.promise()},_removeImpl(i){const e=this._removeFunc;let t;const n=new A;return Ns(wh,e),t=e.apply(this,[i]),Yn(t)||(t=_n()),Qt(t).done((()=>{n.resolve(i)})).fail(gn(n)),n.promise()}});function My(i){return i==null||typeof i!="object"?!1:"key"in i&&"items"in i}function Ry(i){return Array.isArray(i)&&!!i.length&&My(i[0])}function fi(i,e){if(i==null)return{};var t={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(e.indexOf(n)!==-1)continue;t[n]=i[n]}return t}const kh={},Mh=function(i,e,t){t=t||[],e=e||{};const n=function(r,a){return{name:r,args:a}},s=function(r){const a=new A;let l,c,d,h,p;const m=function(f){const v=e.errorHandler;v&&v(f),er(f),a.reject(f)};function g(f){switch(f.name){case"sortBy":return p=[f.args],!0;case"thenBy":if(!p)throw De.Error("E4004");return p.push(f.args),!0}return!1}try{l=e.adapter,L(l)||(l=kh[l]),c=l(e),d=[].concat(t).concat(r);const{optimize:f}=c;for(f&&f(d);d.length;){if(h=d[0],!g(h)){if(p){d.unshift(n("multiSort",[p])),p=null;continue}if(String(h.name)!=="enumerate"&&(!c[h.name]||c[h.name].apply(c,h.args)===!1))break}d.shift()}(function(){const v=d[0],b=[];v&&v.name==="multiSort"&&(d.shift(),S(v.args[0],(function(){b.push(n(b.length?"thenBy":"sortBy",this))}))),d=b.concat(d)})(),c.exec(i).done(((v,b)=>{if(!d.length)a.resolve(v,b);else{let w=Fs(v,{errorHandler:e.errorHandler});S(d,(function(){w=w[this.name].apply(w,this.args)})),w.done(a.resolve).fail(a.reject)}})).fail(m)}catch(f){m(f)}return a.promise()},o={};return S(["sortBy","thenBy","filter","slice","select","groupBy"],(function(){const r=String(this);o[r]=function(){return Mh(i,e,t.concat(n(r,arguments)))}})),S(["count","min","max","sum","avg","aggregate","enumerate"],(function(){const r=String(this);o[r]=function(){return s.call(this,n(r,arguments))}})),o},Py={array:Fs,remote:Mh},Vi=function(){const i=Array.isArray(arguments[0])?"array":"remote";return Py[i].apply(this,arguments)},El=Kt.inherit({ctor(i){Array.isArray(i)?i={data:i}:i=i||{},this.callBase(i);const e=i.data;if(e&&!Array.isArray(e))throw De.Error("E4006");this._array=e||[]},createQuery(){return Vi(this._array,{errorHandler:this._errorHandler})},_byKeyImpl(i){const e=mn(this,this._array,i);return e===-1?fh(De.Error("E4009")):qn(this._array[e])},_insertImpl(i){return fl(this,this._array,i)},_pushImpl(i){pl({keyInfo:this,data:this._array,changes:i})},_updateImpl(i,e){return ml(this,this._array,i,e)},_removeImpl(i){return xh(this,this._array,i)},clear(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),$y=we(),By=Gt({getXhr:()=>new $y.XMLHttpRequest}),Rh=we(),Ph=function(i){const e=D.createElement("script");for(const t in i)e[t]=i[t];return e},$h=function(i){return D.getHead().appendChild(i)},Bh=function(i){i.parentNode.removeChild(i)},Vh=function(i){const e=Ph({text:i});$h(e),Bh(e)},Vy=function(i){const e=Ph({src:i});return new Promise(((t,n)=>{const s={load:t,error:n},o=function(r){s[r.type](),Bh(e)};for(const r in s)D.listen(e,r,o);$h(e)}))};function Il(i){return(i.method||"GET").toUpperCase()}const Ly=function(i){const e=[];for(const t in i){let n=i[t];n!==void 0&&(n===null&&(n=""),typeof n=="function"&&(n=n()),e.push(`${encodeURIComponent(t)}=${encodeURIComponent(n)}`))}return e.join("&")},Fy=function(i){let e;return i.data&&!i.upload&&Il(i)!=="GET"&&(e="application/x-www-form-urlencoded;charset=utf-8"),i.contentType||e},Hy=function(i){const e=i.dataType||"*",t="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:t,script:t};return Y0(n,i.accepts),n[e]?n[e]+(e!=="*"?", */*; q=0.01":""):n["*"]},Ny=function(i){const e=i.headers||{};return e["Content-Type"]=e["Content-Type"]||Fy(i),e.Accept=e.Accept||Hy(i),!i.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest"),e},Wy=function(i){if(i.dataType==="jsonp"){const e=Math.random().toString().replace(/\D/g,""),t=i.jsonpCallback||`dxCallback${Date.now()}_${e}`,n=i.jsonp||"callback";return i.data=i.data||{},i.data[n]=t,t}},zy=function(i,e){let t=i.data;const n=typeof t=="string";let s=i.url||Rh.location.href;return!n&&!i.cache&&(t=t||{},t._=Date.now()),t&&!i.upload&&(n||(t=Ly(t)),Il(i)==="GET"?(t!==""&&(s+=(s.indexOf("?")>-1?"&":"?")+t),t=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(t=t.replace(/%20/g,"+"))),{url:s,parameters:t}},Gy=function(i){if(!te())return!0;let e=!1;const t=D.createElement("a"),n=D.createElement("a");t.href=Rh.location.href;try{n.href=i,n.href=n.href,e=`${t.protocol}//${t.host}`!=`${n.protocol}//${n.host}`}catch{e=!0}return e},Ky=we(),Ws="success",wl="error",Uy="timeout",jy="nocontent",qy="parsererror",Yy=function(i){return i>=200&&i<300},Xy=function(i){return i!==204},Zy=function(i){return i.responseType&&i.responseType!=="text"||typeof i.responseText!="string"?i.response:i.responseText},Jy=function(i,e,t){const n=Zy(e);switch(t){case"jsonp":Vh(n);break;case"script":Vh(n),i.resolve(n,Ws,e);break;case"json":try{i.resolve(JSON.parse(n),Ws,e)}catch(s){i.reject(e,qy,s)}break;default:i.resolve(n,Ws,e)}},Qy=function(i,e){return i&&setTimeout((function(){e.customStatus=Uy,e.abort()}),i)},Lh=Gt({sendRequest:function(i){const e=By.getXhr(),t=new A,n=t.promise(),s=y(i.async)?i.async:!0,{dataType:o}=i,r=i.timeout||0;let a;i.crossDomain=Gy(i.url);const l=o==="jsonp"||o==="script";i.cache===void 0&&(i.cache=!l);const c=Wy(i),d=Ny(i),h=zy(i,d),{url:p}=h,{parameters:m}=h;if(c&&(Ky[c]=function(g){t.resolve(g,Ws,e)}),i.crossDomain&&l){const g=function(){t.reject(e,wl)},f=function(){o!=="jsonp"&&t.resolve(null,Ws,e)};return Vy(p).then(f,g),n}if(i.crossDomain&&!("withCredentials"in e))return t.reject(e,wl),n;if(e.open(Il(i),p,s,i.username,i.password),s&&(e.timeout=r,a=Qy(r,e)),e.onreadystatechange=function(g){e.readyState===4&&(clearTimeout(a),Yy(e.status)?Xy(e.status)?Jy(t,e,o):t.resolve(null,jy,e):t.reject(e,e.customStatus||wl))},i.upload&&(e.upload.onprogress=i.upload.onprogress,e.upload.onloadstart=i.upload.onloadstart,e.upload.onabort=i.upload.onabort),i.xhrFields)for(const g in i.xhrFields)e[g]=i.xhrFields[g];i.responseType==="arraybuffer"&&(e.responseType=i.responseType);for(const g in d)Object.prototype.hasOwnProperty.call(d,g)&&y(d[g])&&e.setRequestHeader(g,d[g]);return i.beforeSend&&i.beforeSend(e),e.send(m),n.abort=function(){e.abort()},n}}),eC=["items"],Fh="canceled",Hh=i=>i.state()==="pending",Nh=i=>{switch(i.length){case 0:return;case 1:return i[0]}return[].slice.call(i)},tC=(i,e,t)=>qe(i,(n=>{const s=fi(n,eC);return C({},s,{items:Wh(n.items,e-1,t)})})),Wh=(i,e,t)=>Array.isArray(i)?e?tC(i,e,t):qe(i,t):i,iC=(i,e,t)=>{const n=t?hl(t).length:0;return Wh(i,n,e)},zh=(i,e)=>{var t;return(t=i)!==null&&t!==void 0&&t.data&&(e=i,i=i.data),Array.isArray(i)||(i=[i]),{data:i,extra:e}},nC=i=>{const e={};return S(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],(function(){e[this]=i[this],delete i[this]})),new Sl(e)},sC=i=>{const e=i.type;return delete i.type,Kt.create(e,i)},oC=(i,e)=>new Sl({load:()=>Lh.sendRequest({url:i,dataType:"json"}),loadMode:e?.fromUrlLoadMode}),Gh=(i,e)=>{let t;return typeof i=="string"&&(i={paginate:!1,store:oC(i,e)}),i===void 0&&(i=[]),Array.isArray(i)||i instanceof Kt?i={store:i}:i=I({},i),i.store===void 0&&(i.store=[]),t=i.store,"load"in i?t=nC(i):Array.isArray(t)?t=new El(t):J(t)&&(t=sC(I({},t))),i.store=t,i};class rC{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds?(this._deferreds[e].reject(Fh),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}function Kh(i){let e=[],t=!1;function n(){for(;e.length;){t=!0;const o=e.shift()();if(o!==void 0){if(o.then){Ie(o).always(n);return}throw he.Error("E0015")}}t=!1}return{add:function(s,o){e.push(s),t||n()},busy:function(){return t}}}Kh().add;const or=ee.inherit({ctor(i){if(i=Gh(i),this._eventsStrategy=new fn(this,{syncStrategy:!0}),this._store=i.store,this._changedTime=0,i.pushAggregationTimeout!==0){const t=i.pushAggregationTimeout===void 0?()=>5*this._changedTime:i.pushAggregationTimeout;let n,s;const o=_y((r=>{n.resolve(),Ie(...s).done((()=>this._onPush(r))),s=void 0,n=void 0}),t);this._onPushHandler=r=>{this._aggregationTimeoutId=o(r.changes),n||(n=new A),s=r.waitFor,r.waitFor.push(n.promise())},this._store.on("beforePushAggregation",this._onPushHandler)}else this._onPushHandler=t=>this._onPush(t),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(i),this._mapFunc=i.map,this._postProcessFunc=i.postProcess,this._pageIndex=i.pageIndex!==void 0?i.pageIndex:0,this._pageSize=i.pageSize!==void 0?i.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in i?i.searchValue:null,this._searchOperation=i.searchOperation||"contains",this._searchExpr=i.searchExpr,this._paginate=i.paginate,this._reshapeOnPush=i.reshapeOnPush??!1,S(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],((t,n)=>{n in i&&this.on(n.substr(2,1).toLowerCase()+n.substr(3),i[n])})),this._operationManager=new rC,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,y(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var i;this._store.off("beforePushAggregation",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(i=this._delayedLoadTask)===null||i===void 0||i.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(i){const e={};let t=["sort","filter","langParams","select","group","requireTotalCount"];const n=this._store._customLoadOptions();return n&&(t=t.concat(n)),S(t,(function(){e[this]=i[this]})),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(i){if(!Le(i))return this._pageIndex;this._pageIndex=i,this._isLastPage=!this._paginate},paginate(i){if(!Fo(i))return this._paginate;this._paginate!==i&&(this._paginate=i,this.pageIndex(0))},pageSize(i){if(!Le(i))return this._pageSize;this._pageSize=i},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(i){return e=>{const t=Nh(e);if(t===void 0)return this._storeLoadOptions[i];this._storeLoadOptions[i]=t}},sort(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){const i=Nh(arguments);if(i===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=i,this.pageIndex(0)},group(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(i){if(!Fo(i))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=i},searchValue(i){if(arguments.length<1)return this._searchValue;this._searchValue=i,this.pageIndex(0)},searchOperation(i){if(!le(i))return this._searchOperation;this._searchOperation=i,this.pageIndex(0)},searchExpr(i){const e=arguments.length;if(e===0)return this._searchExpr;e>1&&(i=[].slice.call(arguments)),this._searchExpr=i,this.pageIndex(0)},store(){return this._store},key(){var i;return(i=this._store)===null||i===void 0?void 0:i.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>Kh(),_changeLoadingCount(i){const e=this.isLoading();this._loadingCount+=i;const t=this.isLoading();e^t&&this._eventsStrategy.fireEvent("loadingChanged",[t])},_scheduleLoadCallbacks(i){this.beginLoading(),i.always((()=>{this.endLoading()}))},_scheduleFailCallbacks(i){var e=this;i.fail((function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];n[0]!==Fh&&e._eventsStrategy.fireEvent("loadError",n)}))},_fireChanged(i){const e=new Date;this._eventsStrategy.fireEvent("changed",i),this._changedTime=new Date-e},_scheduleChangedCallbacks(i){i.done((()=>this._fireChanged()))},loadSingle(i,e){const t=new A,n=this.key(),s=this._store,o=this._createStoreLoadOptions();return this._scheduleFailCallbacks(t),arguments.length<2&&(e=i,i=n),delete o.skip,delete o.group,delete o.refresh,delete o.pageIndex,delete o.searchString,(i===n||s instanceof Sl&&!s._byKeyViaLoad()?s.byKey(e,o):(o.take=1,o.filter=o.filter?[o.filter,[i,e]]:[i,e],s.load(o))).fail(t.reject).done((r=>{const a=Array.isArray(r)&&!r.length;!y(r)||a?t.reject(De.Error("E4009")):(Array.isArray(r)||(r=[r]),t.resolve(this._applyMapFunction(r)[0]))})),t.promise()},load(){const i=new A,e=()=>{if(!this._disposed&&Hh(i))return this._loadFromStore(t,i)};this._scheduleLoadCallbacks(i),this._scheduleFailCallbacks(i),this._scheduleChangedCallbacks(i);const t=this._createLoadOperation(i);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[t]),this._loadQueue.add((()=>(typeof t.delay=="number"?this._delayedLoadTask=Tu.executeAsync(e,t.delay):e(),i.promise()))),i.promise({operationId:t.operationId})},_onPush(i){if(this._reshapeOnPush)this.load();else{const e={changes:i};this._eventsStrategy.fireEvent("changing",[e]);const t=this.group(),n=this.items();let s=0,o=this.paginate()||t?i.filter((r=>r.type==="update")):i;t&&(s=Array.isArray(t)?t.length:1),this._mapFunc&&o.forEach((r=>{r.type==="insert"&&(r.data=this._mapFunc(r.data))})),e.postProcessChanges&&(o=e.postProcessChanges(o)),pl({keyInfo:this.store(),data:n,changes:o,groupCount:s,useInsertIndex:!0}),this._fireChanged([{changes:i}])}},_createLoadOperation(i){const e=this._operationManager.add(i),t=this._createStoreLoadOptions();return this._store&&!Jt(t?.langParams)&&(this._store._langParams=C({},this._store._langParams,t.langParams)),i.always((()=>this._operationManager.remove(e))),{operationId:e,storeLoadOptions:t}},reload(){return this.store()._clearCache(),this._init(),this.load()},cancel(i){return this._operationManager.cancel(i)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(i){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(i):(i.searchOperation=this._searchOperation,i.searchValue=this._searchValue,i.searchExpr=this._searchExpr))},_createStoreLoadOptions(){const i=I({},this._storeLoadOptions);return this._addSearchOptions(i),this._paginate&&this._pageSize&&(i.skip=this._pageIndex*this._pageSize,i.take=this._pageSize),i.userData=this._userData,i},_addSearchFilter(i){const e=this._searchValue,t=this._searchOperation;let n=this._searchExpr;const s=[];e&&(n||(n="this"),Array.isArray(n)||(n=[n]),S(n,((o,r)=>{s.length&&s.push("or"),s.push([r,t,e])})),i.filter?i.filter=[s,i.filter]:i.filter=s)},_loadFromStore(i,e){const t=(n,s)=>{if(this._disposed||!Hh(e))return;const o=I(zh(n,s),i);this._eventsStrategy.fireEvent("customizeLoadResult",[o]),Ie(o.data).done((r=>{o.data=r,this._processStoreLoadResult(o,e)})).fail(e.reject)};return i.data?new A().resolve(i.data).done(t):this.store().load(i.storeLoadOptions).done(t).fail(e.reject)},_processStoreLoadResult(i,e){let{data:t}=i,{extra:n}=i;const{storeLoadOptions:s}=i,o=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(t,n)),r=()=>{this.store().totalCount(s).done((a=>{n.totalCount=a,o()})).fail(e.reject)};this._disposed||(t=this._applyPostProcessFunction(this._applyMapFunction(t)),X(n)||(n={}),this._items=t,(!t.length||!this._paginate||this._pageSize&&t.length<this._pageSize)&&(this._isLastPage=!0),s.requireTotalCount&&!isFinite(n.totalCount)?r():o())},_applyMapFunction(i){return this._mapFunc?iC(i,this._mapFunc,this.group()):i},_applyPostProcessFunction(i){return this._postProcessFunc?this._postProcessFunc(i):i},on(i,e){return this._eventsStrategy.on(i,e),this},off(i,e){return this._eventsStrategy.off(i,e),this}}),Ne=Ba(he.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" and "endDayHour" options must be integers in the [0, 24] range, with "endDayHour" being greater than "startDayHour".',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",E1061:'The "offset" option must be an integer in the [-1440, 1440] range, divisible by 5 without a remainder.',E1062:'The "cellDuration" must be a positive integer, evenly dividing the ("endDayHour" - "startDayHour") interval into minutes.',W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:`The '{0}' is not rendered because none of the DOM elements match the value of the "container" property.`,W1022:"{0} JSON parsing error: '{1}'",W1023:"Appointments require unique keys. Otherwise, the agenda view may not work correctly.",W1024:"The client-side export is enabled. Implement the 'onExporting' function.",W1025:"'scrolling.mode' is set to 'virtual' or 'infinite'. Specify the height of the component.",W1026:"The 'ai' toolbar item is defined, but aiIntegration is missing.",W1027:"A prompt should be specified for a custom command.",W1028:"Nested/banded columns do not support the following properties: {0}."}),kt=te()?we():{};let Uh=function(i){return setTimeout(i,16.666666666666668)},jh=function(i){clearTimeout(i)};const qh=mi((function(){const i=kt.requestAnimationFrame||kt.webkitRequestAnimationFrame||kt.mozRequestAnimationFrame||kt.oRequestAnimationFrame||kt.msRequestAnimationFrame,e=kt.cancelAnimationFrame||kt.webkitCancelAnimationFrame||kt.mozCancelAnimationFrame||kt.oCancelAnimationFrame||kt.msCancelAnimationFrame;i&&e&&(Uh=i,jh=e)}));function zs(){return qh(),Uh.apply(kt,arguments)}function _i(){qh(),jh.apply(kt,arguments)}function aC(i){return i&&i.get?i.get(0):i}let lC=aC;function ae(i){return lC(i)}const cC=/matrix(3d)?\((.+?)\)/,dC=/translate(?:3d)?\((.+?)\)/,Li=function(i){i=u(i);const e=ar(i);return{left:e.x,top:e.y}};function rr(i){return gt(i)==="string"&&i[i.length-1]==="%"}function Yh(i,e){i.length&&Pe(i.get(0),"dxTranslator",e)}const Dl=function(i){i.length&&Xo(i.get(0),"dxTranslator")},Gs=function(i){i.x=i.x||0,i.y=i.y||0;const e=rr(i.x)?i.x:i.x+"px",t=rr(i.y)?i.y:i.y+"px";return"translate("+e+", "+t+")"},ar=function(i){let e=i.length?Pe(i.get(0),"dxTranslator"):null;if(!e){let n=(i.css("transform")||Gs({x:0,y:0})).match(cC);const s=n&&n[1];n?(n=n[2].split(","),s==="3d"?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},Yh(i,e)}return e},rt=function(i,e){i=u(i);const t=e.left,n=e.top;let s;t===void 0?(s=ar(i),s.y=n||0):n===void 0?(s=ar(i),s.x=t||0):(s={x:t||0,y:n||0,z:0},Yh(i,s)),i.css({transform:Gs(s)}),(rr(t)||rr(n))&&Dl(i)},lr=function(i,e){i=u(i);let t;const n={left:0,top:0,transform:"none"};e&&(t=i.css("transition"),n.transition="none"),i.css(n),Dl(i),e&&(i.get(0).offsetHeight,i.css("transition",t))},uC=function(i){let e=i.match(dC);if(!(!e||!e[1]))return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])},e},Xh=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,Zh={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},hC=function(i,e,t,n){const s=3*i,o=3*(t-i)-s,r=1-s-o,a=3*e,l=3*(n-e)-a,c=1-a-l,d=function(p){return p*(s+p*(o+p*r))},h=function(p){return s+p*(2*o+3*p*r)};return function(p){return(function(m){return m*(a+m*(l+m*c))})((function(m){let g=m,f=0,v;for(;f<14&&(v=d(g)-m,!(Math.abs(v)<.001));)g-=v/h(g),f++;return g})(p))}};let Tl={};const pC=function(i){i=Zh[i]||i;let e=i.match(Xh),t;e||(t="linear",e=Zh[t].match(Xh)),e=e.slice(1,5);for(let s=0;s<e.length;s++)e[s]=parseFloat(e[s]);const n=t||"cubicbezier_"+e.join("_").replace(/\./g,"p");return L(Tl[n])||(Tl[n]=function(s,o,r,a,l){return a*hC(e[0],e[1],e[2],e[3])(o/l)+r}),n};function mC(i){return Tl[i]}const Ks=(function(){let i;const e=Ee(),t=e.add,n=e.remove;if(!ot.hasWindow())return e;const s=function(){const l=ot.getWindow();return{width:l.innerWidth,height:l.innerHeight}},o=function(){const l=s();if(l.width===i.width&&l.height===i.height)return;let c;l.width===i.width&&(c="height"),l.height===i.height&&(c="width"),i=l,e.fire(c)},r=mi((function(){i=s()}));let a;return e.add=function(){const l=t.apply(e,arguments);return r(),ti.add((function(){!a&&e.has()&&(a=D.listen(ot.getWindow(),"resize",o))})),l},e.remove=function(){const l=n.apply(e,arguments);return!e.has()&&a&&(a(),a=void 0),l},e})(),fC=we(),_C=function(){let i;try{i=fC.sessionStorage}catch{}return i},gC=ti.add,cr=Ee();let Jh=u();const Xn=(function(){let i;return function(e){if(!arguments.length)return i;const t=u(e);Jh=t;const n=!!t.length,s=Xn();i=n?t:u("body"),cr.fire(n?Xn():u(),s)}})();gC((function(){Xn(".dx-viewport")}));function Qh(){return Jh}const ep=we(),vC={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},tp={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},Al={generic(i){const e=/windows phone/i.test(i)||i.match(/WPDesktop/),t=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(i),n=!e&&!t&&/msapphost/i.test(i),s=/((intel|ppc) mac os x)/.test(i.toLowerCase());return e||t||n||s?{deviceType:e?"phone":t?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:s}:null},appleTouchDevice(i){const e=As(),t=/Macintosh/i.test(i)&&e?.maxTouchPoints>2;if(!/ip(hone|od|ad)/i.test(i)&&!t)return null;const s=/ip(hone|od)/i.test(i),o=i.match(/os\s{0,}X? (\d+)_(\d+)_?(\d+)?/i),r=o?[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3]||0,10)]:[],l=ep.screen.height===480?"B":"A";return{deviceType:/Macintosh/i.test(i)&&!/Mobile/i.test(i)?"desktop":s?"phone":"tablet",platform:"ios",version:r,grade:l}},android(i){const e=/android|htc_|silk/i.test(i),t=/windows phone/i.test(i);if(!e||t)return null;const n=/mobile/i.test(i),s=i.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),o=s?[parseInt(s[1],10),parseInt(s[2]||0,10),parseInt(s[3]||0,10)]:[],a=o.length>1&&(o[0]<4||o[0]===4&&o[1]<4)?"B":"A";return{deviceType:n?"phone":"tablet",platform:"android",version:o,grade:a}}},ip=[Al.appleTouchDevice,Al.android,Al.generic];class xC{constructor(e){this._window=e?.window??ep,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new fn(this),this.changed=Ee(),te()&&(ti.add(this._recalculateOrientation.bind(this)),Ks.add(this._recalculateOrientation.bind(this)))}current(e){if(e){this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch{e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return I({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){const t=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(t.push(`dx-device-${e.deviceType}`),e.deviceType!=="desktop"&&t.push("dx-device-mobile")),t.push(`dx-device-${n.platform}`),n.version&&n.version.length&&t.push(`dx-device-${n.platform}-${n.version[0]}`),this.isSimulator()&&t.push("dx-simulator"),ce().rtlEnabled&&t.push("dx-rtl"),t}attachCssClasses(e,t){this._deviceClasses=this._getCssClasses(t).join(" "),u(e).addClass(this._deviceClasses)}detachCssClasses(e){u(e).removeClass(this._deviceClasses)}isSimulator(){try{var e;return this._isSimulator||te()&&this._window.top!==this._window.self&&((e=this._window.top)===null||e===void 0?void 0:e["dx-force-device"])||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if(e==="genericPhone"&&(e={deviceType:"phone",platform:"generic",generic:!0}),J(e))return this._fromConfig(e);let t;if(e){if(t=vC[e],!t)throw he.Error("E0005")}else t=As().userAgent;return this._fromUA(t)}_getDeviceOrNameFromWindowScope(){var e,t;let n;if(te()&&((e=this._window.top)!==null&&e!==void 0&&e["dx-force-device-object"]||(t=this._window.top)!==null&&t!==void 0&&t["dx-force-device"])){var s,o;n=((s=this._window.top)===null||s===void 0?void 0:s["dx-force-device-object"])||((o=this._window.top)===null||o===void 0?void 0:o["dx-force-device"])}return n}_getDeviceNameFromSessionStorage(){const e=_C();if(!e)return;const t=e.getItem("dx-force-device");try{return JSON.parse(t)}catch{return t}}_fromConfig(e){const t=I({},tp,this._currentDevice,e),n={phone:t.deviceType==="phone",tablet:t.deviceType==="tablet",android:t.platform==="android",ios:t.platform==="ios",generic:t.platform==="generic"};return I(t,n)}_fromUA(e){for(let t=0;t<ip.length;t+=1){const n=ip[t],s=n(e);if(s)return this._fromConfig(s)}return tp}_changeOrientation(){const e=u(this._window),t=Oe(e)>me(e)?"portrait":"landscape";this._currentOrientation!==t&&(this._currentOrientation=t,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:t}]))}_recalculateOrientation(){const e=me(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}}const B=new xC;Ie(Go).done((()=>{const i=Xn();i&&B.attachCssClasses(i),cr.add(((e,t)=>{B.detachCssClasses(t),B.attachCssClasses(e)}))}));const{maxTouchPoints:np}=As(),yC={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},Ol=function(i){return!!hn(i)},CC=function(){const{platform:i,mac:e}=B.real();return i==="ios"||i==="android"||e},dr=function(i){if(i==="text")return!0;const e=D.createElement("input");try{return e.setAttribute("type",i),e.value="wrongValue",!e.value}catch{return!1}},bC=function(i,e){return(i("ontouchstart")||!!e)&&!i("callPhantom")},SC=function(i){return i("PointerEvent")},sp=bC(Ga,np),op=SC(Ga),kl=sp||op&&!!np,EC=mi((function(){return Ol("transition")})),IC=mi((function(){return yC[hn("transition")]})),wC=mi((function(){return Ol("animation")})),DC=CC(),Mt={animation:wC,inputType:dr,nativeScrolling:DC,pointerEvents:op,styleProp:hn,stylePropPrefix:Jo,supportProp:Ol,touch:kl,touchEvents:sp,transition:EC,transitionEndEventName:IC},rp=i=>i??ce().rtlEnabled?"right":"left",Fi=i=>{var e;return Ve(i)?{width:i.outerWidth,height:i.outerHeight}:(e=i.getBoundingClientRect)===null||e===void 0?void 0:e.call(i)},TC=As(),AC=/(webkit)[ /]([\w.]+)/,OC=/(mozilla)(?:.*? rv:([\w.]+))/,ap=i=>{i=i.toLowerCase();const e={},t=AC.exec(i)||i.indexOf("compatible")<0&&OC.exec(i)||[];let n=t[1],s=t[2];return n==="webkit"&&(e.webkit=!0,i.indexOf("chrome")>=0||i.indexOf("crios")>=0?(n="chrome",s=/(?:chrome|crios)\/(\d+\.\d+)/.exec(i),s=s&&s[1]):i.indexOf("fxios")>=0?(n="mozilla",s=/fxios\/(\d+\.\d+)/.exec(i),s=s&&s[1]):i.indexOf("safari")>=0&&/version|phantomjs/.test(i)?(n="safari",s=/(?:version|phantomjs)\/([0-9.]+)/.exec(i),s=s&&s[1]):(n="unknown",s=/applewebkit\/([0-9.]+)/.exec(i),s=s&&s[1])),n&&(e[n]=!0,e.version=s),e},Rt=I({_fromUA:ap},ap(TC.userAgent)),lp=(function(){let i=[];return{add:function(e){i.includes(e)||i.push(e)},remove:function(e){const t=i.indexOf(e);t!==-1&&i.splice(t,1)},fire:function(){const e=i.pop(),t=!!e;return t&&e(),t},hasCallback:function(){return i.length>0}}})(),kC=["January","February","March","April","May","June","July","August","September","October","November","December"],MC=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],RC=["AM","PM"],PC=["Q1","Q2","Q3","Q4"],cp=(i,e)=>{const t={abbreviated:3,short:2,narrow:1};return qe(i,(n=>n.substr(0,t[e])))},Zn={getMonthNames:function(i){return cp(kC,i)},getDayNames:function(i){return cp(MC,i)},getQuarterNames:function(i){return PC},getPeriodNames:function(i){return RC}};function Pt(i,e){for(;i.length<e;)i="0"+i;return i}const Us={3:"abbreviated",4:"wide",5:"narrow"},Ml={y:function(i,e,t){let n=i[t?"getUTCFullYear":"getFullYear"]();return e===2&&(n%=100),Pt(n.toString(),e)},M:function(i,e,t,n){const s=i[t?"getUTCMonth":"getMonth"](),o=Us[e];return o?n.getMonthNames(o,"format")[s]:Pt((s+1).toString(),Math.min(e,2))},L:function(i,e,t,n){const s=i[t?"getUTCMonth":"getMonth"](),o=Us[e];return o?n.getMonthNames(o,"standalone")[s]:Pt((s+1).toString(),Math.min(e,2))},Q:function(i,e,t,n){const s=i[t?"getUTCMonth":"getMonth"](),o=Math.floor(s/3),r=Us[e];return r?n.getQuarterNames(r)[o]:Pt((o+1).toString(),Math.min(e,2))},E:function(i,e,t,n){const s=i[t?"getUTCDay":"getDay"](),o=Us[e<3?3:e];return n.getDayNames(o)[s]},a:function(i,e,t,n){const o=i[t?"getUTCHours":"getHours"]()<12?0:1,r=Us[e];return n.getPeriodNames(r)[o]},d:function(i,e,t){return Pt(i[t?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(i,e,t){return Pt(i[t?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(i,e,t){const n=i[t?"getUTCHours":"getHours"]();return Pt((n%12||12).toString(),Math.min(e,2))},m:function(i,e,t){return Pt(i[t?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(i,e,t){return Pt(i[t?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(i,e,t){return Pt(i[t?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(i,e,t){const n=t?0:i.getTimezoneOffset(),s=n>0?"-":"+",o=Math.abs(n),r=Math.floor(o/60),a=o%60,l=Pt(r.toString(),2),c=Pt(a.toString(),2);return s+l+(e>=3?":":"")+(e>1||a?c:"")},X:function(i,e,t){return t||!i.getTimezoneOffset()?"Z":Ml.x(i,e,t)},Z:function(i,e,t){return Ml.X(i,e>=5?3:2,t)}},dp=function(i,e){return function(t){let n,s,o,r=0,a=!1,l,c="";if(!t)return null;if(!i)return t;const d=i[i.length-1]==="Z"||i.slice(-3)==="'Z'";for(n=0;n<i.length;n++)o=i[n],s=Ml[o],l=o===i[n+1],r++,l||(s&&!a&&(c+=s(t,r,d,e)),r=0),o==="'"&&!l?a=!a:(a||!s)&&(c+=o),o==="'"&&l&&n++;return c}},up=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,hp=/^(\d{2}):(\d{2})(:(\d{2}))?$/,pp=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],$C=/^(\d{4})\/(\d{2})\/(\d{2})$/,mp=function(i,e){let t;return le(i)&&!e&&(t=VC(i)),t||BC(i)};function dt(i){return+i||0}function BC(i){const e=fp(i)==="yyyy/MM/dd",t=!zt(i)&&Date.parse(i);if(!t&&e){const n=i.match($C);if(n){const s=new Date(dt(n[1]),dt(n[2]),dt(n[3]));return s.setFullYear(dt(n[1])),s.setMonth(dt(n[2])-1),s.setDate(dt(n[3])),s}}return Le(t)?new Date(t):i}function VC(i){let e=i.match(up);if(!e)return e=i.match(hp),e?new Date(0,0,0,dt(e[1]),dt(e[2]),dt(e[4])):void 0;const t=dt(e[1]),n=--e[3],s=e[5];let o=0,r=0;const a=p=>(t<100&&p.setFullYear(t),p);o=dt(e[14]),r=dt(e[16]),e[13]==="-"&&(o=-o,r=-r);const l=dt(e[6])-o,c=dt(e[8])-r,d=dt(e[10]),h=(function(p){return p=p||"",dt(p)*10**(3-p.length)})(e[11]);return e[12]?a(new Date(Date.UTC(t,n,s,l,c,d,h))):a(new Date(t,n,s,l,c,d,h))}const LC=function(i,e){let t=i.match(up),n="";if(!t)return t=i.match(hp),t?t[3]?"HH:mm:ss":"HH:mm":void 0;for(let s=1;s<pp.length;s++)t[s]&&(n+=pp[s]||t[s]);return t[12]==="Z"&&(n+="'Z'"),t[14]&&(t[15]?n+="xxx":t[16]?n+="xx":n+="x"),n},FC=function(i){return typeof i=="number"?new Date(i):mp(i,!ce().forceIsoDateParsing)},HC=function(i,e){return e?zt(i)?e==="number"?i&&i.valueOf?i.valueOf():null:dp(e,Zn)(i):null:i},fp=function(i){if(typeof i=="number")return"number";if(le(i)){let e;return ce().forceIsoDateParsing&&(e=LC(i)),e||(i.includes(":")?"yyyy/MM/dd HH:mm:ss":"yyyy/MM/dd")}if(i)return null},Ye={dateParser:mp,deserializeDate:FC,serializeDate:HC,getDateSerializationFormat:fp},vn=function(i){return i===0?0:i/Math.abs(i)},at=function(i,e,t){const n=!e&&e!==0,s=!t&&t!==0;return n&&(e=s?i:Math.min(i,t)),s&&(t=n?i:Math.max(i,e)),Math.min(Math.max(i,e),t)},gi=function(i,e,t){return i>=e&&i<=t};function NC(i){const[e,t]=i.toExponential().split("e");return Math.abs(parseInt(t,10))}function WC(i){const e=i.toExponential().split("e"),t=parseFloat(e[0]);return{exponent:parseInt(e[1],10),mantissa:t}}function _p(i,e){const t=WC(i);return parseFloat(`${t.mantissa}e${t.exponent+e}`)}function gp(i,e){const t=Math.abs(i),n=t>1?10:0,o=GC(e??0)+2>7?15:7,[r,a]=i.toString().split("."),l=i;if(Pa(i))return zC(i,o);if(!a)return i;if(Pa(e)){const g=r.length+NC(e);return parseFloat(l.toPrecision(g))}const d=t-Math.floor(t),h=n+d,p=parseFloat(h.toPrecision(o)).toString().split(".");return p[0]===n.toString()?parseFloat(`${r}.${p[1]}`):parseFloat(l.toPrecision(o))}function zC(i,e){const t=i.toExponential(),[n,s]=t.split("e");return n.includes(".")?parseFloat(i.toPrecision(e)):parseFloat(t)}function GC(i){const e=i.toString();if(!e.includes("."))return 0;const[t,n]=e.split("."),s=n.indexOf("e");return s>=0?s:n.length}const KC={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function js(i){return KC[i]}const qs=["millisecond","second","minute","hour","day","week","month","quarter","year"],UC=function(i,e,t){const n=e.getTime()-i.getTime(),s=js(t)||1;return Math.floor(n/s)},jC=function(i,e){switch(hr(i)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},vp=function(i){let e,t,n;const s=["millisecond","second","minute","hour","day","month","year"],o={};for(e=s.length-1;e>=0;e--)n=s[e],t=Math.floor(i/js(n)),t>0&&(o[`${n}s`]=t,i-=ur(n,t));return o},qC=function(i){let e=0;return X(i)&&S(i,(function(t,n){e+=ur(t.substr(0,t.length-1),n)})),le(i)&&(e=ur(i,1)),e};function ur(i,e){return js(i)*e}function hr(i){let e=-1,t;return le(i)?i:X(i)?(S(i,(function(n,s){for(t=0;t<qs.length;t++)s&&(n===`${qs[t]}s`||n===qs[t])&&e<t&&(e=t)})),qs[e]):""}const YC={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function XC(i){return YC[hr(i)]||""}const xp=function(i){return Math.floor(i/3)},yp=function(i){return 3*xp(i)};function Rl(i,e,t,n){i=new Date(i.getTime());const s=new Date(i.getTime());let o,r;const a=hr(e);switch(a){case"second":i=new Date(1e3*Math.floor(s.getTime()/1e3));break;case"minute":i=new Date(6e4*Math.floor(s.getTime()/6e4));break;case"hour":i=new Date(36e5*Math.floor(s.getTime()/36e5));break;case"year":i.setMonth(0);case"month":i.setDate(1);case"day":i.setHours(0,0,0,0);break;case"week":i=Dp(i,n||0),i.setHours(0,0,0,0);break;case"quarter":o=yp(i.getMonth()),r=i.getMonth(),i.setDate(1),i.setHours(0,0,0,0),r!==o&&i.setMonth(o)}return t&&a!=="hour"&&a!=="minute"&&a!=="second"&&Mp(s,i),i}function Cp(i){return Rl(i,"day")}const ZC=function(i){const e=Cp(i);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},JC=function(i,e){let t=0;const n={year:i.getFullYear()!==e.getFullYear(),month:i.getMonth()!==e.getMonth(),day:i.getDate()!==e.getDate(),hour:i.getHours()!==e.getHours(),minute:i.getMinutes()!==e.getMinutes(),second:i.getSeconds()!==e.getSeconds(),millisecond:i.getMilliseconds()!==e.getMilliseconds()};return S(n,(function(s,o){o&&t++})),t===0&&Rp(i,e)!==0&&(n.hour=!0,t++),n.count=t,n};function bp(i,e,t){const n=new Date(i.getTime()),s=le(e)?Ep(e.toLowerCase()):Le(e)?vp(e):e;return s.years&&n.setFullYear(n.getFullYear()+s.years*t),s.quarters&&n.setMonth(n.getMonth()+3*s.quarters*t),s.months&&n.setMonth(n.getMonth()+s.months*t),s.weeks&&n.setDate(n.getDate()+7*s.weeks*t),s.days&&n.setDate(n.getDate()+s.days*t),s.hours&&n.setTime(n.getTime()+36e5*s.hours*t),s.minutes&&n.setTime(n.getTime()+6e4*s.minutes*t),s.seconds&&n.setTime(n.getTime()+1e3*s.seconds*t),s.milliseconds&&n.setTime(n.getTime()+s.milliseconds*t),n}const Sp=function(i,e,t){const n=t?-1:1;return zt(i)?bp(i,e,n):gp(i+e*n,e)},QC=function(i,e,t){const n=[];let s;for(n.push(zt(i)?new Date(i.getTime()):i),s=i;s<e;)s=Sp(s,t),n.push(s);return n},eb=function(i,e){if(i==="month")return Et(e.getFullYear(),e.getMonth(),1);if(i==="year")return Et(e.getFullYear(),0,e.getDate());if(i==="decade")return Et(Xs(e),e.getMonth(),e.getDate());if(i==="century")return Et(Ys(e),e.getMonth(),e.getDate())},tb=function(i,e){if(i==="month")return Et(e.getFullYear(),e.getMonth(),pr(e));if(i==="year")return Et(e.getFullYear(),11,e.getDate());if(i==="decade")return Et(Xs(e)+9,e.getMonth(),e.getDate());if(i==="century")return Et(Ys(e)+90,e.getMonth(),e.getDate())},ib=function(i,e){const t=Et(e.getFullYear(),e.getMonth(),1);return i==="month"||(t.setMonth(0),i==="year")||(i==="decade"&&t.setFullYear(Xs(e)),i==="century"&&t.setFullYear(Ys(e))),t},nb=function(i,e){const t=new Date(e);return t.setDate(pr(e)),i==="month"||(t.setMonth(11),t.setDate(pr(t)),i==="year")||(i==="decade"&&t.setFullYear(Xs(e)+9),i==="century"&&t.setFullYear(Ys(e)+99)),t};function pr(i){return Et(i.getFullYear(),i.getMonth()+1,0).getDate()}const sb=function(i){switch(i){case"month":return"year";case"year":return"decade";case"decade":return"century"}},ob=function(i){switch(i){case"century":return"decade";case"decade":return"year";case"year":return"month"}},rb=function(i){let e=1;return i==="year"&&(e=12),i==="decade"&&(e=120),i==="century"&&(e=1200),e},ab=function(i){let e=1;return i==="decade"&&(e=12),i==="century"&&(e=120),e};function Ep(i){const e={};switch(i){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function Ip(i,e){return Pl(i,e)&&i.getDate()===e.getDate()}function Pl(i,e){return wp(i,e)&&i.getMonth()===e.getMonth()}function wp(i,e){return i&&e&&i.getFullYear()===e.getFullYear()}function lb(i,e){return i&&e&&i.getHours()===e.getHours()&&i.getMinutes()===e.getMinutes()}const cb=function(i,e){if(!y(i)||!y(e))return!1;const t=i.getFullYear()-i.getFullYear()%10,n=e.getFullYear()-e.getFullYear()%10;return i&&e&&t===n},db=function(i,e){if(!y(i)||!y(e))return!1;const t=i.getFullYear()-i.getFullYear()%100,n=e.getFullYear()-e.getFullYear()%100;return i&&e&&t===n},ub=(i,e)=>!Array.isArray(i)||!Array.isArray(e)||i.length!==e.length?!1:i.every(((t,n)=>{const s=e[n];return[t,s].some((o=>o!==null&&!(o instanceof Date)))?!1:t instanceof Date&&s instanceof Date?Ip(t,s):t===s}));function Ys(i){return i&&i.getFullYear()-i.getFullYear()%100}function Xs(i){return i&&i.getFullYear()-i.getFullYear()%10}const hb=function(){return"yyyy/MM/dd"},pb=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!y(i))return;const t=new Date(i.getTime()),n=t.getMonth()+e;return t.setMonth(n),Et(t.getFullYear(),n,1)},mb=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!y(i))return;const t=new Date(i.getTime()),n=t.getMonth()+e;return t.setMonth(n),Et(t.getFullYear(),n+1,0)};function Dp(i,e){const t=(i.getDay()-e+7)%7,n=new Date(i);return n.setDate(i.getDate()-t),n}function Tp(i){return Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())}function fb(i){const e=Tp(i)-Tp(Ap(i.getFullYear()));return 1+Math.floor(e/js("day"))}function Ap(i){return new Date(i,0,1)}function $l(i){return new Date(i,11,31)}function Op(i,e){let t=i.getDay()-e+1;return t<=0&&(t+=7),t}function Bl(i,e,t){const n=Op(Ap(i.getFullYear()),e),s=Op($l(i.getFullYear()),e),o=7-n+1;let r=Math.ceil((fb(i)-o)/7);switch(t){case"fullWeek":if(o===7&&(r+=1),r===0){const a=$l(i.getFullYear()-1);return Bl(a,e,t)}return r;case"firstDay":{o>0&&(r+=1);const a=n===7||s===7;return(r>52&&!a||r===54)&&(r=1),r}case"firstFourDays":{o>3&&(r+=1);const a=n===4||s===4;if(r>52&&!a&&(r=1),r===0){const l=$l(i.getFullYear()-1);return Bl(l,e,t)}return r}default:return r}}const _b=function(i,e){const t=P.getDatesInterval(i,e,"day");let n=new Date(i);return t>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},gb=function(i,e,t,n){return n==="date"&&(e=e&&P.correctDateWithUnitBeginning(e,"day"),t=t&&P.correctDateWithUnitBeginning(t,"day"),i=i&&P.correctDateWithUnitBeginning(i,"day")),kp(i,e,t)===i},vb=function(i){const{firstMin:e,firstMax:t,secondMin:n,secondMax:s}=i;return e<=n&&n<=t||e>n&&e<s||e<s&&t>s},xb=function(i){const e=Math.floor(i),t=Math.round(i%1*60);return{hours:e,minutes:t}},yb=function(i,e){const t=this.dateTimeFromDecimal(e),n=new Date(i);return(i.getHours()===t.hours&&i.getMinutes()<t.minutes||i.getHours()<t.hours)&&n.setHours(t.hours,t.minutes,0,0),n};function kp(i,e,t){let n=i;return y(i)?(y(e)&&i<e&&(n=e),y(t)&&i>t&&(n=t),n):i}function Mp(i,e){if(!y(i))return;const t=e.getHours()-i.getHours();if(t===0)return;const n=t===1||t===-23?-1:1,s=new Date(e.getTime()+36e5*n);(n>0||s.getDate()===e.getDate())&&e.setTime(s.getTime())}const Cb=function(i){const e=new Date(i.getTime());return e.setHours(e.getHours()+1),e.setMinutes(0),e};function Rp(i,e){return 60*(e.getTimezoneOffset()-i.getTimezoneOffset())*1e3}const bb=function(i){return new Date(i)},Sb=function(i,e,t){const n=[];let s=new Date(i.getTime());for(;s<e;)n.push(new Date(s.getTime())),s=this.addInterval(s,t);return n},Et=function(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];const s=new Date(i,...t);return s.setFullYear(i),s},P={dateUnitIntervals:qs,convertMillisecondsToDateUnits:vp,dateToMilliseconds:qC,getNextDateUnit:jC,convertDateUnitToMilliseconds:ur,getDateUnitInterval:hr,getDateFormatByTickInterval:XC,getDatesDifferences:JC,correctDateWithUnitBeginning:Rl,trimTime:Cp,setToDayEnd:ZC,roundDateByStartDayHour:yb,dateTimeFromDecimal:xb,addDateInterval:bp,addInterval:Sp,getSequenceByInterval:QC,getDateIntervalByString:Ep,sameHoursAndMinutes:lb,sameDate:Ip,sameMonthAndYear:Pl,sameMonth:Pl,sameYear:wp,sameDecade:cb,sameCentury:db,sameView:function(i,e,t){return P[Ps(`same ${i}`)](e,t)},sameDatesArrays:ub,getDifferenceInMonth:rb,getDifferenceInMonthForCells:ab,getFirstYearInDecade:Xs,getFirstDecadeInCentury:Ys,getShortDateFormat:hb,getViewFirstCellDate:eb,getViewLastCellDate:tb,getViewDown:ob,getViewUp:sb,getLastMonthDay:pr,getLastMonthDate:mb,getFirstMonthDate:pb,getFirstWeekDate:Dp,getWeekNumber:Bl,normalizeDateByWeek:_b,getQuarter:xp,getFirstQuarterMonth:yp,dateInRange:gb,intervalsOverlap:vb,roundToHour:Cb,normalizeDate:kp,getViewMinBoundaryDate:ib,getViewMaxBoundaryDate:nb,fixTimezoneGap:Mp,getTimezonesDifference:Rp,makeDate:bb,getDatesInterval:UC,getDatesOfInterval:Sb,createDateWithFullYear:Et,getMachineTimezoneName:()=>typeof Intl<"u"?Intl.DateTimeFormat().resolvedOptions().timeZone:null,getRangesByDates:i=>{const t=i.map((r=>Rl(r,"day").getTime())).sort(((r,a)=>r-a)),n=js("day"),s=[];let o=t[0];for(let r=1;r<=t.length;++r){const a=t[r],l=t[r-1];if(a-l>n||r===t.length){const h=(o===t[r-1]?[o]:[o,t[r-1]]).map((p=>Ye.deserializeDate(p)));s.push(h),o=a}}return s}},Eb={value:["Etc/GMT+12","Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago","Pacific/Samoa","US/Samoa","Etc/GMT+10","HST","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti","US/Hawaii","Pacific/Marquesas","America/Adak","America/Atka","Etc/GMT+9","Pacific/Gambier","US/Aleutian","America/Anchorage","America/Juneau","America/Metlakatla","America/Nome","America/Sitka","America/Yakutat","Etc/GMT+8","Pacific/Pitcairn","US/Alaska","America/Creston","America/Dawson_Creek","America/Dawson","America/Ensenada","America/Fort_Nelson","America/Hermosillo","America/Los_Angeles","America/Phoenix","America/Santa_Isabel","America/Tijuana","America/Vancouver","America/Whitehorse","Canada/Pacific","Canada/Yukon","Etc/GMT+7","Mexico/BajaNorte","MST","PST8PDT","US/Arizona","US/Pacific","America/Belize","America/Boise","America/Cambridge_Bay","America/Chihuahua","America/Costa_Rica","America/Denver","America/Edmonton","America/El_Salvador","America/Guatemala","America/Inuvik","America/Managua","America/Mazatlan","America/Monterrey","America/Ojinaga","America/Regina","America/Shiprock","America/Swift_Current","America/Tegucigalpa","America/Yellowknife","Canada/Mountain","Canada/Saskatchewan","Chile/EasterIsland","Etc/GMT+6","Mexico/BajaSur","MST7MDT","Navajo","Pacific/Easter","Pacific/Galapagos","US/Mountain","America/Atikokan","America/Bahia_Banderas","America/Bogota","America/Cancun","America/Cayman","America/Chicago","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Indiana/Knox","America/Indiana/Tell_City","America/Jamaica","America/Knox_IN","America/Lima","America/Matamoros","America/Menominee","America/Merida","America/Mexico_City","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Panama","America/Porto_Acre","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Rio_Branco","America/Winnipeg","Brazil/Acre","Canada/Central","CST6CDT","EST","Etc/GMT+5","Jamaica","Mexico/General","US/Central","US/Indiana-Starke","America/Anguilla","America/Antigua","America/Aruba","America/Asuncion","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Campo_Grande","America/Caracas","America/Cuiaba","America/Curacao","America/Detroit","America/Dominica","America/Fort_Wayne","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Havana","America/Indiana/Indianapolis","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Iqaluit","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Louisville","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port_of_Spain","America/Port-au-Prince","America/Porto_Velho","America/Puerto_Rico","America/Santiago","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Thunder_Bay","America/Toronto","America/Tortola","America/Virgin","Brazil/West","Canada/Eastern","Chile/Continental","Cuba","EST5EDT","Etc/GMT+4","US/East-Indiana","US/Eastern","US/Michigan","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/ComodRivadavia","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Bahia","America/Belem","America/Buenos_Aires","America/Catamarca","America/Cayenne","America/Cordoba","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Jujuy","America/Maceio","America/Mendoza","America/Moncton","America/Montevideo","America/Paramaribo","America/Punta_Arenas","America/Recife","America/Rosario","America/Santarem","America/Sao_Paulo","America/Thule","Antarctica/Palmer","Antarctica/Rothera","Atlantic/Bermuda","Atlantic/Stanley","Brazil/East","Canada/Atlantic","Etc/GMT+3","America/St_Johns","Canada/Newfoundland","America/Godthab","America/Miquelon","America/Noronha","America/Nuuk","Atlantic/South_Georgia","Brazil/DeNoronha","Etc/GMT+2","Atlantic/Cape_Verde","Etc/GMT+1","Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Africa/Timbuktu","America/Danmarkshavn","America/Scoresbysund","Atlantic/Azores","Atlantic/Reykjavik","Atlantic/St_Helena","Etc/GMT-0","Etc/GMT","Etc/GMT+0","Etc/GMT0","Etc/Greenwich","Etc/UCT","Etc/Universal","Etc/UTC","Etc/Zulu","GMT-0","GMT","GMT+0","GMT0","Greenwich","Iceland","UCT","Universal","UTC","Zulu","Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Casablanca","Africa/Douala","Africa/El_Aaiun","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Atlantic/Canary","Atlantic/Faeroe","Atlantic/Faroe","Atlantic/Madeira","Eire","Etc/GMT-1","Europe/Belfast","Europe/Dublin","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Lisbon","Europe/London","GB-Eire","GB","Portugal","WET","Africa/Blantyre","Africa/Bujumbura","Africa/Cairo","Africa/Ceuta","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Khartoum","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Tripoli","Africa/Windhoek","Antarctica/Troll","Arctic/Longyearbyen","Atlantic/Jan_Mayen","CET","Egypt","Etc/GMT-2","Europe/Amsterdam","Europe/Andorra","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Budapest","Europe/Busingen","Europe/Copenhagen","Europe/Gibraltar","Europe/Kaliningrad","Europe/Ljubljana","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Rome","Europe/San_Marino","Europe/Sarajevo","Europe/Skopje","Europe/Stockholm","Europe/Tirane","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Warsaw","Europe/Zagreb","Europe/Zurich","Libya","MET","Poland","Africa/Addis_Ababa","Africa/Asmara","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Asia/Aden","Asia/Amman","Asia/Baghdad","Asia/Bahrain","Asia/Beirut","Asia/Damascus","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Istanbul","Asia/Jerusalem","Asia/Kuwait","Asia/Nicosia","Asia/Qatar","Asia/Riyadh","Asia/Tel_Aviv","EET","Etc/GMT-3","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Istanbul","Europe/Kiev","Europe/Kirov","Europe/Mariehamn","Europe/Minsk","Europe/Moscow","Europe/Nicosia","Europe/Riga","Europe/Simferopol","Europe/Sofia","Europe/Tallinn","Europe/Tiraspol","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte","Israel","Turkey","W-SU","Asia/Baku","Asia/Dubai","Asia/Muscat","Asia/Tbilisi","Asia/Yerevan","Etc/GMT-4","Europe/Astrakhan","Europe/Samara","Europe/Saratov","Europe/Ulyanovsk","Europe/Volgograd","Indian/Mahe","Indian/Mauritius","Indian/Reunion","Asia/Kabul","Asia/Tehran","Iran","Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Ashkhabad","Asia/Atyrau","Asia/Dushanbe","Asia/Karachi","Asia/Oral","Asia/Qyzylorda","Asia/Samarkand","Asia/Tashkent","Asia/Yekaterinburg","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives","Asia/Calcutta","Asia/Colombo","Asia/Kolkata","Asia/Kathmandu","Asia/Katmandu","Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Dacca","Asia/Dhaka","Asia/Kashgar","Asia/Omsk","Asia/Qostanay","Asia/Thimbu","Asia/Thimphu","Asia/Urumqi","Etc/GMT-6","Indian/Chagos","Asia/Rangoon","Asia/Yangon","Indian/Cocos","Antarctica/Davis","Asia/Bangkok","Asia/Barnaul","Asia/Ho_Chi_Minh","Asia/Hovd","Asia/Jakarta","Asia/Krasnoyarsk","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Tomsk","Asia/Vientiane","Etc/GMT-7","Indian/Christmas","Antarctica/Casey","Asia/Brunei","Asia/Choibalsan","Asia/Chongqing","Asia/Chungking","Asia/Harbin","Asia/Hong_Kong","Asia/Irkutsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macao","Asia/Macau","Asia/Makassar","Asia/Manila","Asia/Shanghai","Asia/Singapore","Asia/Taipei","Asia/Ujung_Pandang","Asia/Ulaanbaatar","Asia/Ulan_Bator","Australia/Perth","Australia/West","Etc/GMT-8","Hongkong","PRC","ROC","Singapore","Australia/Eucla","Asia/Chita","Asia/Dili","Asia/Jayapura","Asia/Khandyga","Asia/Pyongyang","Asia/Seoul","Asia/Tokyo","Asia/Yakutsk","Etc/GMT-9","Japan","Pacific/Palau","ROK","Australia/Adelaide","Australia/Broken_Hill","Australia/Darwin","Australia/North","Australia/South","Australia/Yancowinna","Antarctica/DumontDUrville","Asia/Ust-Nera","Asia/Vladivostok","Australia/ACT","Australia/Brisbane","Australia/Canberra","Australia/Currie","Australia/Hobart","Australia/Lindeman","Australia/Melbourne","Australia/NSW","Australia/Queensland","Australia/Sydney","Australia/Tasmania","Australia/Victoria","Etc/GMT-10","Pacific/Chuuk","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk","Pacific/Yap","Australia/LHI","Australia/Lord_Howe","Antarctica/Macquarie","Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk","Etc/GMT-11","Pacific/Bougainville","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Norfolk","Pacific/Noumea","Pacific/Pohnpei","Pacific/Ponape","Antarctica/McMurdo","Antarctica/South_Pole","Asia/Anadyr","Asia/Kamchatka","Etc/GMT-12","Kwajalein","NZ","Pacific/Auckland","Pacific/Fiji","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis","NZ-CHAT","Pacific/Chatham","Etc/GMT-13","Pacific/Apia","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu","Etc/GMT-14","Pacific/Kiritimati"]};new Set(Eb.value),P.dateToMilliseconds;const Pp=we(),Ib=/left|right/,wb=/top|bottom/,$p=/fit|flip|none/,Db=/scale\(.+?\)/,Tb=Rt.safari,Vl=function(i){const e={h:"center",v:"center"},t=zn(i);return t&&S(t,(function(){const n=String(this).toLowerCase();Ib.test(n)?e.h=n:wb.test(n)&&(e.v=n)})),e},Bp=function(i,e){return Ha(i,e)},Ab=function(i){const e=zn(i);let t=String(e&&e[0]).toLowerCase(),n=String(e&&e[1]).toLowerCase();return $p.test(t)||(t="none"),$p.test(n)||(n=t),{h:t,v:n}},Vp=function(i){switch(i){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},Ll=function(i){switch(i){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return i}},Fl=function(i,e){let t=0;return i.myLocation<e.min&&(t+=e.min-i.myLocation),i.myLocation>e.max&&(t+=i.myLocation-e.max),t},Lp=function(i,e,t){return e.myLocation<t.min?i==="h"?"left":"top":e.myLocation>t.max?i==="h"?"right":"bottom":"none"},Hl=function(i){i.myLocation=i.atLocation+Vp(i.atAlign)*i.atSize-Vp(i.myAlign)*i.mySize+i.offset},mr={fit:function(i,e){let t=!1;i.myLocation>e.max&&(i.myLocation=e.max,t=!0),i.myLocation<e.min&&(i.myLocation=e.min,t=!0),i.fit=t},flip:function(i,e){if(i.flip=!1,!(i.myAlign==="center"&&i.atAlign==="center")&&(i.myLocation<e.min||i.myLocation>e.max)){const t=I({},i,{myAlign:Ll(i.myAlign),atAlign:Ll(i.atAlign),offset:-i.offset});Hl(t),t.oversize=Fl(t,e),(t.myLocation>=e.min&&t.myLocation<=e.max||i.oversize>t.oversize)&&(i.myLocation=t.myLocation,i.oversize=t.oversize,i.flip=!0)}},flipfit:function(i,e){this.flip(i,e),this.fit(i,e)},none:function(i){i.oversize=0}};let Fp;const Hp=function(){const i=u("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(u("body")),e=i.get(0).offsetWidth-i.get(0).clientWidth;i.remove(),Fp=e},Ob={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},Np=function(i,e){const t=u(i),n=t.offset(),s=I(!0,{},Ob,{h:{location:n.left},v:{location:n.top}});if(!e)return s;const o=Vl(e.my),r=Vl(e.at);let a=u(e.of).length&&e.of||Pp;const l=Bp(e.offset,e.precise),c=Ab(e.collision),d=e.boundary,h=Bp(e.boundaryOffset,e.precise),p={mySize:Ue(t),myAlign:o.h,atAlign:r.h,offset:l.h,collision:c.h,boundaryOffset:h.h},m={mySize:He(t),myAlign:o.v,atAlign:r.v,offset:l.v,collision:c.v,boundaryOffset:h.v};if(a.preventDefault)p.atLocation=a.pageX,m.atLocation=a.pageY,p.atSize=0,m.atSize=0;else if(a=u(a),Ve(a[0]))p.atLocation=a.scrollLeft(),m.atLocation=a.scrollTop(),B.real().deviceType==="phone"&&a[0].visualViewport?(p.atLocation=Math.max(p.atLocation,a[0].visualViewport.offsetLeft),m.atLocation=Math.max(m.atLocation,a[0].visualViewport.offsetTop),p.atSize=a[0].visualViewport.width,m.atSize=a[0].visualViewport.height):(p.atSize=a[0].innerWidth>a[0].outerWidth?a[0].innerWidth:me(a),m.atSize=a[0].innerHeight>a[0].outerHeight||Tb?a[0].innerHeight:Oe(a));else if(a[0].nodeType===9)p.atLocation=0,m.atLocation=0,p.atSize=me(a),m.atSize=Oe(a);else{const v=Fi(a.get(0)),b=fr(a);p.atLocation=b.left,m.atLocation=b.top,p.atSize=Math.max(v.width,Ue(a)),m.atSize=Math.max(v.height,He(a))}Hl(p),Hl(m);const g=(function(){const v=u(Pp),b=me(v),w=Oe(v);let T=v.scrollLeft(),H=v.scrollTop();const N=D.getDocumentElement(),Y=kl?N.clientWidth/b:1,z=kl?N.clientHeight/w:1;Fp===void 0&&Hp();let be=b,q=w;if(d&&!Ve(d)){const de=u(d),Z=de.offset();T=Z.left,H=Z.top,be=me(de),q=Oe(de)}return{h:{min:T+p.boundaryOffset,max:T+be/Y-p.mySize-p.boundaryOffset},v:{min:H+m.boundaryOffset,max:H+q/z-m.mySize-m.boundaryOffset}}})();p.oversize=Fl(p,g.h),m.oversize=Fl(m,g.v),p.collisionSide=Lp("h",p,g.h),m.collisionSide=Lp("v",m,g.v),mr[p.collision]&&mr[p.collision](p,g.h),mr[m.collision]&&mr[m.collision](m,g.v);const f=function(v){return e.precise?v:Math.round(v)};return I(!0,s,{h:{location:f(p.myLocation),oversize:f(p.oversize),fit:p.fit,flip:p.flip,collisionSide:p.collisionSide},v:{location:f(m.myLocation),oversize:f(m.oversize),fit:m.fit,flip:m.flip,collisionSide:m.collisionSide},precise:e.precise}),s},Wp=function(i,e,t,n){const s=y(i.style)&&!D.isNode(i.style),o=n?t.replace(e,""):t;if(s)nh(i,o,!1);else{const r=D.createAttribute("style");r.value=o,i.setAttributeNode(r)}},fr=function(i){var e,t;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i;const s=n.get(0);if(!s)return i.offset();const o=((e=s.getAttribute)===null||e===void 0?void 0:e.call(s,"style"))||"",r=(t=o.match(Db))===null||t===void 0?void 0:t[0];let a;return r?(Wp(s,r,o,!0),a=fr(i,n.parent()),Wp(s,r,o,!1)):a=fr(i,n.parent()),a},Zs=function(i,e){const t=u(i);if(!e)return t.offset();lr(t,!0);const n=fr(t),s=e.h&&e.v?e:Np(t,e),o=function(r){return e.precise?r:Math.round(r)};return rt(t,{left:s.h.location-o(n.left),top:s.v.location-o(n.top)}),s},kb=function(i){return i=u(i).get(0),Ve(i)?null:i&&"pageY"in i&&"pageX"in i?{top:i.pageY,left:i.pageX}:u(i).offset()};Zs.inverseAlign||(Zs.inverseAlign=Ll),Zs.normalizeAlign||(Zs.normalizeAlign=Vl);const Js={calculateScrollbarWidth:Hp,calculate:Np,setup:Zs,offset:kb},zp=(i,e)=>{if(!Mb(i))return!1;const t=i.nodeName.toLowerCase(),n=!isNaN(e),s=i.disabled,o=/^(input|select|textarea|button|object|iframe)$/.test(t),r=t==="a";let a;const{isContentEditable:l}=i;return o||l?a=!s:r?a=i.href||n:a=n,a};function Mb(i){const e=u(i);return e.is(":visible")&&e.css("visibility")!=="hidden"&&e.parents().css("visibility")!=="hidden"}const Nl=(i,e)=>zp(e,u(e).attr("tabIndex")),Rb=(i,e)=>{const t=u(e).attr("tabIndex");return(isNaN(t)||t>=0)&&zp(e,t)},Jn=i=>{const e=u(i).get(0);return D.getActiveElement(e)===e},Gp={tabbable:Rb},Wl=(i,e)=>{if(!e)throw he.Error("E0017");return Array.isArray(i)?i.map((t=>Wl(t,e))).join(" "):i.indexOf(" ")!==-1?Wl(i.split(/\s+/g),e):`${i}.${e}`},Pb={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},$b={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},Bb={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},Qs=i=>{let{type:e}=i,t="other";return S(Bb,(function(n){if(this.test(e))return t=n,!1})),t};let Vb=i=>i;const Lb=i=>_.Event(i,i),Fb=i=>Vb(Lb(i)),zl=i=>Qs(i)==="dx",Hb=i=>Qs(i)==="mouse",Kp=i=>Qs(i)==="touch",Up=i=>Qs(i)==="pointer",xn=i=>Hb(i)||(Up(i)||zl(i))&&i.pointerType==="mouse",mt=i=>i&&i.type==="dxmousewheel",_r=i=>Kp(i)||(Up(i)||zl(i))&&i.pointerType==="touch",We=i=>{let{pageX:e,pageY:t,timeStamp:n}=i;return{x:e,y:t,time:n}},yn=(i,e)=>({x:e.x-i.x,y:e.y-i.y,time:e.time-i.time||1}),Nb=i=>{const{originalEvent:e,pointers:t}=i;return Kp(i)?(e.touches||[]).length:zl(i)?(t||[]).length:0},Wb=i=>{const{target:e}=i,t=u(e),n=e?.isContentEditable||e?.hasAttribute("contenteditable"),s=t.is("input, textarea, select")||n;if(mt(i))return t.is("textarea")&&t.hasClass("dx-texteditor-input")||n?!1:t.is("input[type='number'], textarea, select")&&t.is(":focus");if(xn(i))return s||i.which>1;if(_r(i))return s&&Jn(t)},Gl=(i,e)=>{const t=Fb(i);return e&&I(t,e),t},Hi=i=>{const{originalEvent:e,delegateTarget:t}=i,n=Gl(e,i);return _.trigger(t||n.target,n),n},tt=i=>{let{key:e,which:t}=i;const n=Pb[e?.toLowerCase()]||e,s=$b[t];return s&&n===e?s:!n&&t?String.fromCharCode(t):n},Kl=i=>{let{key:e,which:t}=i;return e||String.fromCharCode(t)},k=Wl,ut=i=>{let{ctrlKey:e,metaKey:t}=i;return e||t},jp=we(),eo=k(pn,"dxFX"),zb=/^([+-])=(.*)/i,Gb={initAnimation:function(i,e){i.css({transitionProperty:"none"}),typeof e.from=="string"?i.addClass(e.from):Jl(i,e.from);const t=this,n=new A,s=e.cleanupWhen;e.transitionAnimation={deferred:n,finish:function(){t._finishTransition(i),s?Ie(n,s).always((function(){t._cleanup(i,e)})):t._cleanup(i,e),n.resolveWith(i,[e,i])}},this._completeAnimationCallback(i,e).done((function(){e.transitionAnimation.finish()})).fail((function(){n.rejectWith(i,[e,i])})),e.duration||e.transitionAnimation.finish(),i.css("transform")},animate:function(i,e){return this._startAnimation(i,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(i,e){const t=this,n=Date.now()+e.delay,s=new A,o=new A,r=new A;let a;const l=Mt.transitionEndEventName()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(a),clearTimeout(c),_.off(i,l),_.off(i,eo)},_.one(i,l,(function(){Date.now()-n>=e.duration&&o.reject()})),_.off(i,eo),_.on(i,eo,(function(){t.stop(i,e),s.reject()}));const c=setTimeout((function(){a=setTimeout((function(){r.reject()}),e.duration+e.delay+Te._simulatedTransitionEndDelay),Ie(o,r).fail((function(){s.resolve()}).bind(this))}));return s.promise()},_startAnimation:function(i,e){i.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),typeof e.to=="string"?i[0].className+=" "+e.to:e.to&&Jl(i,e.to)},_finishTransition:function(i){i.css("transition","none")},_cleanup:function(i,e){e.transitionAnimation.cleanup(),typeof e.from=="string"&&(i.removeClass(e.from),i.removeClass(e.to))},stop:function(i,e,t){e&&(t?e.transitionAnimation.finish():(J(e.to)&&S(e.to,(function(n){i.css(n,i.css(n))})),this._finishTransition(i),this._cleanup(i,e)))}},qp={initAnimation:function(i,e){Jl(i,e.from)},animate:function(i,e){const t=new A,n=this;return e?(S(e.to,(function(s){e.from[s]===void 0&&(e.from[s]=n._normalizeValue(i.css(s)))})),e.to.transform&&(e.from.transform=n._parseTransform(e.from.transform),e.to.transform=n._parseTransform(e.to.transform)),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:pC(e.easing),duration:e.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),_i(e.frameAnimation.animationFrameId),t.resolve()},draw:function(){if(e.draw){e.draw(this.currentValue);return}const s=I({},this.currentValue);s.transform&&(s.transform=qe(s.transform,(function(o,r){if(r==="translate")return Gs(o);if(r==="scale")return"scale("+o+")";if(r.substr(0,r.length-1)==="rotate")return r+"("+o+"deg)"})).join(" ")),i.css(s)}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout((function(){n._startAnimation(i,e)}),e.delay)):n._startAnimation(i,e),t.promise()):t.reject().promise()},_startAnimation:function(i,e){_.off(i,eo),_.on(i,eo,(function(){e.frameAnimation&&_i(e.frameAnimation.animationFrameId)})),this._animationStep(i,e)},_parseTransform:function(i){const e={};return S(i.match(/\w+\d*\w*\([^)]*\)\s*/g),(function(t,n){const s=uC(n),o=n.match(/scale\((.+?)\)/),r=n.match(/(rotate.)\((.+)deg\)/);s&&(e.translate=s),o&&o[1]&&(e.scale=parseFloat(o[1])),r&&r[1]&&(e[r[1]]=parseFloat(r[2]))})),e},stop:function(i,e,t){const n=e&&e.frameAnimation;n&&(_i(n.animationFrameId),clearTimeout(n.delayTimeout),t&&n.finish(),delete e.frameAnimation)},_animationStep:function(i,e){const t=e&&e.frameAnimation;if(!t)return;const n=new Date().valueOf();if(n>=t.startTime+t.duration){t.finish();return}t.currentValue=this._calcStepValue(t,n-t.startTime),t.draw();const s=this;t.animationFrameId=zs((function(){s._animationStep(i,e)}))},_calcStepValue:function(i,e){const t=function(n,s){const o=Array.isArray(s)?[]:{};return S(s,(function(r,a){if(typeof a=="string"&&parseFloat(a)===!1)return!0;o[r]=typeof a=="object"?t(n[r],a):(function(l){const c=e/i.duration,d=e,h=1*n[l],p=s[l]-n[l],m=i.duration;return mC(i.easing)(c,d,h,p,m)})(r)})),o};return t(i.from,i.to)},_normalizeValue:function(i){const e=parseFloat(i);return e===!1?i:e}},Kb={initAnimation:function(){},animate:function(){return new A().resolve().promise()},stop:M,isSynchronous:!0},Ub=function(i){i=i||{};const e={transition:Mt.transition()?Gb:qp,frame:qp,noAnimation:Kb};let t=i.strategy||"transition";return i.type==="css"&&!Mt.transition()&&(t="noAnimation"),e[t]},Yp=function(i,e,t,n){S(["from","to"],(function(){if(!t(i[this]))throw he.Error("E0010",e,this,n)}))},Xp=function(i,e){return Yp(i,e,(function(t){return J(t)}),"a plain object")},jb=function(i,e){return Yp(i,e,(function(t){return typeof t=="string"}),"a string")},qb={setup:function(){}},Yb={validateConfig:function(i){jb(i,"css")},setup:function(){}},Xb={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},Ul={validateConfig:function(i){Xp(i,"slide")},setup:function(i,e){const t=Li(i);if(e.type!=="slide"){const n=e.type==="slideIn"?e.from:e.to;n.position=I({of:jp},Xb[e.direction]),Zl(i,n)}this._setUpConfig(t,e.from),this._setUpConfig(t,e.to),Dl(i)},_setUpConfig:function(i,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(i,e)},_initNewPosition:function(i,e){const t={left:e.left,top:e.top};delete e.left,delete e.top;let n=this._getRelativeValue(t.left);n!==void 0?t.left=n+i.left:e.left=0,n=this._getRelativeValue(t.top),n!==void 0?t.top=n+i.top:e.top=0,e.transform=Gs({x:t.left,y:t.top})},_getRelativeValue:function(i){let e;if(typeof i=="string"&&(e=zb.exec(i)))return parseInt(e[1]+"1")*e[2]}},jl={setup:function(i,e){const t=e.from,n=e.to,s=e.type==="fadeOut"?1:0,o=e.type==="fadeOut"?0:1;let r=J(t)?String(t.opacity??s):String(t),a=J(n)?String(n.opacity??o):String(n);switch(e.skipElementInitialStyles||(r=i.css("opacity")),e.type){case"fadeIn":a=1;break;case"fadeOut":a=0}e.from={visibility:"visible",opacity:r},e.to={opacity:a}}},Zp={custom:qb,slide:Ul,slideIn:Ul,slideOut:Ul,fade:jl,fadeIn:jl,fadeOut:jl,pop:{validateConfig:function(i){Xp(i,"pop")},setup:function(i,e){const t=e.from,n=e.to,s="opacity"in t?t.opacity:i.css("opacity"),o="opacity"in n?n.opacity:1,r="scale"in t?t.scale:0,a="scale"in n?n.scale:1;e.from={opacity:s};const l=ar(i);e.from.transform=this._getCssTransform(l,r),e.to={opacity:o},e.to.transform=this._getCssTransform(l,a)},_getCssTransform:function(i,e){return Gs(i)+"scale("+e+")"}},css:Yb},Zb=function(i){const e=Zp[i.type];if(!e)throw he.Error("E0011",i.type);return e},Jb={type:"custom",from:{},to:{},duration:400,start:M,complete:M,easing:"ease",delay:0},Qb={duration:400,easing:"ease",delay:0};function eS(){const i=this.element,e=this.config;if(Zl(i,e.from),Zl(i,e.to),this.configurator.setup(i,e),i.data("dxAnimData",this),this.strategy.initAnimation(i,e),e.start){const t=ae(i);e.start.apply(this,[t,e])}}const tS=function(i){const e=i.element,t=i.config;if(e.removeData("dxAnimData"),t.complete){const n=ae(e);t.complete.apply(this,[n,t])}i.deferred.resolveWith(this,[e,t])},iS=function(){const i=this,e=i.element,t=i.config;return i.isStarted=!0,i.strategy.animate(e,t).done((function(){tS(i)})).fail((function(){i.deferred.rejectWith(this,[e,t])}))},nS=function(i){const e=this,t=e.element,n=e.config;clearTimeout(e.startTimeout),e.isStarted||e.start(),e.strategy.stop(t,n,i)},ql=k(pn,"dxFXStartAnimation"),sS=function(i){_.off(i.element,ql),_.on(i.element,ql,(function(){Te.stop(i.element)})),i.deferred.always((function(){_.off(i.element,ql)}))},Jp=function(i,e){const t=e.type==="css"?Qb:Jb,n=I(!0,{},t,e),s=Zb(n),o=Ub(n),r={element:u(i),config:n,configurator:s,strategy:o,isSynchronous:o.isSynchronous,setup:eS,start:iS,stop:nS,deferred:new A};return L(s.validateConfig)&&s.validateConfig(n),sS(r),r},oS=function(i,e){const t=u(i);if(!t.length)return new A().resolve().promise();const n=Jp(t,e);return rS(t,n),n.deferred.promise()};function rS(i,e){const t=Yl(i);aS(i,t),t.push(e),gr(i)||Xl(i,t)}function Yl(i){return i.data("dxAnimQueue")||[]}function aS(i,e){i.data("dxAnimQueue",e)}const Qp=function(i){i.removeData("dxAnimQueue")};function gr(i){return!!u(i).data("dxAnimData")}function Xl(i,e){if(e=Yl(i),!e.length)return;const t=e.shift();e.length===0&&Qp(i),lS(t).done((function(){gr(i)||Xl(i)}))}function lS(i){return i.setup(),i.isSynchronous?i.start():i.startTimeout=setTimeout((function(){i.start()})),i.deferred.promise()}function Zl(i,e){if(!e||!e.position)return;const t=u(jp);let n=0,s=0;const o=Js.calculate(i,e.position),r=i.offset(),a=i.position();a.top>r.top&&(s=t.scrollTop()),a.left>r.left&&(n=t.scrollLeft()),I(e,{left:o.h.location-r.left+a.left-n,top:o.v.location-r.top+a.top-s}),delete e.position}function Jl(i,e){S(e,(function(t,n){try{i.css(t,L(n)?n():n)}catch{}}))}const Te={off:!1,animationTypes:Zp,animate:oS,createAnimation:Jp,isAnimating:gr,stop:function(i,e){const t=u(i),n=Yl(t);S(n,(function(o,r){r.config.delay=0,r.config.duration=0,r.isSynchronous=!0})),gr(t)||Xl(t,n);const s=t.data("dxAnimData");s&&s.stop(e),t.removeData("dxAnimData"),Qp(t)},_simulatedTransitionEndDelay:100};class xt{constructor(e,t){t=t||{},this._action=e,this._context=t.context||we(),this._beforeExecute=t.beforeExecute,this._afterExecute=t.afterExecute,this._component=t.component,this._validatingTargetName=t.validatingTargetName;const n=this._excludeValidators={};if(t.excludeValidators)for(let s=0;s<t.excludeValidators.length;s++)n[t.excludeValidators[s]]=!0}execute(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s={action:this._action,args:Array.prototype.slice.call(t),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},o=this._beforeExecute,r=this._afterExecute,a=s.args[0]||{};if(!this._validateAction(s)||(o?.call(this._context,s),s.cancel))return;const l=this._executeAction(s);if(!a.cancel)return r?.call(this._context,s),l}_validateAction(e){const t=this._excludeValidators,{executors:n}=xt;for(const o in n)if(!t[o]){var s;const r=n[o];if((s=r.validate)===null||s===void 0||s.call(r,e),e.cancel)return!1}return!0}_executeAction(e){let t;const{executors:n}=xt;for(const o in n){var s;const r=n[o];if((s=r.execute)===null||s===void 0||s.call(r,e),e.handled){t=e.result;break}}return t}static registerExecutor(e,t){if(J(e)){S(e,xt.registerExecutor);return}xt.executors[e]=t}static unregisterExecutor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];S(t,(function(){delete xt.executors[this]}))}}xt.executors={};const em=i=>e=>{if(!e.args.length)return;const t=e.args[0],n=t[e.validatingTargetName]||t.element;n&&i(u(n))&&(e.cancel=!0)};xt.registerExecutor({disabled:{validate:em((i=>i.is(".dx-state-disabled, .dx-state-disabled *")))},readOnly:{validate:em((i=>i.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)")))},undefined:{execute:i=>{i.action||(i.result=void 0,i.handled=!0)}},func:{execute:i=>{L(i.action)&&(i.result=i.action.call(i.context,i.args[0]),i.handled=!0)}}});const Ql={},Qn=i=>{const e=B.current();return i.reduce(((t,n)=>{let{device:s,options:o}=n;const r=s||{};return(L(r)?r(e):dS(e,r))&&I(!0,t,o),t}),{})},cS=(i,e)=>typeof i!="string"?i:{[i]:e},dS=(i,e)=>Jt(e)||Fa(i,[e]).length>0,tm=i=>i.substr(i.lastIndexOf(".")+1),im=i=>i.substr(0,i.lastIndexOf(".")),uS=function(i,e){return Ql[e]=Ql[e]||et(e),Ql[e](i,{functionsAsIs:!0})},hS=function(){return arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]},pS=function(i,e){return 1/i===1/e},mS=function(i,e){return i=hi(i,!0),e=hi(e,!0),i&&e&&Mi(i)&&Mi(e)?e.is(i):i!==i&&e!==e?!0:i===0&&e===0?pS(i,e):i===null||typeof i!="object"||D.isElementNode(i)?i===e:!1},ec={},tc={};class fS{constructor(e,t){this._options=e,this._optionsByReference=t,this._changingCallback,this._changedCallback,this._namePreparedCallbacks,this._validateOptionsCallback}_setByReference(e,t){I(!0,e,t);for(const n in this._optionsByReference)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}_setPreparedValue(e,t,n,s){const o=this.get(this._options,e,!1);if(!mS(o,t)){const r=Fn(e);!s&&this._changingCallback(e,o,t),tc[e]=tc[e]||vx(e),tc[e](this._options,t,{functionsAsIs:!0,merge:y(n)?n:!this._optionsByReference[e],unwrapObservables:r.length>1&&!!this._optionsByReference[r[0]]}),!s&&this._changedCallback(e,t,o)}}_prepareRelevantNames(e,t,n,s){if(J(n))for(const o in n)this._prepareRelevantNames(e,`${t}.${o}`,n[o]);this._namePreparedCallbacks(e,t,n,s)}get(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return ec[t]=ec[t]||et(t),ec[t](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,t,n,s){e=cS(e,t);for(const o in e)this._prepareRelevantNames(e,o,e[o],s);this._validateOptionsCallback&&(e=this._validateOptionsCallback(e));for(const o in e)this._setPreparedValue(o,e[o],n,s)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}onValidateOptions(e){this._validateOptionsCallback=e}dispose(){this._changingCallback=M,this._changedCallback=M}}class _S{constructor(e,t,n,s){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._validateOptionsCallback,this._default=t,this._deprecated=s,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new fS(e,n),this._optionManager.onRelevantNamesPrepared(((o,r,a,l)=>this._setRelevantNames(o,r,a,l))),this._cachedOptions={},this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){const e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(const e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,Qn(e)}_notifyDeprecated(e){const t=this._deprecated[e];t&&this._deprecatedCallback(e,t)}_setRelevantNames(e,t,n,s){if(t){const o=this._normalizeName(t,s);o&&o!==t&&(this._setField(e,o,n),this._clearField(e,t))}}_setField(e,t,n){let s="",o=null;do s=s?`.${s}`:"",s=tm(t)+s,t=im(t),o=t?this._optionManager.get(e,t,!1):e;while(!o);o[s]=n}_clearField(e,t){delete e[t];const n=im(t),s=n?this._optionManager.get(e,n,!1):e;s&&delete s[tm(t)]}_normalizeName(e,t){if(this._deprecatedNames.length&&e){for(let n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){const s=this._deprecated[e];if(s)return!t&&this._notifyDeprecated(e),s.alias||e}}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){const t=this._getByRules(e);this.silent(t)}dispose(){this._deprecatedCallback=M,this._startChangeCallback=M,this._endChangeCallback=M,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}validateOptions(e){this._optionManager.onValidateOptions(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){const t=this.silent(e),n=this.initial(e);return L(t)&&L(n)?t.toString()===n.toString():cn(t,n)}initial(e){return uS(this._initial,e)}option(e,t){if(arguments.length<2&&gt(e)!=="object")return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,t)}finally{this._endChangeCallback()}}silent(e,t){if(arguments.length<2&&gt(e)!=="object")return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,t,void 0,!0)}reset(e){if(e){const n=Fn(e).reduce(((o,r)=>o?o[r]:this.initial(r)),null),s=X(n)?C({},n):n;this._optionManager.set(e,s,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter((t=>e===this._deprecated[t].alias))}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,t){if(arguments.length<2)return this._cachedOptions[e];this._cachedOptions[e]=I(this._cachedOptions[e],t)}}class gS{constructor(){this._postponedOperations={}}add(e,t,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{const s=new A;this._postponedOperations[e]={fn:t,completePromise:s,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(const e in this._postponedOperations){const t=this._postponedOperations[e];y(t)&&(t.promises&&t.promises.length?Ie(...t.promises).done(t.fn).then(t.completePromise.resolve):t.fn().done(t.completePromise.resolve))}this._postponedOperations={}}}const nm=i=>i.charAt(2).toLowerCase()+i.substr(3),vS=i=>i.indexOf("_",0)===0;let sm=class extends ee.inherit({}){_setDeprecatedOptions(){this._deprecatedOptions={}}_getDeprecatedOptions(){return this._deprecatedOptions}_getDefaultOptions(){return{onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}}_defaultOptionsRules(){return[]}_setOptionsByDevice(e){this._options.applyRules(e)}_convertRulesToOptions(e){return Qn(e)}_isInitialOptionValue(e){return this._options.isInitial(e)}_setOptionsByReference(){this._optionsByReference={}}_getOptionsByReference(){return this._optionsByReference}ctor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{_optionChangedCallbacks:t,_disposingCallbacks:n}=e;this.NAME=Vs(this.constructor),this._eventsStrategy=fn.create(this,e.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=t||Ee(),this._disposingCallbacks=n||Ee(),this.postponedOperations=new gS,this._createOptions(e)}_createOptions(e){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new _S(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging(((t,n,s)=>this._initialized&&this._optionChanging(t,n,s))),this._options.onDeprecated(((t,n)=>this._logDeprecatedOptionWarning(t,n))),this._options.onChanged(((t,n,s)=>this._notifyOptionChanged(t,n,s))),this._options.onStartChange((()=>this.beginUpdate())),this._options.onEndChange((()=>this.endUpdate())),this._options.addRules(this._defaultOptionsRules()),this._options.validateOptions((t=>this._validateOptions(t))),e&&e.onInitializing&&e.onInitializing.apply(this,[e]),this._setOptionsByDevice(e.defaultOptionsRules),this._initOptions(e)}finally{this.endUpdate()}}_initOptions(e){this.option(e)}_init(){this._createOptionChangedAction(),this.on("disposing",(e=>{this._disposingCallbacks.fireWith(this,[e])}))}_logDeprecatedOptionWarning(e,t){const n=t.message||`Use the '${t.alias}' option instead`;he.log("W0001",this.NAME,e,t.since,n)}_logDeprecatedComponentWarning(e,t){he.log("W0000",this.NAME,e,`Use the '${t}' widget instead`)}_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})}_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})}_optionChanged(e){const{name:t}=e;switch(t){case"onDisposing":case"onInitialized":case"defaultOptionsRules":default:break;case"onOptionChanged":this._createOptionChangedAction()}}_dispose(){var e;this._optionChangedCallbacks.empty(),this._createDisposingAction(),(e=this._disposingAction)===null||e===void 0||e.call(this),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0}_lockUpdate(){this._updateLockCount+=1}_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)}_isUpdateAllowed(){return this._updateLockCount===0}_isInitializingRequired(){return!this._initializing&&!this._initialized}isInitialized(){return this._initialized}_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()}_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}}instance(){return this}beginUpdate(){this._lockUpdate()}endUpdate(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()}_optionChanging(){}_notifyOptionChanged(e,t,n){if(this._initialized){const o=[e].concat(this._options.getAliasesByName(e));for(let r=0;r<o.length;r+=1){const a=o[r],l={name:Fn(a)[0],fullName:a,value:t,previousValue:n};if(!vS(a)){var s;this._optionChangedCallbacks.fireWith(this,[I(this._defaultActionArgs(),l)]),(s=this._optionChangedAction)===null||s===void 0||s.call(this,I({},l))}!this._disposed&&this._cancelOptionChange!==a&&this._optionChanged(l)}}}initialOption(e){return this._options.initial(e)}_defaultActionConfig(){return{context:this,component:this}}_defaultActionArgs(){return{component:this}}_createAction(e,t){let n;return s=>(y(s)||(s={}),J(s)||(s={actionValue:s}),n=n||new xt(e,I({},t,this._defaultActionConfig())),n.execute.call(n,I(s,this._defaultActionArgs())))}_createActionByOption(e,t){var n=this;let s,o,r,a=C({},t??{});const l=function(){var d,h;if(!o){if(a=a||{},typeof e!="string")throw he.Error("E0008");e.startsWith("on")&&(o=nm(e)),r=n.option(e)}if(!(!s&&!r&&!((d=a)!==null&&d!==void 0&&d.beforeExecute)&&!((h=a)!==null&&h!==void 0&&h.afterExecute)&&!n._eventsStrategy.hasEvent(o))){if(!s){const{beforeExecute:f}=a;a.beforeExecute=function(){for(var v=arguments.length,b=new Array(v),w=0;w<v;w++)b[w]=arguments[w];f?.apply(n,b),n._eventsStrategy.fireEvent(o,b[0].args)},s=n._createAction(r,a)}for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];if(ce().wrapActionsBeforeExecute){const{beforeActionExecute:f=M}=n.option();return(f(n,s,a)||s).apply(n,m)}return s.apply(n,m)}};if(ce().wrapActionsBeforeExecute)return l;const{onActionCreated:c=M}=this.option();return c(this,l,a)||l}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}hasActionSubscription(e){return!!this._options.silent(e)||le(e)&&this._eventsStrategy.hasEvent(nm(e))}isOptionDeprecated(e){return this._options.isDeprecated(e)}_setOptionWithoutOptionChange(e,t){this._cancelOptionChange=e,this.option(e,t),this._cancelOptionChange=!1}_getOptionValue(e,t){const n=this.option(e);return L(n)?n.bind(t)():n}option(){return this._options.option(...arguments)}resetOption(e){this.beginUpdate(),this._options.reset(e),this.endUpdate()}_validateOptions(e){return e}};const vr={forward:" dx-forward",backward:" dx-backward",none:" dx-no-direction",undefined:" dx-no-direction"},xS=sm.inherit({ctor:function(){this.callBase.apply(this,arguments),this._registeredPresets=[],this.resetToDefaults()},_getDefaultOptions:function(){return I(this.callBase(),{defaultAnimationDuration:400,defaultAnimationDelay:0,defaultStaggerAnimationDuration:300,defaultStaggerAnimationDelay:40,defaultStaggerAnimationStartDelay:500})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(i){return i.phone},options:{defaultStaggerAnimationDuration:350,defaultStaggerAnimationDelay:50,defaultStaggerAnimationStartDelay:0}},{device:function(){return B.current().android||B.real.android},options:{defaultAnimationDelay:100}}])},_getPresetOptionName:function(i){return"preset_"+i},_createAndroidSlideAnimationConfig:function(i,e){const t=this,n=function(s){return{type:"slide",delay:s.delay===void 0?t.option("defaultAnimationDelay"):s.delay,duration:s.duration===void 0?t.option("defaultAnimationDuration"):s.duration}};return{enter:function(s,o){const r=me(s.parent())*e,a=o.direction,l=n(o);return l.to={left:0,opacity:1},a==="forward"?l.from={left:r,opacity:i}:a==="backward"?l.from={left:-r,opacity:i}:l.from={left:0,opacity:0},Te.createAnimation(s,l)},leave:function(s,o){const r=me(s.parent())*e,a=o.direction,l=n(o);return l.from={left:0,opacity:1},a==="forward"?l.to={left:-r,opacity:i}:a==="backward"?l.to={left:r,opacity:i}:l.to={left:0,opacity:0},Te.createAnimation(s,l)}}},_createOpenDoorConfig:function(){const i=this,e=function(t){return{type:"css",extraCssClasses:"dx-opendoor-animation",delay:t.delay===void 0?i.option("defaultAnimationDelay"):t.delay,duration:t.duration===void 0?i.option("defaultAnimationDuration"):t.duration}};return{enter:function(t,n){const s=n.direction,o=e(n);return o.delay=s==="none"?o.delay:o.duration,o.from="dx-enter dx-opendoor-animation"+vr[s],o.to="dx-enter-active",Te.createAnimation(t,o)},leave:function(t,n){const s=n.direction,o=e(n);return o.from="dx-leave dx-opendoor-animation"+vr[s],o.to="dx-leave-active",Te.createAnimation(t,o)}}},_createWinPopConfig:function(){const i=this,e={type:"css",extraCssClasses:"dx-win-pop-animation",duration:i.option("defaultAnimationDuration")};return{enter:function(t,n){const s=e,o=n.direction;return s.delay=o==="none"?i.option("defaultAnimationDelay"):i.option("defaultAnimationDuration")/2,s.from="dx-enter dx-win-pop-animation"+vr[o],s.to="dx-enter-active",Te.createAnimation(t,s)},leave:function(t,n){const s=e,o=n.direction;return s.delay=i.option("defaultAnimationDelay"),s.from="dx-leave dx-win-pop-animation"+vr[o],s.to="dx-leave-active",Te.createAnimation(t,s)}}},resetToDefaults:function(){this.clear(),this.registerDefaultPresets(),this.applyChanges()},clear:function(i){const e=this,t=[];S(this._registeredPresets,(function(n,s){!i||i===s.name?e.option(e._getPresetOptionName(s.name),void 0):t.push(s)})),this._registeredPresets=t,this.applyChanges()},registerPreset:function(i,e){this._registeredPresets.push({name:i,config:e})},applyChanges:function(){const i=this,e=[];S(this._registeredPresets,(function(t,n){const s={device:n.config.device,options:{}};s.options[i._getPresetOptionName(n.name)]=n.config.animation,e.push(s)})),this._setOptionsByDevice(e)},getPreset:function(i){let e=i;for(;typeof e=="string";)e=this.option(this._getPresetOptionName(e));return e},registerDefaultPresets:function(){this.registerPreset("pop",{animation:{extraCssClasses:"dx-android-pop-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("openDoor",{animation:this._createOpenDoorConfig()}),this.registerPreset("win-pop",{animation:this._createWinPopConfig()}),this.registerPreset("fade",{animation:{extraCssClasses:"dx-fade-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("slide",{device:function(){return B.current().android||B.real.android},animation:this._createAndroidSlideAnimationConfig(1,1)}),this.registerPreset("slide",{device:function(){return!B.current().android&&!B.real.android},animation:{extraCssClasses:"dx-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-slide",{animation:{extraCssClasses:"dx-ios7-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("overflow",{animation:{extraCssClasses:"dx-overflow-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return!B.current().android&&!B.real.android},animation:{extraCssClasses:"dx-ios7-toolbar-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return B.current().android||B.real.android},animation:this._createAndroidSlideAnimationConfig(0,.4)}),this.registerPreset("stagger-fade",{animation:{extraCssClasses:"dx-fade-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-slide",{animation:{extraCssClasses:"dx-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-slide",{animation:{extraCssClasses:"dx-fade-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-drop",{animation:{extraCssClasses:"dx-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-drop",{animation:{extraCssClasses:"dx-fade-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-rise",{animation:{extraCssClasses:"dx-fade-rise-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-3d-drop",{animation:{extraCssClasses:"dx-3d-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-zoom",{animation:{extraCssClasses:"dx-fade-zoom-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}})}}),yS=new xS,CS={forward:" dx-forward",backward:" dx-backward",none:" dx-no-direction",undefined:" dx-no-direction"};ee.inherit({ctor:function(){this._accumulatedDelays={enter:0,leave:0},this._animations=[],this.reset()},_createAnimations:function(i,e,t,n){i=u(i);const s=this,o=[];t=t||{};const r=this._prepareElementAnimationConfig(e,t,n);return r&&i.each((function(){const a=s._createAnimation(u(this),r,t);a&&(a.element.addClass("dx-animating"),a.setup(),o.push(a))})),o},_prepareElementAnimationConfig:function(i,e,t){let n;if(typeof i=="string"){const s=i;i=yS.getPreset(s)}if(!i)n=void 0;else if(L(i[t]))n=i[t];else{if(n=I({skipElementInitialStyles:!0,cleanupWhen:this._completePromise},i,e),!n.type||n.type==="css"){const s="dx-"+t,o=(n.extraCssClasses?" "+n.extraCssClasses:"")+CS[n.direction];n.type="css",n.from=(n.from||s)+o,n.to=n.to||s+"-active"}n.staggerDelay=n.staggerDelay||0,n.delay=n.delay||0,n.staggerDelay&&(n.delay+=this._accumulatedDelays[t],this._accumulatedDelays[t]+=n.staggerDelay)}return n},_createAnimation:function(i,e,t){let n;return J(e)?n=Te.createAnimation(i,e):L(e)&&(n=e(i,t)),n},_startAnimations:function(){const i=this._animations;for(let e=0;e<i.length;e++)i[e].start()},_stopAnimations:function(i){const e=this._animations;for(let t=0;t<e.length;t++)e[t].stop(i)},_clearAnimations:function(){const i=this._animations;for(let e=0;e<i.length;e++)i[e].element.removeClass("dx-animating");this._animations.length=0},reset:function(){this._accumulatedDelays.enter=0,this._accumulatedDelays.leave=0,this._clearAnimations(),this._completeDeferred=new A,this._completePromise=this._completeDeferred.promise()},enter:function(i,e,t){const n=this._createAnimations(i,e,t,"enter");this._animations.push.apply(this._animations,n)},leave:function(i,e,t){const n=this._createAnimations(i,e,t,"leave");this._animations.push.apply(this._animations,n)},start:function(){const i=this;let e;if(!this._animations.length)i.reset(),e=new A().resolve().promise();else{const t=qe(this._animations,(function(n){const s=new A;return n.deferred.always((function(){s.resolve()})),s.promise()}));e=Ie.apply(u,t).always((function(){i._completeDeferred.resolve(),i.reset()})),Tu.executeAsync((function(){i._startAnimations()}))}return e},stop:function(i){this._stopAnimations(i)}});const xr=ee.inherit({ctor(i){this._$element=u(i),this._cancelCallback=Ee(),this._acceptCallback=Ee()},getElement(){return this._$element},validate:i=>!mt(i),validatePointers:i=>Nb(i)===1,allowInterruptionByMouseWheel:()=>!0,configure(i){I(this,i)},addCancelCallback(i){this._cancelCallback.add(i)},removeCancelCallback(){this._cancelCallback.empty()},_cancel(i){this._cancelCallback.fire(this,i)},addAcceptCallback(i){this._acceptCallback.add(i)},removeAcceptCallback(){this._acceptCallback.empty()},_accept(i){this._acceptCallback.fire(this,i)},_requestAccept(i){this._acceptRequestEvent=i},_forgetAccept(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:M,move:M,end:M,cancel:M,reset(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent(i,e,t){const n=I({type:i,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},t);return e=Hi(n),e.cancel&&this._cancel(e),e},_getEmitterTarget(i){return(this.delegateSelector?u(i.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:M}),yr="dxmousewheel",ic={setup(i){const e=u(i);_.on(e,k("wheel","dxWheel"),ic._wheelHandler.bind(ic))},teardown(i){_.off(i,".dxWheel")},_wheelHandler(i){const{deltaMode:e,deltaY:t,deltaX:n,deltaZ:s}=i.originalEvent;Hi({type:yr,originalEvent:i,delta:this._normalizeDelta(t,e),deltaX:n,deltaY:t,deltaZ:s,deltaMode:e,pointerType:"mouse"}),i.stopPropagation()},_normalizeDelta(i){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:0)===0?-i:-30*i}};Ot(yr,ic);const nc=ee.inherit({ctor(i,e){this._eventName=i,this._originalEvents=k(e,"dxPointerEvents"),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble(){const i=this._eventName;return i==="dxpointerenter"||i==="dxpointerleave"},_handler(i){const e=this._getDelegateTarget(i),t={type:this._eventName,pointerType:i.pointerType||Qs(i),originalEvent:i,delegateTarget:e,timeStamp:Rt.mozilla?new Date().getTime():i.timeStamp},n=Ra(i);return t.target=n,this._fireEvent(t)},_getDelegateTarget(i){let e;return this.noBubble&&(e=i.delegateTarget),e},_fireEvent:i=>Hi(i),_setSelector(i){this._selector=this.noBubble&&i?i.selector:null},_getSelector(){return this._selector},setup:()=>!0,add(i,e){if(this._handlerCount<=0||this.noBubble){i=this.noBubble?i:D.getDocument(),this._setSelector(e);const t=this;_.on(i,this._originalEvents,this._getSelector(),(n=>{t._handler(n)}))}this.noBubble||this._handlerCount++},remove(i){this._setSelector(i),this.noBubble||this._handlerCount--},teardown(i){this._handlerCount&&!this.noBubble||(i=this.noBubble?i:D.getDocument(),this._originalEvents!==".dxPointerEvents"&&_.off(i,this._originalEvents,this._getSelector()))},dispose(i){i=this.noBubble?i:D.getDocument(),_.off(i,this._originalEvents)}}),Cr=function(i,e){ti.add((()=>{i.split(" ").forEach((t=>{D.listen(D.getDocument(),t,e,!0)}))}))},bS=function(i,e,t){t=t||function(){};let n=[];const s=function(r){let a=-1;return S(n,((l,c)=>e(r,c)?(a=l,!1):!0)),a},o=function(r){const a=s(r);a>-1&&n.splice(a,1)};Cr(i.dxpointerdown,(function(r){s(r)===-1&&(t(r),n.push(r))})),Cr(i.dxpointermove,(function(r){n[s(r)]=r})),Cr(i.dxpointerup,o),Cr(i.dxpointercancel,o),this.pointers=function(){return n},this.reset=function(){n=[]}},sc={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"pointercancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"};Rt.safari&&(sc.dxpointercancel+=" dragstart");const om=function(i){return i.pointerId=1,{pointers:oc.pointers(),pointerId:1}};let oc,rm=!1;const am=function(){rm||(oc=new bS(sc,(()=>!0)),rm=!0)},vi=nc.inherit({ctor(){this.callBase.apply(this,arguments),am()},_fireEvent(i){return this.callBase(I(om(i.originalEvent),i))}});vi.map=sc,vi.normalize=om,vi.activate=am,vi.resetObserver=function(){oc.reset()};const SS={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},lm=function(i){const e=[];return S(i.touches,((t,n)=>{e.push(I({pointerId:n.identifier},n))})),{pointers:e,pointerId:i.changedTouches[0].identifier}},ES=function(i){return B.real().platform==="ios"&&(i==="dxpointerdown"||i==="dxpointerup")},to=nc.inherit({ctor(){this.callBase.apply(this,arguments),this._pointerId=0},_handler(i){if(ES(this._eventName)){const e=i.changedTouches[0];if(this._pointerId===e.identifier&&this._pointerId!==0)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent(i){return this.callBase(I(lm(i.originalEvent),i))}});to.map=SS,to.normalize=lm;const IS={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"};let cm=!1;const wS=function(){cm||(vi.activate(),cm=!0)},br=nc.inherit({EVENT_LOCK_TIMEOUT:100,ctor(){this.callBase.apply(this,arguments),wS()},_handler(i){const e=xn(i);if(e||(this._skipNextEvents=!0),!(e&&this._mouseLocked)){if(e&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);const t=this;this._unlockMouseTimer=setTimeout((()=>{t._mouseLocked=!1}),this.EVENT_LOCK_TIMEOUT);return}return this.callBase(i)}},_fireEvent(i){const e=xn(i.originalEvent)?vi.normalize:to.normalize;return this.callBase(I(e(i.originalEvent),i))},dispose(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});br.map=IS,br.resetObserver=vi.resetObserver;const dm=((i,e)=>{let{tablet:t,phone:n}=e;const s=DS();return s||(i.touch&&!(t||n)?br:i.touch?to:vi)})(Mt,B.real());S(dm.map,((i,e)=>{Ot(i,new dm(i,e))}));const Ae={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",out:"dxpointerout"};function DS(){const i=ce().pointerEventStrategy;return{"mouse-and-touch":br,touch:to,mouse:vi}[i]}const Sr="dxEventManager",TS=ee.inherit({ctor(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers(){ti.add((()=>{const i=D.getDocument();_.subscribeGlobal(i,k(Ae.down,Sr),this._pointerDownHandler.bind(this)),_.subscribeGlobal(i,k(Ae.move,Sr),this._pointerMoveHandler.bind(this)),_.subscribeGlobal(i,k([Ae.up,Ae.cancel].join(" "),Sr),this._pointerUpHandler.bind(this)),_.subscribeGlobal(i,k(yr,Sr),this._mouseWheelHandler.bind(this))}))},_eachEmitter(i){const e=this._activeEmitters||[];let t=0;for(;e.length>t;){const n=e[t];if(i(n)===!1)break;e[t]===n&&t++}},_applyToEmitters(i,e){this._eachEmitter((t=>{t[i].call(t,e)}))},reset(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter(i){this._proxiedCancelHandler(i)},_pointerDownHandler(i){xn(i)&&i.which>1||this._updateEmitters(i)},_updateEmitters(i){this._isSetChanged(i)&&(this._cleanEmitters(i),this._fetchEmitters(i))},_isSetChanged(i){const e=this._closestEmitter(i),t=this._emittersSet||[];let n=e.length!==t.length;return S(e,((s,o)=>(n=n||t[s]!==o,!n))),this._emittersSet=e,n},_closestEmitter(i){const e=this,t=[];let n=u(i.target);function s(o,r){r&&r.validatePointers(i)&&r.validate(i)&&(r.addCancelCallback(e._proxiedCancelHandler),r.addAcceptCallback(e._proxiedAcceptHandler),t.push(r))}for(;n.length;){const o=Pe(n.get(0),"dxEmitter")||[];S(o,s),n=n.parent()}return t},_acceptHandler(i,e){this._eachEmitter((t=>{t!==i&&this._cancelEmitter(t,e)}))},_cancelHandler(i,e){this._cancelEmitter(i,e)},_cancelEmitter(i,e){const t=this._activeEmitters;e?i.cancel(e):i.reset(),i.removeCancelCallback(),i.removeAcceptCallback();const n=t.indexOf(i);n>-1&&t.splice(n,1)},_cleanEmitters(i){this._applyToEmitters("end",i),this.reset(i)},_fetchEmitters(i){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",i)},_pointerMoveHandler(i){this._applyToEmitters("move",i)},_pointerUpHandler(i){this._updateEmitters(i)},_mouseWheelHandler(i){this._allowInterruptionByMouseWheel()&&(i.pointers=[null],this._pointerDownHandler(i),this._adjustWheelEvent(i),this._pointerMoveHandler(i),i.pointers=[],this._pointerUpHandler(i))},_allowInterruptionByMouseWheel(){let i=!0;return this._eachEmitter((e=>(i=e.allowInterruptionByMouseWheel()&&i,i))),i},_adjustWheelEvent(i){let e=null;if(this._eachEmitter((o=>{if(!o.gesture)return;const r=o.getDirection(i);if(r!=="horizontal"&&!i.shiftKey||r!=="vertical"&&i.shiftKey)return e=o,!1})),!e)return;const t=e.getDirection(i),s=t==="both"&&!i.shiftKey||t==="vertical"?"pageY":"pageX";i[s]+=i.delta},isActive(i){let e=!1;return this._eachEmitter((t=>{e=e||t.getElement().is(i)})),e}}),um=new TS,es=function(i){const e=i.emitter,t=i.events[0],n=i.events;S(n,((s,o)=>{Ot(o,{noBubble:!i.bubble,setup(r){const a=Pe(r,"dxEmitterSubscription")||{},l=Pe(r,"dxEmitter")||{},c=l[t]||new e(r);a[o]=!0,l[t]=c,Pe(r,"dxEmitter",l),Pe(r,"dxEmitterSubscription",a)},add(r,a){Pe(r,"dxEmitter")[t].configure(I({delegateSelector:a.selector},a.data),a.type)},teardown(r){const a=Pe(r,"dxEmitterSubscription"),l=Pe(r,"dxEmitter"),c=l[t];delete a[o];let d=!0;S(n,((h,p)=>(d=d&&!a[p],d))),d&&(um.isActive(r)&&um.resetEmitter(c),c&&c.dispose(),delete l[t])}})}))};function hm(i){return i&&[i.target,i.delegateTarget,i.relatedTarget,i.currentTarget].filter((e=>!!e))}const AS=(i,e)=>{_.one(hm(i),pn,e)},OS=(i,e)=>{_.off(hm(i),pn,e)},rc=we(),kS=i=>{if(!i.getRootNode)return;const{host:e}=i.getRootNode();if(!le(e))return e},MS=()=>{const i=D.getActiveElement();if(i&&i!==D.getBody()){var e;(e=i.blur)===null||e===void 0||e.call(i)}},RS=()=>{const i=rc.getSelection();if(i&&i.type!=="Caret"){if(i.empty)i.empty();else if(i.removeAllRanges)try{i.removeAllRanges()}catch{}}},pm=(i,e)=>{const t=u(i),n=u(e);if(t[0]===n[0])return t[0];const s=t.parents(),o=n.parents(),r=Math.min(s.length,o.length);for(let a=-r;a<0;a++)if(s.get(a)===o.get(a))return s.get(a)},PS=i=>{i=u(i);const e=i.length&&i.filter((function(){const t=u(this);return t.is("script[type]")&&!t.attr("type").includes("script")}));return e.length?e.eq(0).html():(i=u("<div>").append(i),i.html())},Er=i=>{let e=u();return y(i)&&(i.nodeType||Mi(i))?e=u(i):typeof i!="object"&&(e=u("<div>").html(i).contents()),e.length===1&&(e.is("script")?e=Er(e.html().trim()):e.is("table")&&(e=e.children("tbody").contents())),e},Ir=(i,e)=>{const t=i.originalEvent&&i.originalEvent.clipboardData||rc.clipboardData;if(!e)return t&&t.getData("Text");t&&t.setData("Text",e)},Cn=(i,e)=>e?Ve(i)?Cn(i.document,e):i.contains(e)||Cn(i,kS(e)):!1,mm=(i,e,t)=>{const n=rc.getComputedStyle(u(i).get(0)),s=t&&t.includePaddings;return u("<div>").text(e).css({fontStyle:n.fontStyle,fontVariant:n.fontVariant,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFamily:n.fontFamily,letterSpacing:n.letterSpacing,border:n.border,paddingTop:s?n.paddingTop:"",paddingRight:s?n.paddingRight:"",paddingBottom:s?n.paddingBottom:"",paddingLeft:s?n.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},fm=(i,e)=>(e&&D.insertElement(i.parentNode,e,i),i),_m=(i,e)=>{if(e&&e[0])return e.is(i)?i:(S(e,((t,n)=>{fm(i[0],n)})),i.remove(),e)},xi={resetActiveElement:MS,clearSelection:RS,closestCommonParent:pm,extractTemplateMarkup:PS,normalizeTemplateElement:Er,clipboardText:Ir,contains:Cn,createTextElementHiddenCopy:mm,insertBefore:fm,replaceWith:_m,isElementInDom:i=>{const e=i?.get(0),t=e?.getRootNode().host;return!!u(t||e).closest(we().document).length}},ft="dxclick";let ac=null,io=null;const gm=()=>{io=null},vm=function(i){const{originalEvent:e}=i,t=io===e||e&&e.DXCLICK_FIRED;(!i.which||i.which===1)&&!ac&&!t&&(e&&(e.DXCLICK_FIRED=!0),OS(io,gm),io=e,AS(io,gm),Hi({type:"dxclick",originalEvent:i}))},$S=xr.inherit({ctor(i){this.callBase(i),_.on(this.getElement(),"click",vm)},start(){ac=null},cancel(){ac=!0},dispose(){_.off(this.getElement(),"click",vm)}});(function(){if(!B.real().generic){let e=null,t=!1;const n=function(c){return u(c).is("input, textarea, select, button ,:focus, :focus *")},s=function(c){e=c.target,t=c.isDefaultPrevented()},o=function(c){const d=Ra(c);return u(d)},r=function(c){const d=o(c);!t&&e&&!d.is(e)&&!u(e).is("label")&&n(d)&&xi.resetActiveElement(),e=null,t=!1},a="NATIVE_CLICK_FIXER",l=D.getDocument();_.subscribeGlobal(l,k(Ae.down,a),s),_.subscribeGlobal(l,k("click",a),r)}})(),es({emitter:$S,bubble:!0,events:["dxclick"]});const{abs:xm}=Math,BS=xr.inherit({start(i){this._startEventData=We(i),this._startTimer(i)},_startTimer(i){const e="timeout"in this?this.timeout:750;this._holdTimer=setTimeout((()=>{this._requestAccept(i),this._fireEvent("dxhold",i,{target:i.target}),this._forgetAccept()}),e)},move(i){this._touchWasMoved(i)&&this._cancel(i)},_touchWasMoved(i){const e=yn(this._startEventData,We(i));return xm(e.x)>5||xm(e.y)>5},end(){this._stopTimer()},_stopTimer(){clearTimeout(this._holdTimer)},cancel(){this._stopTimer()},dispose(){this._stopTimer()}});es({emitter:BS,bubble:!0,events:["dxhold"]});const no={name:"dxhold"},VS=k("contextmenu","dxContexMenu"),LS=k(no.name,"dxContexMenu"),FS=ee.inherit({setup(i){const e=u(i);_.on(e,VS,this._contextMenuHandler.bind(this)),(Mt.touch||B.isSimulator())&&_.on(e,LS,this._holdHandler.bind(this))},_holdHandler(i){xn(i)&&!B.isSimulator()||this._fireContextMenu(i)},_contextMenuHandler(i){this._fireContextMenu(i)},_fireContextMenu:i=>Hi({type:"dxcontextmenu",originalEvent:i}),teardown(i){_.off(i,".dxContexMenu")}});Ot("dxcontextmenu",new FS);const HS="dxcontextmenu",NS={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"},WS=(i,e)=>{const t=i[e];return t?t!=="root"&&t:e.substr(0,e.lastIndexOf("-"))},$t=Gt({locale:(()=>{let i="en";return e=>{if(!e)return i;i=e}})(),getValueByClosestLocale:function(i){let e=this.locale(),t=i(e),n;for(;!t&&!n;)e=WS(NS,e),e?t=i(e):n=!0;return t===void 0&&e!=="en"?i("en"):t}}),zS=I(!0,{},{en:{Yes:"Yes",No:"No",Cancel:"Cancel",CheckState:"Check state",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK",Today:"Today",Yesterday:"Yesterday","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxList-listAriaLabel":"Items","dxList-listAriaLabel-deletable":"Deletable items","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxList-selectAll-indeterminate":"Half-checked","dxList-selectAll-checked":"Checked","dxList-selectAll-notChecked":"Not checked","dxList-ariaRoleDescription":"List","dxList-listAriaLabel-itemContent":"List item content","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Start Date","dxDateRangeBox-endDateLabel":"End Date","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"KB","dxFileUploader-Mb":"MB","dxFileUploader-Gb":"GB","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-ariaNotSortedColumn":"Not sorted column","dxDataGrid-ariaSortedAscendingColumn":"Column sorted in ascending order","dxDataGrid-ariaSortedDescendingColumn":"Column sorted in descending order","dxDataGrid-ariaSortIndex":"Sort index {0}","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Set Fixed Position","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"Left","dxDataGrid-columnFixingRightPosition":"Right","dxDataGrid-columnFixingStickyPosition":"Sticky","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaColumnHeader":"Column header","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaError":"Error","dxDataGrid-ariaRevertButton":"Press Escape to discard the changes","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaModifiedCell":"Modified","dxDataGrid-ariaDeletedCell":"Deleted","dxDataGrid-ariaEditableCell":"Editable","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaCollapsedRow":"Collapsed row","dxDataGrid-ariaExpandedRow":"Expanded row","dxDataGrid-ariaDataGrid":"Data grid with {0} rows and {1} columns","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-ariaEditForm":"Edit form","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxDataGrid-masterDetail":"Cell with details","dxDataGrid-moveColumnToTheRight":"Move to the right","dxDataGrid-moveColumnToTheLeft":"Move to the left","dxTreeList-ariaTreeList":"Tree list with {0} rows and {1} columns","dxTreeList-ariaExpandableInstruction":"Press Ctrl + right arrow to expand the focused node and Ctrl + left arrow to collapse it","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous page","dxPager-nextPage":"Next page","dxPager-ariaLabel":"Page navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPagination-infoText":"Page {0} of {1} ({2} items)","dxPagination-pagesCountText":"of","dxPagination-pageSize":"Items per page: {0}","dxPagination-pageSizesAllText":"All","dxPagination-page":"Page {0}","dxPagination-prevPage":"Previous page","dxPagination-nextPage":"Next page","dxPagination-ariaLabel":"Page navigation","dxPagination-ariaPageSize":"Page size","dxPagination-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-dateRange":"from {0} to {1}","dxScheduler-ariaLabel":"Scheduler. {0} view: {1} with {2} appointments","dxScheduler-ariaLabel-currentIndicator-present":"The current time indicator is visible in the view","dxScheduler-ariaLabel-currentIndicator-not-present":"The current time indicator is not visible on the screen","dxScheduler-appointmentAriaLabel-group":"Group: {0}","dxScheduler-appointmentAriaLabel-recurring":"Recurring appointment","dxScheduler-appointmentListAriaLabel":"Appointment list","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-navigationToday":"Today","dxScheduler-navigationPrevious":"Previous page","dxScheduler-navigationNext":"Next page","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceUntilDateLabel":"Date when repeat ends","dxScheduler-recurrenceOccurrenceLabel":"Number of occurrences","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-ariaEditForm":"Edit form","dxScheduler-confirmRecurrenceEditTitle":"Edit Recurring Appointment","dxScheduler-confirmRecurrenceDeleteTitle":"Delete Recurring Appointment","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-currentDay":"Today","dxCalendar-currentMonth":"Current month","dxCalendar-currentYear":"Current year","dxCalendar-currentYearRange":"Current year range","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxCalendar-previousMonthButtonLabel":"Previous month","dxCalendar-previousYearButtonLabel":"Previous year","dxCalendar-previousDecadeButtonLabel":"Previous decade","dxCalendar-previousCenturyButtonLabel":"Previous century","dxCalendar-nextMonthButtonLabel":"Next month","dxCalendar-nextYearButtonLabel":"Next year","dxCalendar-nextDecadeButtonLabel":"Next decade","dxCalendar-nextCenturyButtonLabel":"Next century","dxCalendar-captionMonthLabel":"Month selection","dxCalendar-captionYearLabel":"Year selection","dxCalendar-captionDecadeLabel":"Decade selection","dxCalendar-captionCenturyLabel":"Century selection","dxCalendar-selectedDate":"The selected date is {0}","dxCalendar-selectedDates":"The selected dates","dxCalendar-selectedDateRange":"The selected date range is from {0} to {1}","dxCalendar-selectedMultipleDateRange":"from {0} to {1}","dxCalendar-selectedDateRangeCount":"There are {0} selected date ranges","dxCalendar-readOnlyLabel":"Read-only calendar","dxCardView-ariaSearchInGrid":"Search in the card view","dxCardView-ariaHeaderItemLabel":"Field name {0}","dxCardView-ariaHeaderItemSortingAscendingLabel":"Sorted in ascending order","dxCardView-ariaHeaderItemSortingDescendingLabel":"Sorted in descending order","dxCardView-ariaHeaderItemSortingIndexLabel":"Sort index {0}","dxCardView-ariaHeaderHasHeaderFilterLabel":"Header filter applied","dxCardView-ariaSelectCard":"Select card","dxCardView-ariaCardView":"Card view with {0} cards. Each card has {1} fields","dxCardView-ariaCard":"Card","dxCardView-ariaEditableCard":"Editable card","dxCardView-ariaCardPosition":"Row {0}, column {1}","dxCardView-ariaSelectedCardState":"Selected","dxCardView-ariaNotSelectedCardState":"Not selected","dxCardView-selectAll":"Select all","dxCardView-clearSelection":"Clear selection","dxCardView-cardNoImageAriaLabel":"No image","dxCardView-headerItemDropZoneText":"Drop the header item here","dxCardView-emptyHeaderPanelText":"Use {0} to display columns","dxCardView-emptyHeaderPanelColumnChooserText":"column chooser","dxAvatar-defaultImageAlt":"Avatar","dxChat-elementAriaLabel":"Chat","dxChat-textareaPlaceholder":"Type a message","dxChat-sendButtonAriaLabel":"Send","dxChat-cancelEditingButtonAriaLabel":"Cancel","dxChat-editingMessageCaption":"Edit Message","dxChat-defaultUserName":"Unknown User","dxChat-messageListAriaLabel":"Message list","dxChat-alertListAriaLabel":"Error list","dxChat-emptyListMessage":"There are no messages in this chat","dxChat-emptyListPrompt":"Write your first message","dxChat-typingMessageSingleUser":"{0} is typing...","dxChat-typingMessageTwoUsers":"{0} and {1} are typing...","dxChat-typingMessageThreeUsers":"{0}, {1} and {2} are typing...","dxChat-typingMessageMultipleUsers":"{0} and others are typing...","dxChat-editedMessageText":"Edited","dxChat-editingEditMessage":"Edit","dxChat-editingDeleteMessage":"Delete","dxChat-editingDeleteConfirmText":"Are you sure you want to delete this message?","dxChat-deletedMessageText":"This message was deleted","dxChat-defaultImageAlt":"Image shared in chat","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","dxTagBox-tagRoleDescription":"Tag. Press the delete button to remove this tag","dxTagBox-ariaRoleDescription":"Tag box","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxFilterBuilder-filterAriaRootElement":"Filter builder","dxFilterBuilder-filterAriaGroupLevel":"Level {0}","dxFilterBuilder-filterAriaGroupItem":"Group item","dxFilterBuilder-filterAriaOperationButton":"Operation","dxFilterBuilder-filterAriaAddButton":"Add","dxFilterBuilder-filterAriaRemoveButton":"Remove {0}","dxFilterBuilder-filterAriaItemField":"Item field","dxFilterBuilder-filterAriaItemOperation":"Item operation","dxFilterBuilder-filterAriaItemValue":"Item value","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-borderWidth":"Border Width","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxHtmlEditor-borderStyleNone":"none","dxHtmlEditor-borderStyleHidden":"hidden","dxHtmlEditor-borderStyleDotted":"dotted","dxHtmlEditor-borderStyleDashed":"dashed","dxHtmlEditor-borderStyleSolid":"solid","dxHtmlEditor-borderStyleDouble":"double","dxHtmlEditor-borderStyleGroove":"groove","dxHtmlEditor-borderStyleRidge":"ridge","dxHtmlEditor-borderStyleInset":"inset","dxHtmlEditor-borderStyleOutset":"outset","dxHtmlEditor-aiDialogTitle":"AI Assistant","dxHtmlEditor-aiDialogError":"Something went wrong. Please try again.","dxHtmlEditor-aiDialogCanceled":"Generation canceled","dxHtmlEditor-aiReplace":"Replace","dxHtmlEditor-aiInsertAbove":"Insert above","dxHtmlEditor-aiInsertBelow":"Insert below","dxHtmlEditor-aiCopy":"Copy","dxHtmlEditor-aiRegenerate":"Regenerate","dxHtmlEditor-aiGenerate":"Generate","dxHtmlEditor-aiCancel":"Cancel","dxHtmlEditor-aiToolbarItemAriaLabel":"AI Assistant toolbar item","dxHtmlEditor-aiResultTextAreaAriaLabel":"AI Assistant result","dxHtmlEditor-aiAskPlaceholder":"Ask AI to modify text","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}","dxGallery-itemName":"Gallery item","dxMultiView-elementAriaRoleDescription":"MultiView","dxMultiView-elementAriaLabel":"Use the arrow keys or swipe to navigate between views","dxMultiView-itemAriaRoleDescription":"View","dxMultiView-itemAriaLabel":"{0} of {1}","dxSplitter-resizeHandleAriaLabel":"Split bar","dxSplitter-resizeHandleAriaRoleDescription":"Separator","dxStepper-optionalMark":"(Optional)"}}),GS=(i,e)=>{var t;return i[e]||e?.toLowerCase&&((t=Object.entries(i).find((n=>{let[s]=n;return s.toLowerCase()===e.toLowerCase()})))===null||t===void 0?void 0:t[1])||{}},lc={},F=Gt({engine:function(){return"base"},_dictionary:zS,load:function(i){I(!0,this._dictionary,i)},_localizablePrefix:"@",setup:function(i){this._localizablePrefix=i},localizeString:function(i){const e=this,t=new RegExp("(^|[^a-zA-Z_0-9"+e._localizablePrefix+"-]+)("+e._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),n=e._localizablePrefix+e._localizablePrefix;return i.replace(t,((s,o,r,a)=>{const l=e._localizablePrefix+a;let c;return r!==n&&(c=e.format(a)),c||(lc[a]=Qx(a)),o+(c||l)}))},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(i){return i?lc:I({},lc,this.getMessagesByLocales()[$t.locale()])},getFormatter:function(i){return this._getFormatterBase(i)||this._getFormatterBase(i,"en")},_getFormatterBase:function(i,e){const t=$t.getValueByClosestLocale((n=>GS(this._dictionary,n)[i]));if(t)return function(){const n=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return n.unshift(t),Ln.apply(this,n)}},format:function(i){const e=this.getFormatter(i),t=Array.prototype.slice.call(arguments,1);return e&&e.apply(this,t)||""}}),cc=function(i){return function(e){const t=u(e||"body"),n=t.filter(".dx-visibility-change-handler").add(t.find(".dx-visibility-change-handler"));for(let s=0;s<n.length;s++)_.triggerHandler(n[s],i)}},KS=cc("dxshown"),US=cc("dxhiding"),jS=cc("dxresize"),dc={triggerHidingEvent:US,triggerResizeEvent:jS,triggerShownEvent:KS},uc=dc.triggerShownEvent,qS=dc.triggerHidingEvent,Bt=dc.triggerResizeEvent,YS=Ee({syncStrategy:!0});class bn{render(e){e=e||{};const{onRendered:t}=e;delete e.onRendered;let n;return e.renovated&&e.transclude&&this._element?n=u("<div>").append(this._element).contents():n=this._renderCore(e),this._ensureResultInContainer(n,e.container),YS.fire(n,e.container),t&&t(),n}_ensureResultInContainer(e,t){if(!t)return;const n=u(t),s=Cn(n.get(0),e.get(0));n.append(e),!(s||!Cn(D.getBody(),n.get(0)))&&uc(e)}_renderCore(){throw he.Error("E0001")}}const XS=function(i,e,t,n,s){let o;const r=((a,l,c)=>l((()=>a),c))(i,e,(a=>{if(o&&o(),cu(a)){s(a);return}o=(function(l,c,d,h,p){const m={},g=d.slice(),f=d.map((v=>{const b=h[v];return c(b?()=>b(l):()=>l[v],(w=>{if(m[v]=w,g.length){const T=g.indexOf(v);T>=0&&g.splice(T,1)}g.length||p(m)}))}));return function(){f.forEach((v=>v()))}})(a,e,t,n,s)}));return function(){o&&o(),r&&r()}};class so extends bn{constructor(e,t,n,s){super(),this._render=e,this._fields=t,this._fieldsMap=s||{},this._watchMethod=n}_renderCore(e){const t=u(e.container),n=XS(e.model,this._watchMethod,this._fields,this._fieldsMap,(s=>{t.empty(),this._render(t,s,e.model)}));return _.on(t,pn,n),t.contents()}}class ym extends bn{constructor(e){super(),this.name=e}}class ts extends bn{_renderCore(){return u()}}lx("default",{compile:i=>Er(i),render:(i,e,t)=>i.clone()}),cx("default");class ZS extends bn{constructor(e){super(),this._element=e}_renderCore(e){const{transclude:t}=e;return!t&&!this._compiledTemplate&&(this._compiledTemplate=fu().compile(this._element)),u("<div>").append(t?this._element:fu().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return u(this._element).clone()}}function JS(i){return i.reduce(((e,t)=>{const n=(e.get(t)??0)+1;return e.set(t,n),e}),new Map)}const QS=function(i){return Array.isArray(i)?i:[i]},eE=function(i){return[...new Set(i)]},Cm=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t=JS(e);return i.filter((n=>{const s=t.get(n);return s&&t.set(n,s-1),!s}))},tE=function(i,e,t,n){const s={},{useLegacyVisibleIndex:o}=ce();let r=0;const a=l=>!y(l[e])&&!0;i.forEach((l=>{const c=l[e];c>=0?(s[c]=s[c]||[],l===t?s[c].unshift(l):s[c].push(l)):l[e]=void 0})),o||i.forEach((l=>{if(a(l)){for(;s[r];)r++;s[r]=[l],r++}})),r=0,dx(s,(function(l,c){c.forEach((d=>{l>=0&&(d[e]=r++)}))})),o&&i.forEach((l=>{a(l)&&(l[e]=r++)}))},iE=(i,e)=>i.reduce(((t,n)=>{const s=e(n);return t[s]=t[s]??[],t[s].push(n),t}),{}),bm=(i,e)=>{const t=u(i).contents().filter(`[data-options*="${e}"]`);return[].slice.call(t).map((n=>{const s=u(n).attr("data-options")||"";return{element:n,options:ce().optionsParser(s)[e]}})).filter((n=>!!n.options))},nE=i=>{const e=iE(i,(n=>n.options.name));if(e.undefined)throw he.Error("E0023");const t={};return Object.keys(e).forEach((n=>{var s;const o=(s=Fa(B.current(),e[n],(r=>r.options))[0])===null||s===void 0?void 0:s.element;o&&(t[n]=o)})),t},Sm=i=>{const e=i.render.bind(i);return I({},i,{render(t){const n=e(t);return t&&t.onRendered&&t.onRendered(),n}})},sE=i=>{const e=i.render.bind(i);return I({},i,{render(t){const n=u(t.container);return e(C({},t,{container:ae(n)}))}})},oE=i=>{const e=[];return"model"in i&&e.push(i.model),"index"in i&&e.push(i.index),e.push(i.container),e},rE=i=>typeof i=="string"?xi.normalizeTemplateElement(i):i,Em=i=>Is.isRenderer(i)&&i[0]||i,aE=i=>new ZS(i),lE=(i,e,t,n)=>{let s=null;return(!n||n.indexOf(i)===-1)&&(s=e[i],s&&!(s instanceof bn)&&(Is.isFunction(s.render)&&(s=sE(s)),t||(s=Sm(s)))),s},Im=(i,e,t,n,s,o)=>i==null?new ts:i instanceof ym?o[i.name]:i instanceof bn?i:Is.isFunction(i.render)&&!Is.isRenderer(i)?n?i:Sm(i):i.nodeType||Is.isRenderer(i)?e(u(i)):lE(i,t,n,s)||o[i]||e(i),cE="dxactive",wr=ee.inherit({ctor(i,e){this._timeout=i,this._fire=e},start(){const i=this;this._schedule((()=>{i.force()}))},_schedule(i){this.stop(),this._timer=setTimeout(i,this._timeout)},stop(){clearTimeout(this._timer)},force(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired(){return this._fired}});let Ut;const hc=xr.inherit({ctor(){this.callBase.apply(this,arguments),this._active=new wr(0,M),this._inactive=new wr(0,M)},configure(i,e){switch(e){case"dxactive":i.activeTimeout=i.timeout;break;case"dxinactive":i.inactiveTimeout=i.timeout}this.callBase(i)},start(i){if(Ut){const e=Cn(this.getElement().get(0),Ut.getElement().get(0)),t=!Ut._active.fired();if(e&&t){this._cancel();return}Ut._inactive.force()}Ut=this,this._initEvents(i),this._active.start()},_initEvents(i){const e=this,t=this._getEmitterTarget(i),n=xn(i),o=B.isSimulator()||!n,r=Be(this.activeTimeout,30),a=Be(this.inactiveTimeout,400);this._active=new wr(o?r:0,(()=>{e._fireEvent("dxactive",i,{target:t})})),this._inactive=new wr(o?a:0,(()=>{e._fireEvent("dxinactive",i,{target:t}),Ut=null}))},cancel(i){this.end(i)},end(i){const e=i.type!==Ae.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose(){this._active.stop(),this._inactive.stop(),Ut===this&&(Ut=null),this.callBase()},lockInactive(){return this._active.force(),this._inactive.stop(),Ut=null,this._cancel(),this._inactive.force.bind(this._inactive)}});hc.lock=function(i){const e=Ut?Ut.lockInactive():M;i.done(e)},es({emitter:hc,events:["dxactive","dxinactive"]});const{lock:dE}=hc,oo="dxhoverstart",uE=k(Ae.enter,"dxHoverStart"),Dr="dxhoverend",hE=k(Ae.leave,"dxHoverEnd"),wm=ee.inherit({noBubble:!0,ctor(){this._handlerArrayKeyPath=`${this._eventNamespace}_HandlerStore`},setup(i){Pe(i,this._handlerArrayKeyPath,{})},add(i,e){const t=this,n=function(s){t._handler(s)};_.on(i,this._originalEventName,e.selector,n),Pe(i,this._handlerArrayKeyPath)[e.guid]=n},_handler(i){_r(i)||B.isSimulator()||Hi({type:this._eventName,originalEvent:i,delegateTarget:i.delegateTarget})},remove(i,e){const t=Pe(i,this._handlerArrayKeyPath)[e.guid];_.off(i,this._originalEventName,e.selector,t)},teardown(i){Xo(i,this._handlerArrayKeyPath)}}),pE=wm.inherit({ctor(){this._eventNamespace="dxHoverStart",this._eventName=oo,this._originalEventName=uE,this.callBase()},_handler(i){(i.pointers||[]).length||this.callBase(i)}}),mE=wm.inherit({ctor(){this._eventNamespace="dxHoverEnd",this._eventName=Dr,this._originalEventName=hE,this.callBase()}});Ot(oo,new pE),Ot(Dr,new mE);const pc="KeyboardProcessor",Dm=i=>({keyName:tt(i),key:i.key,code:i.code,ctrl:i.ctrlKey,location:i.location,metaKey:i.metaKey,shift:i.shiftKey,alt:i.altKey,which:i.which,originalEvent:i}),mc=ee.inherit({_keydown:k("keydown",pc),_compositionStart:k("compositionstart",pc),_compositionEnd:k("compositionend",pc),ctor(i){i=i||{},i.element&&(this._element=u(i.element)),i.focusTarget&&(this._focusTarget=i.focusTarget),this._handler=i.handler,this._element&&(this._processFunction=e=>{const t=u(this._focusTarget).toArray(),n=this._focusTarget&&this._focusTarget!==e.target&&!t.includes(e.target),s=this._isComposingJustFinished&&e.which===229||this._isComposing||n;this._isComposingJustFinished=!1,s||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),_.on(this._element,this._keydown,this._processFunction),_.on(this._element,this._compositionStart,this._toggleProcessingWithContext),_.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose(){this._element&&(_.off(this._element,this._keydown,this._processFunction),_.off(this._element,this._compositionStart,this._toggleProcessingWithContext),_.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process(i){this._handler(Dm(i))},toggleProcessing(i){let{type:e}=i;this._isComposing=e==="compositionstart",this._isComposingJustFinished=!this._isComposing}});mc.createKeyDownOptions=Dm;function ze(i,e){return e?k(i,e):i}function fc(i,e){return typeof i=="function"?i(e):i.execute(e)}const Tm={on:(i,e,t,n)=>{const{selector:s,showTimeout:o,hideTimeout:r,namespace:a}=n;_.on(i,ze("dxactive",a),s,{timeout:o},(l=>fc(e,{event:l,element:l.currentTarget}))),_.on(i,ze("dxinactive",a),s,{timeout:r},(l=>fc(t,{event:l,element:l.currentTarget})))},off:(i,e)=>{let{namespace:t,selector:n}=e;_.off(i,ze("dxactive",t),n),_.off(i,ze("dxinactive",t),n)}},Tr={on:function(i,e){let{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_.on(i,ze("dxresize",t),e)},off:function(i){let{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_.off(i,ze("dxresize",e))}},Am={on:(i,e,t,n)=>{let{selector:s,namespace:o}=n;_.on(i,ze("dxhoverend",o),s,(r=>t(r))),_.on(i,ze("dxhoverstart",o),s,(r=>fc(e,{element:r.target,event:r})))},off:(i,e)=>{let{selector:t,namespace:n}=e;_.off(i,ze("dxhoverstart",n),t),_.off(i,ze("dxhoverend",n),t)}},Ar={on:(i,e,t,n)=>{let{namespace:s}=n;_.on(i,ze("dxhiding",s),t),_.on(i,ze("dxshown",s),e)},off:(i,e)=>{let{namespace:t}=e;_.off(i,ze("dxhiding",t)),_.off(i,ze("dxshown",t))}},Or={on:(i,e,t,n)=>{let{namespace:s}=n;_.on(i,ze("focusin",s),e),_.on(i,ze("focusout",s),t)},off:(i,e)=>{let{namespace:t}=e;_.off(i,ze("focusin",t)),_.off(i,ze("focusout",t))},trigger:i=>_.trigger(i,"focus")},Om={on:function(i,e){let{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_.on(i,ze("dxclick",t),e)},off:function(i){let{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_.off(i,ze("dxclick",e))}},km={on:function(i,e){let{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_.on(i,ze("click",t),e)},off:function(i){let{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_.off(i,ze("click",e))}};let fE=0;const ro={},_E=()=>"keyboardProcessorId"+fE++,ao={on:(i,e,t)=>{const n=_E();return ro[n]=new mc({element:i,focusTarget:e,handler:t}),n},off:i=>{i&&ro[i]&&(ro[i].dispose(),delete ro[i])},_getProcessor:i=>ro[i]};function gE(i,e,t){function n(o){return typeof o=="string"?o.split("."):typeof o=="number"?[o]:o}i=n(i),e=n(e);let s=Math.max(i.length,e.length);isFinite(t)&&(s=Math.min(s,t));for(let o=0;o<s;o++){const r=parseInt(i[o]||0,10),a=parseInt(e[o]||0,10);if(r<a)return-1;if(r>a)return 1}return 0}function vE(i){const{major:e,minor:t,patch:n}=i;return[e,t,n].join(".")}function Mm(i){const[e,t,n]=i.split(".").map(Number);return{major:e,minor:t,patch:n}}function xE(){var i;return((i=ce())===null||i===void 0?void 0:i.versionAssertions)??[]}function yE(i){return i.map((e=>`${e.packageName}: ${e.version}`)).join(`
`)}function CE(i,e){return i.major===e.major&&i.minor===e.minor&&i.patch===e.patch}function bE(i){let{major:e,minor:t,patch:n}=i;return t===1?{major:e-1,minor:2,patch:n}:{major:e,minor:t-1,patch:n}}function SE(i){const e=xE().filter((t=>!CE(Mm(t.version),i)));return e.length?(he.log("W0023",yE([{packageName:"devextreme",version:vE(i)},...e])),!1):!0}function EE(i){return new Uint8Array(atob(i).split("").map((e=>e.charCodeAt(0))))}function IE(i){var e;return new Uint8Array(((e=i.match(/.{1,2}/g))===null||e===void 0?void 0:e.map((t=>parseInt(t,16))))??[])}function wE(i){const e=new Uint8Array(i.length);for(let t=0;t<i.length;t+=1)e[t]=255&i.charCodeAt(t);return e}function DE(i){const e=new Uint8Array(4*i.length);for(let t=0;t<e.length;t+=1)e[t]=i[t>>2]>>>8*(3-t%4);return e}function TE(i){const e=new Uint32Array(1+(i.length-1>>2));for(let t=0;t<i.length;t+=1)e[t>>2]|=i[t]<<8*(3-t%4);return e}function Rm(i,e){return(i<<e|i>>>32-e)>>>0}function Pm(i,e){const t=new Uint8Array(i.length+e.length);return t.set(i,0),t.set(e,i.length),t}const $m={e:65537,n:new Uint8Array([200,219,153,203,140,7,228,253,193,243,62,137,139,60,68,242,48,142,113,88,185,235,253,105,80,74,32,170,96,74,111,250,7,205,154,3,146,115,153,53,45,132,123,56,61,208,184,201,63,24,109,223,0,179,169,102,139,224,73,233,45,173,138,66,98,88,69,76,177,111,113,218,192,33,101,152,25,134,34,173,32,82,230,44,247,200,253,170,192,246,30,12,96,205,100,249,181,93,0,231])},AE="j7WzkNQbTjVT6XCcXD8bhM",OE="3021300906052b0e03021a05000414";function kE(i){const e=(8*$m.n.length+6)/8,t=Pm(IE(OE),i);if(t.length+10>e)throw Error("Key is too short for SHA1 signing algorithm");const n=new Uint8Array(e-t.length);return n.fill(255,0,n.length-1),n[0]=0,n[1]=1,n[n.length-1]=0,Pm(n,t)}function ME(i){try{const e=BigInt(0),t=BigInt(1),n=BigInt(8),s=(h,p,m)=>{let g=t,f=h,v=p;for(;v;)v&t&&(g=g*f%m),f=f*f%m,v>>=t;return g},o=h=>h.reduce(((p,m)=>(p<<n)+BigInt(m)),e),r=o(i.actual),a=o(i.signature),l=BigInt(i.key.e),c=o(i.key.n);return s(a,l,c)===r}catch{return!0}}function RE(i){const e=new Uint8Array(i.length+1);e.set(wE(i)),e[e.length-1]=128;const t=TE(new Uint8Array(e)),n=new Uint32Array(16*Math.ceil((t.length+2)/16));return n.set(t,0),n[n.length-1]=8*(e.length-1),n}function PE(i){const e=RE(i),t=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]);for(let n=0;n<e.length;n+=16){const s=new Uint32Array(80);for(let d=0;d<16;d+=1)s[d]=e[n+d];for(let d=16;d<80;d+=1){const h=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=h<<1|h>>>31}let o=t[0],r=t[1],a=t[2],l=t[3],c=t[4];for(let d=0;d<80;d+=1){const[h,p]=d<20?[r&a|~r&l,1518500249]:d<40?[r^a^l,1859775393]:d<60?[r&a|r&l|a&l,2400959708]:[r^a^l,3395469782],m=Rm(o,5)+h+c+p+s[d];c=l,l=a,a=Rm(r,30),r=o,o=m}t[0]+=o,t[1]+=r,t[2]+=a,t[3]+=l,t[4]+=c}return DE(t)}const Bm=()=>typeof HTMLElement<"u"&&typeof customElements<"u",Vm=Bm()?HTMLElement:class{},Sn={trigger:"dx-license-trigger",panel:"dx-license"},Vt={buyNow:"buy-now",licensingDoc:"licensing-doc",version:"version",subscriptions:"subscriptions"},Lm={opacity:"1",visibility:"visible","clip-path":"none",filter:"none"},Fm=C({},Lm,{width:"100%",height:"auto","line-height":"normal",display:"block","z-index":"1500",position:"static",transform:"translate(0px, 0px)","background-color":"#FF7200",border:"none",margin:"auto","box-sizing":"border-box","text-align":"center"}),$E=C({},Fm,{display:"flex","align-items":"center","flex-direction":"row",position:"relative",top:"0px",left:"0px",padding:"0.5rem"}),BE={width:"1rem",cursor:"pointer",height:"1rem"},Hm=C({},Lm,{display:"inline",position:"static",padding:"0px",margin:"0px",color:"white","font-family":"'Segoe UI','Open Sans Condensed',-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,Cantarell,Ubuntu,roboto,noto,arial,sans-serif","font-size":"0.875rem","font-wight":"600"});function yi(i,e){const t=e?C({},i,e):i;return Object.keys(t).reduce(((n,s)=>`${n}${[s,`${t[s]} !important;`].join(": ")}`),"")}class yt extends Vm{constructor(){var e,t,n,s,o;super(),this._observer=null,this._inReassign=!1,this._spanStyles=yi(Hm,(e=yt.customStyles)===null||e===void 0?void 0:e.textStyles),this._linkStyles=yi(Hm,(t=yt.customStyles)===null||t===void 0?void 0:t.linkStyles),this._containerStyles=yi($E,(n=yt.customStyles)===null||n===void 0?void 0:n.containerStyles),this._contentStyles=yi(Fm,(s=yt.customStyles)===null||s===void 0?void 0:s.contentStyles),this._buttonStyles=yi(BE,(o=yt.customStyles)===null||o===void 0?void 0:o.contentStyles)}_getSubscriptionsArray(e){return e?.split(",").map((t=>t.trim()))??[]}updateSubscriptions(e){if(!this._subscriptionsSpan||!e)return;const t=this.getAttribute(Vt.subscriptions),n=this._getSubscriptionsArray(t);if(!n.length){this._updateSubscriptionsText(e);return}const s=this._getSubscriptionsArray(e),o=[];s.forEach((r=>{n.some((a=>a===r))&&o.push(r)})),this._updateSubscriptionsText(o.length!==0?o.join(", "):[...n,...s].join(", "))}_updateSubscriptionsText(e){e&&this._subscriptionsSpan&&(this.setAttribute(Vt.subscriptions,e),this._subscriptionsSpan.innerText=` Included in Subscriptions: ${e}`)}_createSubscriptionsSpan(){return this._subscriptionsSpan=this._createSpan(""),this._updateSubscriptionsText(this.getAttribute(Vt.subscriptions)),this._subscriptionsSpan}_createSpan(e){const t=document.createElement("span");return t.innerText=e,t.style.cssText=this._spanStyles,t}_createLink(e,t){const n=document.createElement("a");return n.innerText=e,n.style.cssText=this._linkStyles,n.href=t,n.target="_blank",n}_createButton(){const e=document.createElement("div");e.style.cssText=this._buttonStyles;const t=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("points","13.4 12.7 8.7 8 13.4 3.4 12.6 2.6 8 7.3 3.4 2.6 2.6 3.4 7.3 8 2.6 12.6 3.4 13.4 8 8.7 12.7 13.4 13.4 12.7"),t.style.cssText=yi({fill:"#fff",opacity:".5","stroke-width":"0px"}),n.setAttribute("id","Layer_1"),n.setAttribute("data-name","Layer 1"),n.setAttribute("version","1.1"),n.setAttribute("viewBox","0 0 16 16"),n.style.cssText=yi({"vertical-align":"baseline"}),n.appendChild(t),e.appendChild(n),e.onclick=()=>{yt.closed=!0,this.style.cssText=yi({display:"none"})},e}_createContentContainer(){const e=document.createElement("div");return e.style.cssText=this._contentStyles,e.append(this._createSpan("For evaluation purposes only. Redistribution prohibited. Please "),this._createLink("register",this.getAttribute(Vt.licensingDoc)),this._createSpan(" an existing license or "),this._createLink("purchase a new license",this.getAttribute(Vt.buyNow)),this._createSpan(` to continue use of DevExpress product libraries (v${this.getAttribute(Vt.version)}).`),this._createSubscriptionsSpan()),e}_reassignComponent(){this.innerHTML="",this.style.cssText=this._containerStyles,this.append(this._createContentContainer(),this._createButton())}connectedCallback(){this._reassignComponent(),this._observer||(this._observer=new MutationObserver((()=>{if(yt.closed){var e;(e=this._observer)===null||e===void 0||e.disconnect();return}this._inReassign?this._inReassign=!1:(this._inReassign=!0,this._reassignComponent())})),this._observer.observe(this,{childList:!0,attributes:!0,subtree:!0}))}disconnectedCallback(){yt.closed||Promise.resolve().then((()=>{if(!document)return;document.getElementsByTagName(Sn.panel).length||document.body.prepend(this)}))}}yt.customStyles=void 0,yt.closed=!1;class VE extends Vm{connectedCallback(){this.style.cssText=yi({display:"none"});const e=document.getElementsByTagName(Sn.panel);if(!yt.closed)if(e.length){const t=this.getAttribute(Vt.subscriptions);e[0].updateSubscriptions(t)}else{const t=document.createElement(Sn.panel);Object.values(Vt).forEach((n=>{t.setAttribute(n,this.getAttribute(n))})),t.setAttribute("data-permanent",""),document.body.prepend(t)}}}function LE(i){customElements.get(Sn.trigger)||(yt.customStyles=i,customElements.define(Sn.panel,yt),customElements.define(Sn.trigger,VE))}function FE(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",s=arguments.length>4?arguments[4]:void 0;LE(s);const o=document.createElement(Sn.trigger);o.setAttribute(Vt.buyNow,i),o.setAttribute(Vt.licensingDoc,e),o.setAttribute(Vt.version,t),o.setAttribute(Vt.subscriptions,n),document.body.appendChild(o)}function HE(i,e,t,n,s){Bm()&&FE(i,e,t,n,s)}var Lt;(function(i){i.corrupted="corrupted",i.verified="verified",i.internal="internal"})(Lt||(Lt={}));const NE=["customerId","maxVersionAllowed","format","internalUsageId"],WE="https://go.devexpress.com/Licensing_Installer_Watermark_DevExtremeJQuery.aspx",zE="https://go.devexpress.com/Licensing_Documentation_DevExtremeJQuery.aspx",GE="Universal, DXperience, ASP.NET and Blazor, DevExtreme Complete",Nm={kind:Lt.corrupted,error:"general"},KE={kind:Lt.corrupted,error:"verification"},UE={kind:Lt.corrupted,error:"decoding"},jE={kind:Lt.corrupted,error:"deserialization"},qE={kind:Lt.corrupted,error:"payload"},YE={kind:Lt.corrupted,error:"version"};let _c=!1;function XE(i){let{text:e,signature:t}=i;return ME({key:$m,signature:EE(t),actual:kE(PE(e))})}function ZE(i){if(i===void 0)return Nm;const e=i.split(".");if(e.length!==2||e[0].length===0||e[1].length===0)return Nm;if(!XE({text:e[0],signature:e[1]}))return KE;let t="";try{t=atob(e[0])}catch{return UE}let n={};try{n=JSON.parse(t)}catch{return jE}const{customerId:s,maxVersionAllowed:o,format:r,internalUsageId:a}=n,l=fi(n,NE);return a!==void 0?{kind:Lt.internal,internalUsageId:a}:s===void 0||o===void 0||r===void 0?qE:r!==1?YE:{kind:Lt.verified,payload:C({customerId:s,maxVersionAllowed:o},l)}}function Wm(i){return isNaN(i)||i<3}function JE(i){return i.startsWith("LCX")||i.startsWith("LCP")}function QE(i){let{licenseKey:e,version:t}=i,n=!1;try{n=Wm(t.patch);const{major:s,minor:o}=n?bE(t):t;if(!e)return{preview:n,error:"W0019"};if(JE(e))return{preview:n,error:"W0024"};const r=ZE(e);return r.kind===Lt.corrupted?{preview:n,error:"W0021"}:r.kind===Lt.internal?{preview:n,internal:!0,error:r.internalUsageId===AE?void 0:"W0020"}:s&&o?10*s+o>r.payload.maxVersionAllowed?{preview:n,error:"W0020"}:{preview:n,error:void 0}:{preview:n,error:"W0021"}}catch{return{preview:n,error:"W0021"}}}function eI(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uu;if(_c)return;_c=!0;const t=Mm(e),n=SE(t),{internal:s,error:o}=QE({licenseKey:i,version:t});if(!n&&s)return;if(o&&!s){const a=ce().buyNowLink??WE,l=ce().licensingDocLink??zE;HE(a,l,uu,GE)}const r=Wm(t.patch);if(o){he.log(r?"W0022":o);return}r&&!s&&he.log("W0022")}function zm(){return _c}const tI={validateLicense:eI};class lo extends bn{constructor(e){super(),this._render=e}_renderCore(e){return Er(this._render(e))}}const iI=new lo((i=>{let{model:e,parent:t}=i;const n=e.widget;if(!n)return u();const s=u("<div>"),o=e.options||{};return t?t._createComponent(s,n,o):s[n](o),s})),Gm={TemplateManager:class{constructor(e,t){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=t||"template",this._createElement=e||aE,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).skipImmediate||t(e()),M},templates:{"dx-polymorph-widget":iI},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=I({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach((e=>{e.template.dispose&&e.template.dispose()})),this._tempTemplates=[]}extractTemplates(e){const t=this._extractTemplates(e),n=this._extractAnonymousTemplate(e);return{templates:t,anonymousTemplateMeta:n}}_extractTemplates(e){const t=bm(e,"dxTemplate"),n=nE(t);return t.forEach((s=>{let{element:o,options:{name:r}}=s;o===n[r]?u(o).addClass("dx-template-wrapper").detach():u(o).remove()})),Object.keys(n).map((s=>({name:s,template:this._createTemplate(n[s])})))}_extractAnonymousTemplate(e){const t=e.contents().detach();return t.filter(((s,o)=>{const r=o.nodeType===3,a=u(o).text().trim().length<1;return!(r&&a)})).length>0?{template:this._createTemplate(t),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){const t=this._tempTemplates.filter((s=>s.source===Em(e)))[0];if(t)return t.template;const n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:Em(e)}),n}_createTemplate(e){return this._createElement(rE(e))}getTemplate(e,t,n,s){let{isAsyncTemplate:o,skipTemplates:r}=n;return L(e)?new lo((a=>{const l=e.apply(s,oE(a));if(!y(l))return new ts;let c=!1;const d=Im(l,(p=>p.nodeType||Mi(p)&&!u(p).is("script")?new lo((()=>p)):(c=!0,this._createTemplate(p))),t,o,r,this._defaultTemplates),h=d.render(a);return c&&d.dispose&&d.dispose(),h})):Im(e,this._createTemplateIfNeeded,t,o,r,this._defaultTemplates)}}};class ii extends sm{static getInstance(e){return ch(u(e),this)}static defaultOptions(e){this._classCustomRules=Object.hasOwnProperty.bind(this)("_classCustomRules")&&this._classCustomRules?this._classCustomRules:[],this._classCustomRules.push(e)}_getDefaultOptions(){return I(super._getDefaultOptions(),{width:void 0,height:void 0,rtlEnabled:ce().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?Gm.TemplateManager.createDefaultOptions():{})}ctor(e,t){this._customClass=null,this._createElement(e),lh(this._$element,this,this._dispose),super.ctor(t);const n=zm();tI.validateLicense(ce().licenseKey),!n&&zm()&&ce({licenseKey:""}),Go.resolve()}_createElement(e){this._$element=u(e)}_getSynchronizableOptionsForCreateComponent(){return["rtlEnabled","disabled","templatesRenderAsynchronously"]}_checkFunctionValueDeprecation(e){this.option("_ignoreFunctionValueDeprecation")||e.forEach((t=>{L(this.option(t))&&he.log("W0017",t)}))}_visibilityChanged(e){}_dimensionChanged(){}_init(){super._init(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()}_setOptionsByDevice(e){const t=this.constructor,n=Object.prototype.hasOwnProperty.call(t,"_classCustomRules"),s=Object.prototype.hasOwnProperty.call(t,"defaultOptions"),o=n||s?t._classCustomRules:[];super._setOptionsByDevice([].concat(o||[],e||[]))}_isInitialOptionValue(e){return!(this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),e))&&super._isInitialOptionValue(e)}_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){const e=this._windowResizeCallBack=this._dimensionChanged.bind(this);Ks.add(e)}}_isDimensionChangeSupported(){return this._dimensionChanged!==ii.prototype._dimensionChanged}_renderComponent(){Tx(this.$element()),this._initMarkup(),te()&&this._render()}_initMarkup(){const{rtlEnabled:e}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(e),this._renderVisibilityChange(),this._renderDimensions()}_render(){this._attachVisibilityChangeHandlers()}_renderElementAttributes(){const{elementAttr:e}=this.option()||{},t=I({},e),n=t.class;delete t.class,this.$element().attr(t).removeClass(this._customClass).addClass(n),this._customClass=n}_renderVisibilityChange(){this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()&&this.$element().addClass("dx-visibility-change-handler")}_renderDimensions(){const e=this.$element(),t=e.get(0),n=this._getOptionValue("width",t),s=this._getOptionValue("height",t);this._isCssUpdateRequired(t,s,n)&&e.css({width:n===null?"":n,height:s===null?"":s})}_isCssUpdateRequired(e,t,n){return!!(y(n)||y(t)||e.style.width||e.style.height)}_attachDimensionChangeHandlers(){const e=this.$element(),t=`${this.NAME}VisibilityChange`;Tr.off(e,{namespace:t}),Tr.on(e,(()=>this._dimensionChanged()),{namespace:t})}_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){const e=this.$element(),t=`${this.NAME}VisibilityChange`;this._isHidden=!this._isVisible(),Ar.off(e,{namespace:t}),Ar.on(e,(()=>this._checkVisibilityChanged("shown")),(()=>this._checkVisibilityChanged("hiding")),{namespace:t})}}_isVisible(){return this.$element().is(":visible")}_checkVisibilityChanged(e){this._isVisible()&&(e==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):e==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))}_isVisibilityChangeSupported(){return this._visibilityChanged!==ii.prototype._visibilityChanged&&te()}_clean(){}_modelByElement(e){const{modelByElement:t}=this.option();return t?t(this.$element()):void 0}_invalidate(){if(this._isUpdateAllowed())throw he.Error("E0007");this._requireRefresh=!0}_refresh(){this._clean(),this._renderComponent()}_dispose(){var e;(e=this._templateManager)===null||e===void 0||e.dispose(),super._dispose(),this._clean(),this._detachWindowResizeCallback()}_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&Ks.remove(this._windowResizeCallBack)}_toggleRTLDirection(e){this.$element().toggleClass("dx-rtl",e)}_createComponent(e,t,n){const s=n??{},o=this._getSynchronizableOptionsForCreateComponent().filter((d=>!(d in s))),{integrationOptions:r}=this.option();let{nestedComponentOptions:a}=this.option();a=a??M;const l=I({integrationOptions:r},a(this));o.forEach((d=>{const{[d]:h}=this.option();l[d]=h})),this._extendConfig(s,l);let c;if(le(t)?c=u(e)[t](s)[t]("instance"):e&&(c=t.getInstance(e),c?c.option(s):c=new t(e,s)),c){const d=h=>{let{name:p,value:m}=h;o.includes(p)&&c.option(p,m)};this.on("optionChanged",d),c.on("disposing",(()=>this.off("optionChanged",d)))}return c}_extendConfig(e,t){S(t,((n,s)=>{e[n]??(e[n]=s)}))}_defaultActionConfig(){const e=this.$element(),t=this._modelByElement(e),n=super._defaultActionConfig();return t&&(n.context=t),n}_defaultActionArgs(){const e=super._defaultActionArgs(),t=this.$element(),n=this._modelByElement(t),s=this.element();return s&&(e.element=s),n&&(e.model=n),e}_optionChanged(e){const{name:t}=e;switch(t){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:super._optionChanged(e)}}_removeAttributes(e){const t=e.attributes;for(let n=t.length-1;n>=0;n-=1){const s=t[n];if(s){const{name:o}=s;(!o.indexOf("aria-")||o.indexOf("dx-")!==-1||o==="role"||o==="style"||o==="tabindex")&&e.removeAttribute(o)}}}_removeClasses(e){e.className=e.className.split(" ").filter((t=>t.lastIndexOf("dx-",0)!==0)).join(" ")}_updateDOMComponent(e){e?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())}endUpdate(){const e=this._isInitializingRequired();super.endUpdate(),this._isUpdateAllowed()&&this._updateDOMComponent(e)}$element(){return this._$element}element(){const e=this.$element();return ae(e)}dispose(){const e=this.$element().get(0);Ms(e,!0),e.textContent="",this._removeAttributes(e),this._removeClasses(e)}resetOption(e){if(super.resetOption(e),e==="width"||e==="height"){const t=this.initialOption(e);!y(t)&&this.$element().css(e,"")}}_getAnonymousTemplateName(){}_initTemplateManager(){if(this._templateManager||!this._useTemplates())return;const{integrationOptions:e={}}=this.option(),{createTemplate:t}=e;this._templateManager=new Gm.TemplateManager(t,this._getAnonymousTemplateName()),this._initTemplates()}_initTemplates(){const{templates:e,anonymousTemplateMeta:t}=this._templateManager.extractTemplates(this.$element()),n=this.option(`integrationOptions.templates.${t.name}`);e.forEach((s=>{let{name:o,template:r}=s;this._options.silent(`integrationOptions.templates.${o}`,r)})),t.name&&!n&&(this._options.silent(`integrationOptions.templates.${t.name}`,t.template),this._options.silent("_hasAnonymousTemplateContent",!0))}_getTemplateByOption(e){return this._getTemplate(this.option(e))}_getTemplate(e){const t=this.option("integrationOptions.templates"),n=this.option("templatesRenderAsynchronously"),s=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(e,t,{isAsyncTemplate:n,skipTemplates:s},this)}_saveTemplate(e,t){this._setOptionWithoutOptionChange(`integrationOptions.templates.${e}`,this._templateManager._createTemplate(t))}_useTemplates(){return!0}}const nI="dx-state-focused";function Km(i,e,t){const n=i==="role"||i==="id"?i:`aria-${i}`,s=y(e)?e.toString():null;t.attr(n,s)}let jt=class k0 extends ii{static getOptionsFromContainer(e){let{name:t,fullName:n,value:s}=e,o={};if(t===n)o=s;else{const r=n.split(".").pop();o[r]=s}return o}_activeStateUnit(){return""}_feedbackHideTimeout(){return 400}_feedbackShowTimeout(){return 30}_supportedKeys(e){return{}}_getDefaultOptions(){return I(super._getDefaultOptions(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})}_defaultOptionsRules(){return[...super._defaultOptionsRules(),{device(){const t=B.real(),{platform:n}=t,{version:s}=t;return n==="ios"&&gE(s,"13.3")<=0},options:{useResizeObserver:!1}}]}_init(){super._init(),this._initContentReadyAction()}_innerWidgetOptionChanged(e,t){const n=k0.getOptionsFromContainer(t);e&&e.option(n),this._options.cache(t.name,n)}_bindInnerWidgetOptions(e,t){const n=()=>this._options.silent(t,I({},e.option()));n(),e.on("optionChanged",n)}_getAriaTarget(){return this._focusTarget()}_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})}_initMarkup(){const{disabled:e,visible:t}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(e),this._toggleVisibility(t),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),super._initMarkup()}_render(){super._render(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()}_renderHint(){const{hint:e}=this.option();this.$element().attr("title",e||null)}_renderContent(){Pi((()=>this._disposed?void 0:this._renderContentImpl())).done((()=>this._disposed?void 0:this._fireContentReadyAction()))}_renderContentImpl(){}_fireContentReadyAction(){return Pi((()=>{var e;return(e=this._contentReadyAction)===null||e===void 0?void 0:e.call(this)}))}_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),super._dispose()}_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)}_clean(){this._cleanFocusState(),this._resetActiveState(),super._clean(),this.$element().empty()}_toggleVisibility(e){this.$element().toggleClass("dx-state-invisible",!e)}_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())}_renderAccessKey(){const e=this._focusTarget(),{accessKey:t}=this.option();e.attr("accesskey",t)}_isFocusable(){const{focusStateEnabled:e,disabled:t}=this.option();return e&&!t}_eventBindingTarget(){return this.$element()}_focusTarget(){return this._getActiveElement()}_isFocusTarget(e){return u(this._focusTarget()).toArray().includes(e)}_findActiveTarget(e){return e.find(this._activeStateUnit()).not(".dx-state-disabled")}_getActiveElement(){const e=this._eventBindingTarget();return this._activeStateUnit()?this._findActiveTarget(e):e}_renderFocusTarget(){const{tabIndex:e}=this.option();this._focusTarget().attr("tabIndex",e)}_keyboardEventBindingTarget(){return this._eventBindingTarget()}_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()}_focusEventTarget(){return this._focusTarget()}_focusInHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(e,!0),excludeValidators:["readOnly"]})({event:e})}_focusOutHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(e,!1),excludeValidators:["readOnly","disabled"]})({event:e})}_updateFocusState(e,t){let{target:n}=e;this._isFocusTarget(n)&&this._toggleFocusClass(t,u(n))}_toggleFocusClass(e,t){(t!=null&&t.length?t:this._focusTarget()).toggleClass("dx-state-focused",e)}_hasFocusClass(e){return u(e??this._focusTarget()).hasClass("dx-state-focused")}_isFocused(){return this._hasFocusClass()}_getKeyboardListeners(){return[]}_attachKeyboardEvents(){this._detachKeyboardEvents();const{focusStateEnabled:e,onKeyboardHandled:t}=this.option(),n=this._getKeyboardListeners().length;(e||n||!!t)&&(this._keyboardListenerId=ao.on(this._keyboardEventBindingTarget(),this._focusTarget(),(r=>this._keyboardHandler(r))))}_keyboardHandler(e,t){if(!t){const{originalEvent:o,keyName:r,which:a}=e,l=this._supportedKeys(o),c=l[r]||l[a];if(c!==void 0&&!c.bind(this)(o,e))return!1}const n=this._getKeyboardListeners(),{onKeyboardHandled:s}=this.option();return n.forEach((o=>o?._keyboardHandler(e))),s&&s(e),!0}_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()}_cleanFocusState(){this._focusTarget().removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()}_detachKeyboardEvents(){ao.off(this._keyboardListenerId),this._keyboardListenerId=null}_attachHoverEvents(){const{hoverStateEnabled:e}=this.option(),t=this._activeStateUnit(),n=this._eventBindingTarget();Am.off(n,{selector:t,namespace:"UIFeedback"}),e&&Am.on(n,new xt((s=>{let{event:o,element:r}=s;this._hoverStartHandler(o),this.option("hoveredElement",u(r))}),{excludeValidators:["readOnly"]}),(s=>{this.option("hoveredElement",null),this._hoverEndHandler(s)}),{selector:t,namespace:"UIFeedback"})}_attachFeedbackEvents(){const{activeStateEnabled:e}=this.option(),t=this._activeStateUnit(),n=this._eventBindingTarget();Tm.off(n,{namespace:"UIFeedback",selector:t}),e&&Tm.on(n,new xt((s=>{let{event:o,element:r}=s;return this._toggleActiveState(u(r),!0,o)})),new xt((s=>{let{event:o,element:r}=s;return this._toggleActiveState(u(r),!1,o)}),{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout(),hideTimeout:this._feedbackHideTimeout(),selector:t,namespace:"UIFeedback"})}_detachFocusEvents(){const e=this._focusEventTarget();Or.off(e,{namespace:`${this.NAME}Focus`})}_attachFocusEvents(){const e=this._focusEventTarget();Or.on(e,(t=>this._focusInHandler(t)),(t=>this._focusOutHandler(t)),{namespace:`${this.NAME}Focus`,isFocusable:(t,n)=>u(n).is(Nl)})}_hoverStartHandler(e){}_hoverEndHandler(e){}_toggleActiveState(e,t,n){this.option("isActive",t),e.toggleClass("dx-state-active",t)}_updatedHover(){const e=this._options.silent("hoveredElement");this._hover(e,e)}_findHoverTarget(e){return e?.closest(this._activeStateUnit()||this._eventBindingTarget())}_hover(e,t){var n;const{hoverStateEnabled:s,disabled:o,isActive:r}=this.option();if(t=this._findHoverTarget(t),(n=t)===null||n===void 0||n.toggleClass("dx-state-hover",!1),e&&s&&!o&&!r){const a=this._findHoverTarget(e);a?.toggleClass("dx-state-hover",!0)}}_toggleDisabledState(e){this.$element().toggleClass("dx-state-disabled",!!e),this.setAria("disabled",e||void 0)}_toggleIndependentState(){const{ignoreParentReadOnly:e}=this.option();this.$element().toggleClass("dx-state-independent",e)}_setWidgetOption(e,t){if(!this[e])return;if(J(t[0])){S(t[0],((r,a)=>this._setWidgetOption(e,[r,a])));return}const n=t[0];let s=t[1];t.length===1&&(s=this.option(n));const o=this[`${e}OptionMap`];this[e].option(o?o(n):n,s)}_optionChanged(e){const{name:t,value:n,previousValue:s}=e;switch(t){case"disabled":this._toggleDisabledState(n),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(n,s);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(n),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(n?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:super._optionChanged(e)}}_isVisible(){const{visible:e}=this.option();return super._isVisible()&&e}beginUpdate(){this._ready(!1),super.beginUpdate()}endUpdate(){super.endUpdate(),this._initialized&&this._ready(!0)}_ready(e){return arguments.length===0?!!this._isReady:(this._isReady=!!e,this._isReady)}setAria(){if(!J(arguments.length<=0?void 0:arguments[0]))Km(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{const e=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();S(arguments.length<=0?void 0:arguments[0],((t,n)=>Km(t,n,e)))}}isReady(){return this._ready()}repaint(){this._refresh()}focus(){Or.trigger(this._focusTarget())}registerKeyHandler(e,t){const n=this._supportedKeys();this._supportedKeys=()=>C({},n,{[e]:t})}};const sI={load:()=>A().reject(),loadSingle:()=>A().reject(),loadFromStore:()=>A().reject(),loadNextPage:()=>A().reject(),loadOptions:M,userData:M,cancel:M,cancelAll:M,filter:M,addSearchFilter:M,group:M,paginate:M,pageSize:M,pageIndex:M,resetDataSourcePageIndex:M,totalCount:M,isLastPage:M,isLoading:M,isLoaded:M,searchValue:M,searchOperation:M,searchExpr:M,select:M,key:M,keyOf:M,store:M,items:M,applyMapFunction:M,getDataSource:M,reload:M,on:M,off:M};class oI{constructor(e){if(!e)return sI;this._dataSource=e}load(){return this._dataSource.load()}loadSingle(e,t){return arguments.length<2&&(t=e,e=this.key()),this._dataSource.loadSingle(e,t)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return this._dataSource.pageIndex(e)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return arguments.length?this._dataSource.searchValue(e):this._dataSource.searchValue()}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return arguments.length?this._dataSource.searchExpr(e):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(e,t){this._dataSource.on(e,t)}off(e,t){this._dataSource.off(e,t)}}const Um="_dataSourceChangedHandler",jm="_getSpecificDataSourceOption",qm="_normalizeDataSource",Ym={postCtor(){this.on("disposing",(()=>{this._disposeDataSource()}))},_refreshDataSource(){this._initDataSource(),this._loadDataSource()},_initDataSource(){let i=jm in this?this[jm]():this.option("dataSource"),e,t;this._disposeDataSource(),i&&(i instanceof or?(this._isSharedDataSource=!0,this._dataSource=i):(e="_dataSourceOptions"in this?this._dataSourceOptions():{},t=this._dataSourceType?this._dataSourceType():or,i=Gh(i,{fromUrlLoadMode:"_dataSourceFromUrlLoadMode"in this&&this._dataSourceFromUrlLoadMode()}),this._dataSource=new t(I(!0,{},e,i))),qm in this&&(this._dataSource=this[qm](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController(){var i;const e=(i=this.option)===null||i===void 0?void 0:i.call(this,"_dataController"),t=this._dataSource;e?this._dataController=e:this._dataController=new oI(t)},_addDataSourceHandlers(){Um in this&&this._addDataSourceChangeHandler(),"_dataSourceLoadErrorHandler"in this&&this._addDataSourceLoadErrorHandler(),"_dataSourceLoadingChangedHandler"in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher(){this.readyWatcher=(function(i){this._ready&&this._ready(!i)}).bind(this),this._dataSource.on("loadingChanged",this.readyWatcher)},_addDataSourceChangeHandler(){const i=this._dataSource;this._proxiedDataSourceChangedHandler=(function(e){this[Um](i.items(),e)}).bind(this),i.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler(){this._proxiedDataSourceLoadErrorHandler=this._dataSourceLoadErrorHandler.bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler(){this._proxiedDataSourceLoadingChangedHandler=this._dataSourceLoadingChangedHandler.bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource(){const i=this._dataSource;i&&(i.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():i.load())},_loadSingle(i,e){return i=i==="this"?this._dataSource.key()||"this":i,this._dataSource.loadSingle(i,e)},_isLastPage(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler),this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource(){return this._dataSource||null}},rI=(i,e,t)=>{const n=(()=>{let s;return o=>{s!==o&&(t(o,s),s=o)}})();return{dispose:i(e,n),force(){n(e())}}};class En{constructor(e,t,n){this._$element=e,this._options=t,this._rawData=n,lh(e,this,this._dispose),this._render()}_render(){const e=u("<div>").addClass("dx-item-content-placeholder");this._$element.append(e),this._watchers=[],this._renderWatchers()}_renderWatchers(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))}_startWatcher(e,t){const n=this._rawData,s=this._options.fieldGetter(e),o=rI(this._options.watchMethod(),(()=>s(n)),((r,a)=>{this._dirty=!0,t(r,a)}));this._watchers.push(o)}setDataField(){return this._dirty=!1,S(this._watchers,((e,t)=>{t.force()})),this._dirty}_renderDisabled(e,t){this._$element.toggleClass("dx-state-disabled",!!e),this._$element.attr("aria-disabled",!!e),this._updateOwnerFocus(e)}_updateOwnerFocus(e){const t=this._options.owner;t&&e&&t._resetItemFocus(this._$element)}_renderVisible(e,t){this._$element.toggleClass("dx-state-invisible",e!==void 0&&!e)}_dispose(){S(this._watchers,((e,t)=>{t.dispose()}))}static getInstance(e){return ch(e,this)}static isClickableItem(e){return X(e)&&"onClick"in e}}const kr="dx-item",aI="dx-empty-collection",lI=/^([^.]+\[\d+\]\.)+([\w.]+)$/;let gc=class extends jt{_activeStateUnit(){return`.${kr}`}_supportedKeys(){const e=(t,n)=>{ut(n)||(n.preventDefault(),n.stopPropagation(),this._moveFocus(t,n))};return C({},super._supportedKeys(),{space:t=>{t.preventDefault(),this._enterKeyHandler(t)},enter:this._enterKeyHandler,leftArrow:e.bind(this,"left"),rightArrow:e.bind(this,"right"),upArrow:e.bind(this,"up"),downArrow:e.bind(this,"down"),pageUp:e.bind(this,"up"),pageDown:e.bind(this,"down"),home:e.bind(this,"first"),end:e.bind(this,"last")})}_getHandlerExtendedParams(e,t){return I({},e,{target:t.get(0),currentTarget:t.get(0)})}_enterKeyHandler(e){const{focusedElement:t}=this.option(),n=u(t);if(!n.length)return;const s=this._getItemData(n);if(En.isClickableItem(s)){const o={event:e};this._itemEventHandlerByHandler(n,s.onClick,o)}this._itemClickHandler(this._getHandlerExtendedParams(e,n))}_getDefaultOptions(){return C({},super._getDefaultOptions(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:F.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusedElement:null,displayExpr:void 0,disabledExpr:e=>e?e.disabled:void 0,visibleExpr:e=>e?e.visible:void 0})}_init(){this._compileDisplayGetter(),this._initDataController(),super._init(),this._cleanRenderedItems(),this._refreshDataSource()}_compileDisplayGetter(){const{displayExpr:e}=this.option();this._displayGetter=e?et(e):void 0}_initTemplates(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),super._initTemplates()}_getAnonymousTemplateName(){return"item"}_initDefaultItemTemplate(){const e=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new so(((t,n)=>{J(n)?this._prepareDefaultItemTemplate(n,t):(e&&L(e.text)&&(n=e.text(n)),t.text(String(Be(n,""))))}),this._getBindableFields(),this.option("integrationOptions.watchMethod"),e)})}_getBindableFields(){return["text","html"]}_getFieldsMap(){if(this._displayGetter)return{text:this._displayGetter}}_prepareDefaultItemTemplate(e,t){const{text:n,html:s}=e;y(n)&&t.text(n),y(s)&&t.html(s)}_initItemsFromMarkup(){const e=bm(this.$element(),"dxItem"),{items:t=[]}=this.option();if(!e.length||t.length)return;const n=e.map((s=>{let{element:o,options:r}=s;return/\S/.test(o.innerHTML)&&!r.template?r.template=this._prepareItemTemplate(o):u(o).remove(),r}));this.option("items",n)}_prepareItemTemplate(e){const t=`tmpl-${new $e}`,n=u(e).detach().clone().removeAttr("data-options").addClass("dx-template-wrapper");return this._saveTemplate(t,n),t}_dataSourceOptions(){return{paginate:!1}}_cleanRenderedItems(){this._renderedItemsCount=0}_focusTarget(){return this.$element()}_focusInHandler(e){if(super._focusInHandler(e),!this._isFocusTarget(e.target))return;const{focusedElement:t}=this.option(),n=u(t);if(n.length)this._shouldSkipSelectOnFocus=!0,this._setFocusedItem(n),this._shouldSkipSelectOnFocus=!1;else{const s=this._getActiveItem();s.length&&this.option("focusedElement",ae(s))}}_focusOutHandler(e){super._focusOutHandler(e);const{focusedElement:t}=this.option(),n=u(t);this._updateFocusedItemState(n,!1)}_findActiveTarget(e){return e.find(this._activeStateUnit())}_getActiveItem(e){const{focusedElement:t}=this.option(),n=u(t);return n.length?n:this._determineFocusedElement(e)}_determineFocusedElement(e){let t=this._getFocusedElementIndex();const n=this._getActiveElement(),s=n.length-1;return t<0&&(t=e?s:0),n.eq(t)}_getFocusedElementIndex(){return 0}_moveFocus(e,t){const n=this._getAvailableItems();let s=u();switch(e){case"pageup":case"up":s=this._prevItem(n);break;case"pagedown":case"down":s=this._nextItem(n);break;case"right":{const{rtlEnabled:o}=this.option();s=o?this._prevItem(n):this._nextItem(n);break}case"left":{const{rtlEnabled:o}=this.option();s=o?this._nextItem(n):this._prevItem(n);break}case"first":s=n.first();break;case"last":s=n.last();break;default:return!1}s.length!==0&&this.option("focusedElement",ae(s))}_getVisibleItems(e){return(e??this._itemElements()).filter(":visible")}_getAvailableItems(e){return this._getVisibleItems(e)}_prevItem(e){const t=this._getActiveItem(),n=e.index(t),s=e.last();let o=u(e[n-1]);const{loopItemFocus:r}=this.option();return o.length===0&&r&&(o=s),o}_nextItem(e){const t=this._getActiveItem(!0),n=e.index(t),s=e.first();let o=u(e[n+1]);const{loopItemFocus:r}=this.option();return o.length===0&&r&&(o=s),o}_selectFocusedItem(e){this.selectItem(e)}_updateFocusedItemState(e,t,n){const s=u(e);if(s.length){this._refreshActiveDescendant(),this._refreshItemId(s,n);const{focusStateEnabled:o}=this.option();o&&this._toggleFocusClass(t,s)}this._updateParentActiveDescendant()}_getElementClassToSkipRefreshId(){return""}_shouldSkipRefreshId(e){const t=this._getElementClassToSkipRefreshId();return u(e).hasClass(t)}_refreshActiveDescendant(e){const{focusedElement:t}=this.option();if(y(t)){const s=this._shouldSkipRefreshId(t)?u(t).attr("id"):this.getFocusedItemId();this.setAria("activedescendant",s,e);return}this.setAria("activedescendant",null,e)}_refreshItemId(e,t){const{focusedElement:n}=this.option();this._shouldSkipRefreshId(e)||(!t&&n?this.setAria("id",this.getFocusedItemId(),e):this.setAria("id",null,e))}_isDisabled(e){return e&&u(e).attr("aria-disabled")==="true"}_setFocusedItem(e){if(!(e!=null&&e.length))return;this._updateFocusedItemState(e,!0),this.onFocusedItemChanged(this.getFocusedItemId());const{selectOnFocus:t}=this.option(),n=this._isDisabled(e);t&&!n&&!this._shouldSkipSelectOnFocus&&this._selectFocusedItem(e)}_findItemElementByItem(e){let t=u();const n=this._itemDataKey();return this.itemElements().each(((s,o)=>{const r=u(o);return r.data(n)===e?(t=r,!1):!0})),t}_getIndexByItem(e){const{items:t}=this.option();return t.indexOf(e)}_itemOptionChanged(e,t,n,s){const o=this._findItemElementByItem(e);if(!o.length)return;this.constructor.ItemClass.getInstance(o).setDataField(t,n)||this._refreshItem(o,e),t==="disabled"&&n&&this._resetItemFocus(o)}_resetItemFocus(e){const{focusedElement:t}=this.option();e.is(t)&&this._resetFocusedElement()}_resetFocusedElement(){this.option("focusedElement",null)}_refreshItem(e,t){const n=this._getItemData(e),s=e.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+s,n,null,e)}_updateParentActiveDescendant(){}_optionChanged(e){const{name:t,value:n,previousValue:s,fullName:o}=e;if(t==="items"){const r=o.match(lI);if(r!=null&&r.length){const a=r[r.length-1],l=o.replace(`.${a}`,""),c=this.option(l);this._itemOptionChanged(c,a,n,s);return}}switch(t){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":case"visibleExpr":case"disabledExpr":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":case"selectOnFocus":case"loopItemFocus":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"focusedElement":this._updateFocusedItemState(s,!1,!0),this._setFocusedItem(u(n));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;default:super._optionChanged(e)}}_invalidate(){this._resetFocusedElement(),super._invalidate()}_loadNextPage(){return this._expectNextPageLoading(),this._dataController.loadNextPage()}_expectNextPageLoading(){this._startIndexForAppendedItems=0}_expectLastItemLoading(){this._startIndexForAppendedItems=-1}_forgetNextPageLoading(){this._startIndexForAppendedItems=null}_dataSourceChangedHandler(e,t){const{items:n}=this.option();this._initialized&&n&&this._shouldAppendItems()?(this._renderedItemsCount=n.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=n.concat(e.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",e.slice())}_refreshContent(){this._prepareContent(),this._renderContent()}_dataSourceLoadErrorHandler(){this._forgetNextPageLoading();const{items:e}=this.option();this.option("items",e)}_shouldAppendItems(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()}_allowDynamicItemsAppend(){return!1}_clean(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()}_cleanItemContainer(){u(this._itemContainer()).empty()}_dispose(){super._dispose(),clearTimeout(this._itemFocusTimeout)}_refresh(){this._cleanRenderedItems(),super._refresh()}_itemContainer(e,t){return this.$element()}_itemClass(){return kr}_itemContentClass(){return`${this._itemClass()}-content`}_itemResponseWaitClass(){return"dx-item-response-wait"}_itemSelector(){return`.${this._itemClass()}`}_itemDataKey(){return"dxItemData"}_itemIndexKey(){return"dxItemIndex"}_itemElements(){return this._itemContainer().find(this._itemSelector())}_initMarkup(){super._initMarkup(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass("dx-collection"),this._prepareContent()}_prepareContent(){Wn((()=>{this._renderContentImpl()}))()}_renderContent(){this._fireContentReadyAction()}_render(){super._render(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()}_getPointerEvent(){return Ae.down}_attachClickEvent(){const e=this._itemSelector(),t=Ae.down,n=Ae.up,s=k(ft,this.NAME),o=k(t,this.NAME),r=k(n,this.NAME),a=new xt((c=>{const{event:d}=c;this._itemPointerHandler(d)})),l=new xt((c=>{const{event:d}=c;this._itemPointerUpHandler(d)}));_.off(this._itemContainer(),s,e),_.off(this._itemContainer(),o,e),_.off(this._itemContainer(),r,e),_.on(this._itemContainer(),s,e,(c=>this._itemClickHandler(c))),_.on(this._itemContainer(),o,e,(c=>{a.execute({element:u(c.target),event:c})})),_.on(this._itemContainer(),r,e,(c=>{l.execute({element:u(c.target),event:c})}))}_itemClickHandler(e,t,n){this._itemDXEventHandler(e,"onItemClick",t,n)}_handleItemFocus(e){if(e.isDefaultPrevented())return;const t=u(e.target),n=t.closest(this._itemElements()),s=this._closestFocusable(t);n.length&&this._isFocusTarget(s?.get(0))&&(this._shouldSkipSelectOnFocus=!0,this.option("focusedElement",ae(n)),this._shouldSkipSelectOnFocus=!1)}_itemPointerHandler(e){const{focusStateEnabled:t}=this.option();t&&(this._itemFocusHandler=()=>{clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=void 0,this._handleItemFocus(e)},this._itemFocusTimeout=setTimeout((()=>{this._forcePointerDownFocus()})))}_itemPointerUpHandler(e){}_closestFocusable(e){if(e.is(Nl))return e;let t=e.parent();for(;t.length&&!D.isDocument(t.get(0))&&!D.isDocumentFragment(t.get(0));){if(t.is(Nl))return t;t=t.parent()}}_forcePointerDownFocus(){this._itemFocusHandler&&this._itemFocusHandler()}_updateFocusState(e,t){super._updateFocusState(e,t),this._forcePointerDownFocus()}_attachHoldEvent(){const e=this._itemContainer(),t=this._itemSelector(),n=k(no.name,this.NAME);_.off(e,n,t),_.on(e,n,t,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))}_getHoldTimeout(){const{itemHoldTimeout:e}=this.option();return e}_shouldFireHoldEvent(){return this.hasActionSubscription("onItemHold")}_itemHoldHandler(e){this._shouldFireHoldEvent()?this._itemDXEventHandler(e,"onItemHold"):e.cancel=!0}_attachContextMenuEvent(){const e=this._itemContainer(),t=this._itemSelector(),n=k(HS,this.NAME);_.off(e,n,t),_.on(e,n,t,this._itemContextMenuHandler.bind(this))}_shouldFireContextMenuEvent(){return this.hasActionSubscription("onItemContextMenu")}_itemContextMenuHandler(e){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(e,"onItemContextMenu"):e.cancel=!0}_renderContentImpl(){const{items:e}=this.option(),t=e??[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)}_renderItems(e){e.length&&S(e,((t,n)=>{this._renderItem(this._renderedItemsCount+t,n)})),this._renderEmptyMessage()}_getItemsContainer(){return this._itemContainer()}_setAttributes(e){const{_itemAttributes:t}=this.option(),n=C({},t),{class:s}=n;if(s){const o=e.get(0).className;n.class=[o,s].join(" ")}e.attr(n)}_renderItem(e,t,n,s){const o=e?.item??e,r=n??this._getItemsContainer(),a=this._renderItemFrame(o,t,r,s);this._setElementData(a,t,o),this._setAttributes(a),this._attachItemClickEvent(t,a);const l=this._getItemContent(a),{itemTemplate:c}=this.option(),d=this._renderItemContent({index:o,itemData:t,container:ae(l),contentClass:this._itemContentClass(),defaultTemplateName:c});return Ie(d).done((h=>{this._postprocessRenderItem({itemElement:a,itemContent:h,itemData:t,itemIndex:o}),this._executeItemRenderAction(e,t,ae(a))})),a}_getItemContent(e){const t=e.find(".dx-item-content-placeholder");return t.removeClass("dx-item-content-placeholder"),t}_attachItemClickEvent(e,t){!e||!En.isClickableItem(e)||_.on(t,ft,(n=>{const s={event:n};this._itemEventHandlerByHandler(t,e.onClick,s)}))}_renderItemContent(e){const t=this._getItemTemplateName(e),n=this._getTemplate(t);this._addItemContentClasses(e);const s=u(this._createItemByTemplate(n,e));return s.hasClass("dx-template-wrapper")?this._renderItemContentByNode(e,s):e.container}_renderItemContentByNode(e,t){return u(e.container).replaceWith(t),e.container=ae(t),this._addItemContentClasses(e),t}_addItemContentClasses(e){const t=[kr+"-content",e.contentClass];u(e.container).addClass(t.join(" "))}_appendItemToContainer(e,t,n){t.appendTo(e)}_renderItemFrame(e,t,n,s){const o=u("<div>");new this.constructor.ItemClass(o,this._itemOptions(),t||{}),s!=null&&s.length?s.replaceWith(o):this._appendItemToContainer.call(this,n,o,e);const{useItemTextAsTitle:r}=this.option();if(r){const a=this._displayGetter?this._displayGetter(t):t;o.attr("title",a)}return o}_itemOptions(){return{watchMethod:()=>this.option("integrationOptions.watchMethod"),owner:this,fieldGetter:e=>{const t=this.option(`${e}Expr`);return et(t)}}}_postprocessRenderItem(e){}_executeItemRenderAction(e,t,n){this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t})}_setElementData(e,t,n){e.addClass([kr,this._itemClass()].join(" ")).data(this._itemDataKey(),t).data(this._itemIndexKey(),n)}_createItemRenderAction(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"}),this._itemRenderAction}_getItemRenderAction(){return this._itemRenderAction??this._createItemRenderAction()}_getItemTemplateName(e){const t=e.itemData,{itemTemplateProperty:n}=this.option(),s=e.templateProperty??n;return(t&&s?t[s]:void 0)||e.defaultTemplateName}_createItemByTemplate(e,t){const{itemData:n,container:s,index:o}=t;return e.render({model:n,container:s,index:o,onRendered:this._onItemTemplateRendered(e,t)})}_onItemTemplateRendered(e,t){return()=>{}}_emptyMessageContainer(){return this._itemContainer()}_renderEmptyMessage(e){const{items:t=[],noDataText:n}=this.option(),s=e??t,o=!n||s?.length||this._dataController.isLoading();if(o&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),!o){this._$noData=this._$noData??u("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer());const{encodeNoDataText:r}=this.option();r?this._$noData.text(n):this._$noData.html(n)}this.$element().toggleClass(aI,!o)}_itemDXEventHandler(e,t,n,s){this._itemEventHandler(e.target,t,I(n,{event:e}),s)}_itemEventHandler(e,t,n,s){const o=this._createActionByOption(t,C({validatingTargetName:"itemElement"},s));return this._itemEventHandlerImpl(e,o,n)}_itemEventHandlerByHandler(e,t,n,s){const o=this._createAction(t,I({validatingTargetName:"itemElement"},s));return this._itemEventHandlerImpl(e,o,n)}_itemEventHandlerImpl(e,t,n){const s=this._closestItemElement(u(e)),o=I({},n);return t(I(n,this._extendActionArgs(s),o))}_extendActionArgs(e){return{itemElement:ae(e),itemIndex:this._itemElements().index(e),itemData:this._getItemData(e)}}_closestItemElement(e){return u(e).closest(this._itemSelector())}_getItemData(e){return u(e).data(this._itemDataKey())}_getSummaryItemsSize(e,t,n){let s=0;return t&&S(t,((o,r)=>{e==="width"?s+=Ue(r,n??!1):e==="height"&&(s+=He(r,n??!1))})),s}getFocusedItemId(){return this._focusedItemId||(this._focusedItemId=`dx-${new $e}`),this._focusedItemId}itemElements(){return this._itemElements()}itemsContainer(){return this._itemContainer()}};gc.ItemClass=En,gc.include(Ym);class cI{constructor(e){this._collectionWidget=e}_getItems(){const{items:e=[]}=this._collectionWidget.option();return e}getIndexByItemData(e){return ee.abstract()}getItemDataByIndex(e){return ee.abstract()}getKeysByItems(e){return ee.abstract()}getItemsByKeys(e,t){return ee.abstract()}itemsGetter(){return ee.abstract()}getKeyByIndex(e){const t=this._denormalizeItemIndex(e);return this.getKeysByItems([this.getItemDataByIndex(t)])[0]}_equalKeys(e,t){return this._collectionWidget._isKeySpecified()?cn(e,t):e===t}beginCache(){this._cache={}}endCache(){this._cache=null}getIndexByKey(e){return ee.abstract()}getNormalizedIndex(e){return this._isNode(e)?this._getNormalizedItemIndex(e):this._isNormalizedItemIndex(e)?e:this._isItemIndex(e)?this._normalizeItemIndex(e):this._normalizeItemIndex(this.getIndexByItemData(e))}getIndex(e){return this._isNode(e)?this._denormalizeItemIndex(this._getNormalizedItemIndex(e)):this._isNormalizedItemIndex(e)?this._denormalizeItemIndex(e):this._isItemIndex(e)?e:this.getIndexByItemData(e)}getItemElement(e){if(this._isNode(e))return u(e);if(this._isNormalizedItemIndex(e))return this._getItemByNormalizedIndex(e);if(this._isItemIndex(e))return this._getItemByNormalizedIndex(this._normalizeItemIndex(e));const t=this._normalizeItemIndex(this.getIndexByItemData(e));return this._getItemByNormalizedIndex(t)}_isNode(e){return D.isNode(e&&Mi(e)?e.get(0):e)}deleteItemAtIndex(e){return ee.abstract()}itemPlacementFunc(e,t){return this._itemsFromSameParent(e,t)&&e<t?"after":"before"}moveItemAtIndexToIndex(e,t){return ee.abstract()}_isNormalizedItemIndex(e){return typeof e=="number"&&Math.round(e)===e}_isItemIndex(e){return ee.abstract()}_getNormalizedItemIndex(e){return ee.abstract()}_normalizeItemIndex(e){return ee.abstract()}_denormalizeItemIndex(e){return ee.abstract()}_getItemByNormalizedIndex(e){return ee.abstract()}_itemsFromSameParent(e,t){return ee.abstract()}}class Xm extends cI{_getPlainItems(){return this._getItems()??[]}getIndexByItemData(e){const t=this._collectionWidget.keyOf.bind(this._collectionWidget);return t?this.getIndexByKey(t(e)):this._getPlainItems().indexOf(e)}getItemDataByIndex(e){return this._getPlainItems()[e]}deleteItemAtIndex(e){this._getPlainItems().splice(e,1)}itemsGetter(){return this._getPlainItems()}getKeysByItems(e){const t=this._collectionWidget.keyOf.bind(this._collectionWidget);let n=e;return t&&(n=e.map((s=>t(s)))),n}getIndexByKey(e){const t=this._cache,n=t?.keys??this.getKeysByItems(this._getPlainItems());if(t&&!t.keys&&(t.keys=n),typeof e=="object"){for(let s=0;s<n.length;s+=1)if(this._equalKeys(e,n[s]))return s}else return n.indexOf(e);return-1}getItemsByKeys(e,t){return(t??e).slice()}moveItemAtIndexToIndex(e,t){const n=this._getPlainItems(),s=n[e];n.splice(e,1),n.splice(t,0,s)}_isItemIndex(e){return this._isNormalizedItemIndex(e)}_getNormalizedItemIndex(e){return this._collectionWidget._itemElements().index(e)}_normalizeItemIndex(e){return e}_denormalizeItemIndex(e){return e}_getItemByNormalizedIndex(e){return e>-1?this._collectionWidget._itemElements().eq(e):null}_itemsFromSameParent(e,t){return!0}}class Zm{constructor(e){this._lastSelectAllPageDeferred=A().reject(),this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(e,t){this.options[e]=t}onSelectionChanging(){const{selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:s,addedItems:o,removedItems:r,onSelectionChanging:a=M}=this.options,l={selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:s,addedItems:o,removedItems:r,cancel:!1};return a(l),l.cancel}_callCallbackIfNotCanceled(e,t){const n=this.onSelectionChanging();Ri(n)?n.then((s=>{s?t():e()})).catch((()=>{e()})):n?t():e()}onSelectionChanged(){const{selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:s,addedItems:o,removedItems:r,onSelectionChanged:a=M}=this.options;this._clearItemKeys(),a({selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:s,addedItems:o,removedItems:r})}equalKeys(e,t){return this.options.equalByReference&&X(e)&&X(t)?e===t:cn(e,t)}getSelectableItems(e){return e.filter((t=>!(t!=null&&t.disabled)))}_clearSelection(e,t,n,s){let o=e||[];return o=Array.isArray(o)?o:[o],this.validate(),this.selectedItemKeys(o,t,n,s)}_removeTemplateProperty(e){return Array.isArray(e)?e.map((t=>this._removeTemplateProperty(t))):(X(e)&&delete e.template,e)}_getQueryParams(){const{sensitivity:e}=this.options;if(e)return{langParams:{collatorOptions:{sensitivity:e}}}}_loadFilteredData(e,t,n,s){const o=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,r=this.options.maxFilterLengthInRequest&&o>this.options.maxFilterLengthInRequest,a=A(),l=this._getQueryParams(),c=C({filter:r?void 0:e,select:r?this.options.dataFields():n||this.options.dataFields()},l);return e&&Array.isArray(e)&&e.length===0?a.resolve([]):this.options.load(c).done((d=>{let h=!Array.isArray(d)&&J(d)?d.data:d;t&&!s?h=h.filter(t):r&&(h=Vi(h).filter(e).toArray()),a.resolve(h)})).fail((d=>{a.reject(d)})),a}updateSelectedItemKeyHash(e){for(let t=0;t<e.length;t+=1){const n=Gn(e[t]);X(n)||(this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[],this.options.keyHashIndices[n].push(t))}}_isAnyItemSelected(e){if(!e.find((t=>this.options.isItemSelected(t))))return!1}_getFullSelectAllState(){const e=this.options.plainItems(),{filter:t}=this.options,n=t();let s=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter((a=>!(a!=null&&a.disabled)));n&&(s=Vi(s).filter(n).toArray());const o=s.length,r=e.length-this.getSelectableItems(e).length;if(!o)return this._isAnyItemSelected(e);if(o>=this.options.totalCount()-r)return!0}_getVisibleSelectAllState(){const e=this.getSelectableItems(this.options.plainItems());let t=!1,n=!1;return e.forEach((s=>{const o=this.options.getItemData(s),r=this.options.keyOf(o);this.options.isSelectableItem(s)&&(this.isItemKeySelected(r)?t=!0:n=!0)})),t?n?void 0:!0:!1}selectedItemKeys(e,t,n,s,o,r){throw new Error("selectedItemKeys method should be overriden")}isItemKeySelected(e){throw new Error("isItemKeySelected method should be overriden")}isItemDataSelected(e){throw new Error("isItemKeySelected method should be overriden")}addSelectedItem(e,t,n){throw new Error("addSelectedItem method should be overriden")}removeSelectedItem(e){throw new Error("removeSelectedItem method should be overriden")}_selectAllPlainItems(e){this.getSelectableItems(this.options.plainItems()).forEach((n=>{if(this.options.isSelectableItem(n)){const s=this.options.getItemData(n),o=this.options.keyOf(s),r=this.isItemKeySelected(o);!r&&!e&&this.addSelectedItem(o,s),r&&e&&this.removeSelectedItem(o)}}))}}class dI extends Zm{getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){const e=A(),t=this.options.key(),n=le(t)?[t]:t,s=o=>this.options.keyOf(o);return this._loadFilteredData(this.options.selectionFilter,null,n).done((o=>{const r=(Array.isArray(o)?o:[]).map(s);e.resolve(r)})).fail((o=>{e.reject(o)})),e.promise()}selectedItemKeys(e,t,n,s){if(s){const o=this.options.filter();!o||JSON.stringify(o)===JSON.stringify(this.options.selectionFilter)&&n?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,o,s)}else t||this._setOption("selectionFilter",[]),e.forEach((o=>{n?this.removeSelectedItem(o):this.addSelectedItem(o,s,!t)}));return this.onSelectionChanged(),A().resolve()}setSelectedItems(e){this._setOption("selectionFilter",null),e.forEach((t=>{this.addSelectedItem(t)}))}isItemDataSelected(e){return this.isItemKeySelected(e)}isItemKeySelected(e){const{selectionFilter:t}=this.options;if(!t)return!0;const n=this._getQueryParams();return!!Vi([e],n).filter(t).toArray().length}_getKeyExpr(){const e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e}_normalizeKey(e){const t=this.options.key();return Array.isArray(t)&&t.length===1?e[t[0]]:e}_getFilterByKey(e){const t=this._getKeyExpr();let n=[t,"=",this._normalizeKey(e)];if(Array.isArray(t)){n=[];for(let s=0;s<t.length;s+=1)n.push([t[s],"=",e[t[s]]]),s!==t.length-1&&n.push("and")}return n}addSelectedItem(e,t,n){const s=this._getFilterByKey(e);this._addSelectionFilter(!1,s,t,n)}removeSelectedItem(e){const t=this._getFilterByKey(e);this._addSelectionFilter(!0,t)}validate(){const{key:e}=this.options;if(e&&e()===void 0)throw Ne.Error("E1042","Deferred selection")}_findSubFilter(e,t){if(!e)return-1;const n=JSON.stringify(t);for(let s=0;s<e.length;s+=1){const o=e[s];if(o&&JSON.stringify(o)===n)return s}return-1}_isLastSubFilter(e,t){return e&&t?this._findSubFilter(e,t)===e.length-1||this._findSubFilter([e],t)===0:!1}_addFilterOperator(e,t){let n=e;return n.length>1&&le(n[1])&&n[1]!==t&&(n=[n]),Array.isArray(n)&&n.length&&n.push(t),n}_denormalizeFilter(e){let t=e;return t&&le(t[0])&&(t=[t]),t}_isOnlyNegativeFiltersLeft(e){return e.every(((t,n)=>n%2===0?Array.isArray(t)&&t[0]==="!":t==="and"))}_addSelectionFilter(e,t,n,s){var o;const r=e?"and":"or";let a=!0,l=this.options.selectionFilter||[];if(l=this._denormalizeFilter(l),(o=l)!==null&&o!==void 0&&o.length&&!s){const c=this._removeSameFilter(l,t,e,n),d=this._removeSameFilter(l,t,!e);e&&(c!==-1||d!==-1)&&this._isOnlyNegativeFiltersLeft(l)&&(l=[]);const p=this._isKeyFilter(t)&&this._hasKeyFiltersOnlyStartingFromIndex(l,d);a=!!(t!=null&&t.length)&&!p}if(a&&(l=this._addFilterOperator(l,r),Array.isArray(l)&&t)){const c=e?["!",t]:t;l.push(c)}l=this._normalizeFilter(l),this._setOption("selectionFilter",!e&&!l.length?null:l)}_normalizeFilter(e){let t=e;return t&&t.length===1&&([t]=t),t}_removeFilterByIndex(e,t,n){const s=e[1];t>0?e.splice(t-1,2):e.splice(t,2),n&&s==="and"&&e.splice(0,e.length)}_isSimpleKeyFilter(e,t){return e?.length===3&&e[0]===t&&e[1]==="="}_isKeyFilter(e){if(e?.length===2&&e?.[0]==="!")return this._isKeyFilter(e[1]);const t=this._getKeyExpr();if(Array.isArray(t)){if(e?.length!==2*t.length-1)return!1;for(let n=0;n<t.length;n+=1)if(n>0&&e?.[2*n-1]!=="and"||!this._isSimpleKeyFilter(e?.[2*n],t[n]))return!1;return!0}return this._isSimpleKeyFilter(e,t)}_hasKeyFiltersOnlyStartingFromIndex(e,t){if(t>=0){for(let n=t;n<e.length;n+=1)if(typeof e[n]!="string"&&!this._isKeyFilter(e[n]))return!1;return!0}return!1}_removeSameFilter(e,t,n,s){const o=n?["!",t]:t;if(JSON.stringify(o)===JSON.stringify(e))return e.splice(0,e.length),0;const r=this._findSubFilter(e,o);if(r>=0)return this._removeFilterByIndex(e,r,s),r;for(let a=0;a<e.length;a+=1)if(Array.isArray(e[a])&&e[a].length>2){const l=this._removeSameFilter(e[a],o,!1,s);if(l>=0){if(!e[a].length)this._removeFilterByIndex(e,a,s);else if(e[a].length===1){const[c]=e[a];e[a]=c}return l}}return-1}getSelectAllState(){const e=this.options.filter();let{selectionFilter:t}=this.options;if(!t)return!0;if(!t.length)return!1;if(e!=null&&e.length){if(t=this._denormalizeFilter(t),this._isLastSubFilter(t,e))return!0;if(this._isLastSubFilter(t,["!",e]))return!1}}loadSelectedItemsWithFilter(){const e=this.options.filter(),{selectionFilter:t}=this.options,n=e?[e,"and",t]:t;return this._loadFilteredData(n)}_onePageSelectAll(e){return this._selectAllPlainItems(e),this.onSelectionChanged(),A().resolve()}}const vc=function(i,e){const t=e(i);if(X(t))try{return JSON.stringify(t)}catch{return t}return t},uI=function(i,e,t,n){const s=vc(i,n);return e[t[s]]},hI=function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<e.length;t++)if(i[t]!==e[t])return!1;return!0},Jm=function(i,e){const t={};return i.forEach(((n,s)=>{const o=vc(n,e);if(y(t[String(o)]))throw Ne.Error("E1040",o);t[o]=s})),t},pI=function(i){let{oldItems:e,newItems:t,getKey:n,isItemEquals:s,detectReorders:o=!1}=i;try{const r=Jm(e,n),a=Jm(t,n);let l=0,c=0;const d=[],h=Math.max(e.length,t.length);for(let p=0;p<h+l;p+=1){const m=t[p],g=p-l+c,f=e[g];if(!m||f&&!uI(f,t,a,n))f&&(d.push({type:"remove",key:n(f),index:p,oldItem:f}),c++,p--);else{const b=vc(m,n),w=r[b],T=e[w];if(!T)l++,d.push({type:"insert",data:m,index:p});else if(w===g)s(T,m)||d.push({type:"update",data:m,key:n(m),index:p,oldItem:T});else{if(!o)return;d.push({type:"remove",key:n(T),index:w,oldItem:T}),d.push({type:"insert",data:m,index:p}),l++,c++}}}if(o){const p=d.filter((f=>f.type==="remove")).sort(((f,v)=>v.index-f.index)),m=d.filter((f=>f.type==="insert")).sort(((f,v)=>f.index-v.index)),g=d.filter((f=>f.type==="update"));return[...p,...m,...g]}return d}catch(r){Wo.error(r);return}},Qm=function(i,e){this.getLocalFilter=function(a,l,c,d){return l=l===void 0?cn:l,o.bind(this,l,a,c,d)},this.getExpr=function(a){if(!a)return;let l;return i.forEach((function(c,d){l=l||[];let h;d>0&&l.push(e?"and":"or"),le(a)||L(a)?h=r(a,c):h=(function(p,m){const g=[];for(let f=0,{length:v}=p;f<v;f++){const b=p[f],w=et(b),T=m&&w(m),H=r(b,T);if(!H)break;f>0&&g.push(e?"or":"and"),g.push(H)}return g})(a,c),l.push(h)})),l&&l.length===1&&(l=l[0]),l},this.getCombinedFilter=function(a,l){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const d=this.getExpr(a);let h=d;return(c||e)&&l&&(d?(h=[],h.push(d),h.push(l)):h=l),h};let t;const n=function(a,l){if(!t){t={};const c=s(i,a,l);for(let d=0;d<c.length;d++)t[Gn(c[d])]=!0}return t},s=function(a,l,c){return Array.isArray(c)?a.map((d=>l(d))):a};function o(a,l,c,d,h){const p=l(h);let m,g;if(!c&&(m=Gn(p),!X(m)))return n(l,d)[m]?!e:!!e;for(g=0;g<i.length;g++)if(a(i[g],p))return!e;return!!e}function r(a,l){if(l!==void 0)return[a,e?"<>":"=",l]}};class mI extends Zm{constructor(e){super(e),this._lastSelectAllPageDeferred=A().reject(),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(e,t){const{keyOf:n}=this.options;let s;if(!n)return;const o=t&&e.length>1&&!this.options.equalByReference;o&&(s={}),e.forEach((r=>{const a=n(r);if(t){const l=this.removeSelectedItem(a,s,r&&typeof r=="object"&&"disabled"in r?!!r.disabled:!1);s&&Le(l)&&l>=0&&(s[l]=!0)}else this.addSelectedItem(a,r)})),o&&this._batchRemoveSelectedItems(s)}_batchRemoveSelectedItems(e){const t=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(let s=0;s<t.length;s+=1)e[s]||(this.options.selectedItemKeys.push(t[s]),this.options.selectedItems.push(n[s]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(e,t,n,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,r=A();const a=this.options.key();if(!e.length&&!n)return r.resolve([]),r;if(n&&t&&!s)return r.resolve(this.getSelectedItems()),r;const l=new Qm(e,n),c=l.getCombinedFilter(a,s,o);let d=[];if(t){const{selectedItems:m}=this.options;d=c&&e.length!==m.length?Vi(m).filter(c).toArray():m.slice(0)}let h=d.length?d:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData);const p=l.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,a);return h=h.filter(p),d.length||!n&&h.length===e.length?r.resolve(h):r=this._loadFilteredData(c,p,null,n),r}_replaceSelectionUpdate(e){const{keyOf:t}=this.options;if(!t)return;const n=e.map((s=>t(s)));this.setSelectedItems(n,e)}_warnOnIncorrectKeys(e){const{allowNullValue:t}=this.options;e.forEach((n=>{(!t||n!==null)&&!this.isItemKeySelected(n)&&Ne.log("W1002",n)}))}_isMultiSelectEnabled(){const{mode:e}=this.options;return e==="all"||e==="multiple"}_requestInProgress(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"}_concatRequestsItems(e,t,n,s){let o=[];const r=n?e:[];return s?o=s:o=Cm(e,this.options.selectedItemKeys),{addedItems:t.added.concat(o),removedItems:t.removed.concat(r),keys:e}}_collectLastRequestData(e,t,n,s){const o=t&&n,r={added:[],removed:[]},a=this._isMultiSelectEnabled(),l={addedItems:[],removedItems:[],keys:[]};if(!a)return l;let c=this._lastRequestData??l;if(this._shouldMergeWithLastRequest){if(o){var d;(d=this._lastLoadDeferred)===null||d===void 0||d.reject(),c={}}else if(!hI(e,this.options.selectedItemKeys)){var h,p;if(r.added=(h=c)===null||h===void 0?void 0:h.addedItems,r.removed=(p=c)===null||p===void 0?void 0:p.removedItems,!t){var m;(m=this._lastLoadDeferred)===null||m===void 0||m.reject()}}}return c=this._concatRequestsItems(e,r,t,this._shouldMergeWithLastRequest?void 0:s),c}_updateKeysByLastRequestData(e,t,n){let s=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&this._lastRequestData&&!t&&!n){var o;s=Cm([...e,...this._lastRequestData.addedItems],(o=this._lastRequestData)===null||o===void 0?void 0:o.removedItems),s=eE(s)}return s}_loadSelectedItems(e,t,n,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const r=A(),a=this.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,t,n,s),Ie(this._lastLoadDeferred).always((()=>{const l=this._updateKeysByLastRequestData(e,t,n);this._shouldMergeWithLastRequest=!1,this._loadSelectedItemsCore(l,t,n,a,o).done((c=>{r.resolve(c)})).fail((c=>{r.reject(c)}))})),this._lastLoadDeferred=r,r}selectedItemKeys(e,t,n,s,o,r){if(this._isCancelingInProgress)return A().reject();const a=this._loadSelectedItems(e,n,s,o,r),l=A();return a.done((c=>{this._storeSelectionState(),t?this._preserveSelectionUpdate(c,n):this._replaceSelectionUpdate(c),this._isCancelingInProgress=!0,this._callCallbackIfNotCanceled((()=>{this._isCancelingInProgress=!1,this.onSelectionChanged(),l.resolve(c)}),(()=>{this._isCancelingInProgress=!1,this._restoreSelectionState(),l.reject()}))})),l}addSelectedItem(e,t){if(y(t)&&!this.options.ignoreDisabledItems&&t.disabled){this.options.disabledItemKeys.includes(e)||this.options.disabledItemKeys.push(e);return}const n=this._getKeyHash(e);this._indexOfSelectedItemKey(n)===-1&&(!X(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(t),this.options.selectedItems.push(t))}_getSelectedIndexByKey(e,t){const{selectedItemKeys:n}=this.options;return n.findIndex(((s,o)=>!(t!=null&&t[o])&&this.equalKeys(n[o],e)))}_getSelectedIndexByHash(e,t){let n=this.options.keyHashIndices[e];return n&&n.length>1&&t&&(n=n.filter((s=>!t[s]))),n&&n[0]>=0?n[0]:-1}_indexOfSelectedItemKey(e,t){let n=-1;return this.options.equalByReference?n=this.options.selectedItemKeys.indexOf(e):X(e)?n=this._getSelectedIndexByKey(e,t):n=this._getSelectedIndexByHash(e,t),n}_shiftSelectedKeyIndices(e){for(let t=e;t<this.options.selectedItemKeys.length;t+=1){const n=this.options.selectedItemKeys[t],s=Gn(n),o=this.options.keyHashIndices[s];if(o)for(let r=0;r<o.length;r+=1)o[r]>e&&(o[r]-=1)}}removeSelectedItem(e,t,n){if(!this.options.ignoreDisabledItems&&n)return;const s=this._getKeyHash(e),o=!!t,r=this._indexOfSelectedItemKey(s,t);if(r<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[r]),o)||(this.options.selectedItemKeys.splice(r,1),this.options.selectedItems.splice(r,1),X(s)||!this.options.keyHashIndices))return r;const a=this.options.keyHashIndices[s];return a&&(a.shift(),a.length||delete this.options.keyHashIndices[s],this._shiftSelectedKeyIndices(r)),r}_updateAddedItemKeys(e,t){for(let n=0;n<e.length;n+=1)this.isItemKeySelected(e[n])||(this.options.addedItemKeys.push(e[n]),this.options.addedItems.push(t[n]))}_updateRemovedItemKeys(e,t,n){for(let s=0;s<t.length;s+=1)this.isItemKeySelected(t[s])||(this.options.removedItemKeys.push(t[s]),this.options.removedItems.push(n[s]))}_isItemSelectionInProgress(e,t){if(t&&this._lastRequestData&&this._requestInProgress()){var s;return(((s=this._lastRequestData)===null||s===void 0?void 0:s.addedItems)??[]).includes(e)}return!1}_getKeyHash(e){return this.options.equalByReference?e:Gn(e)}setSelectedItems(e,t){this._updateAddedItemKeys(e,t);const n=this.options.selectedItemKeys,s=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,n,s)}isItemDataSelected(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.options.keyOf(e);return this.isItemKeySelected(n,t)}isItemKeySelected(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this._isItemSelectionInProgress(e,t.checkPending);if(!n){const s=this._getKeyHash(e);n=this._indexOfSelectedItemKey(s)!==-1}return n}getSelectAllState(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){const e=this.options.key(),t=this.getSelectedItemKeys(),n=this.options.filter();if(!t.length)return A().resolve([]);const o=new Qm(t).getCombinedFilter(e,n,!0);return this._loadFilteredData(o)}_storeSelectionState(){const{selectedItems:e,selectedItemKeys:t,keyHashIndices:n}=this.options;this._storedSelectionState={keyHashIndices:JSON.stringify(n),selectedItems:[...e],selectedItemKeys:[...t]}}_restoreSelectionState(){if(this._clearItemKeys(),!this._storedSelectionState)return;const{selectedItemKeys:e,selectedItems:t,keyHashIndices:n}=this._storedSelectionState;this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._setOption("keyHashIndices",JSON.parse(n))}_onePageSelectAll(e){return this._lastSelectAllPageDeferred.state()==="pending"?A().reject():(this._storeSelectionState(),this._selectAllPlainItems(e),this._lastSelectAllPageDeferred=A(),this._callCallbackIfNotCanceled((()=>{this.onSelectionChanged(),this._lastSelectAllPageDeferred.resolve()}),(()=>{this._restoreSelectionState(),this._lastSelectAllPageDeferred.reject()})),this._lastSelectAllPageDeferred)}}class fI{constructor(e){this.options=I(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys??[]}),this._selectionStrategy=this.options.deferred?new dI(this.options):new mI(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:M,key(){},keyOf:t=>t,load:()=>A().resolve([]),totalCount:()=>-1,isSelectableItem:()=>!0,isItemSelected:()=>!1,getItemData:t=>t,dataFields(){},filter(){}}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}_isStandardStrategy(e){return this.options.deferred}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(e){if(e===void 0)return this.options.selectionFilter;const t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()}setSelection(e,t){return this.selectedItemKeys(e,!1,!1,!1,t)}select(e){return this.selectedItemKeys(e,!0)}deselect(e){return this.selectedItemKeys(e,!0,!0)}selectedItemKeys(e,t,n,s,o){let r=e??[];return r=Array.isArray(r)?r:[r],this.validate(),this._selectionStrategy.selectedItemKeys(r,t,n,s,o)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(e,t){this._selectionStrategy.addSelectedItem(t,e)}_removeSelectedItem(e){this._selectionStrategy.removeSelectedItem(e)}_setSelectedItems(e,t){this._selectionStrategy.setSelectedItems(e,t)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(e){var t,n;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,r=!1;const a=this.options.plainItems(),l=a[e];let c=e,d;const{isVirtualPaging:h}=this.options,p=(t=(n=this.options).allowLoadByRange)===null||t===void 0?void 0:t.call(n),{alwaysSelectByShift:m}=this.options;let g,f=!1,v=!1;const b=N=>N>=0&&!a.filter((Y=>Y.loadIndex===N)).length;if(h&&y(l)&&(p&&(g=l.loadIndex-c,c=l.loadIndex),f=b(this._focusedItemIndex),y(this._shiftFocusedItemIndex)&&(v=b(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(l))return!1;const w=this.options.getItemData(l),T=this.options.keyOf(w);let H=s.shift;if(m===!1&&H&&(H=p!==!1||!f&&!v),H&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)p&&(f||v)?(r=c!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,r&&(d=this.changeItemSelectionWhenShiftKeyInVirtualPaging(c))):r=this.changeItemSelectionWhenShiftKeyPressed(c,a,g);else if(s.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!o){const N=this._selectionStrategy.isItemDataSelected(w);this.options.mode==="single"&&this.clearSelectedItems(),N?this._removeSelectedItem(T):this._addSelectedItem(w,T)}r=!0}else{this._resetItemSelectionWhenShiftKeyPressed();const N=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],T);(this.options.selectedItemKeys.length!==1||!N)&&(this._setSelectedItems([T],[w]),r=!0)}if(r)return Ie(d).done((()=>{this._focusedItemIndex=c,o||this.onSelectionChanged()})),!0}isDataItem(e){return this.options.isSelectableItem(e)}isSelectable(){return this.options.mode==="single"||this.options.mode==="multiple"}isItemDataSelected(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})}isItemSelected(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._selectionStrategy.isItemKeySelected(e,t)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(e){var t,n;const s=((t=(n=this.options).getLoadOptions)===null||t===void 0?void 0:t.call(n,e,this._focusedItemIndex,this._shiftFocusedItemIndex))??{},o=A(),r=s.skip;return this.options.load(s).done((a=>{const l=!Array.isArray(a)&&J(a)?a.data:a;this.changeItemSelectionWhenShiftKeyPressed(e,l,r),o.resolve()})),o.promise()}changeItemSelectionWhenShiftKeyPressed(e,t,n){let s=!1;const o=y(n);let r=o?this._focusedItemIndex-n:this._focusedItemIndex;const{keyOf:a}=this.options,l=t[r],c=this.options.getItemData(l),d=a(c),h=l&&this.isItemDataSelected(c);y(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);let p=0,m,g=0,f=0;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(p=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,g=o?this._focusedItemIndex-n:this._focusedItemIndex,f=o?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,r=g;r!==f;r+=p)(o||this.isDataItem(t[r]))&&(m=a(this.options.getItemData(t[r])),this._removeSelectedItem(m),s=!0);if(e!==this._shiftFocusedItemIndex){for(p=e<this._shiftFocusedItemIndex?1:-1,g=o?e-n:e,f=o?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,r=g;r!==f;r+=p)if(o||this.isDataItem(t[r])){const v=this.options.getItemData(t[r]);m=a(v),this._addSelectedItem(v,m),s=!0}}return(o||this.isDataItem(l))&&!h&&(this._addSelectedItem(c,d),s=!0),s}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(e){return this._resetFocusedItemIndex(),e?this._selectionStrategy._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(e){return this._resetFocusedItemIndex(),e?this._selectionStrategy._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}getSelectAllState(e){return this._selectionStrategy.getSelectAllState(e)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}}const Ci=-1,Ft=i=>i!==Ci;class Ni extends gc{constructor(e,t){Ni._userOptions=t??{},super(e,t)}_setOptionsByReference(){super._setOptionsByReference(),this._optionsByReference.selectedItem=!0}_getDefaultOptions(){return C({},super._getDefaultOptions(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:Ci,focusOnSelectedItem:!0,selectedItem:null,onSelectionChanging:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})}_init(){this._initEditStrategy(),super._init(),this._initKeyGetter(),this._initActions(),this._initSelectionModule()}_initKeyGetter(){const{keyExpr:e}=this.option();this._keyGetter=et(e)}_selectedItemClass(){return"dx-item-selected"}_getActionsList(){return["onSelectionChanging","onSelectionChanged"]}_initActions(){this._actions={},this._getActionsList().forEach((t=>{this._actions[t]=this._createActionByOption(t,{excludeValidators:["disabled","readOnly"]})??M}))}_getKeysByItems(e){return this._editStrategy.getKeysByItems(e)}_getItemsByKeys(e,t){return this._editStrategy.getItemsByKeys(e,t)}_getKeyByIndex(e){return this._editStrategy.getKeyByIndex(e)}_getIndexByKey(e){return this._editStrategy.getIndexByKey(e)}_getIndexByItemData(e){return this._editStrategy.getIndexByItemData(e)}_isKeySpecified(){return!!this._dataController.key()}_getCombinedFilter(){return this._dataController.filter()}key(){const{keyExpr:e}=this.option();return e||this._dataController.key()}keyOf(e){const{keyExpr:t}=this.option();return t?this._keyGetter(e):this._dataController.store()?this._dataController.keyOf(e):e}_nullValueSelectionSupported(){return!1}_initSelectionModule(){const e=this,{itemsGetter:t}=this._editStrategy,{selectionMode:n,maxFilterLengthInRequest:s}=this.option();this._selection=new fI({allowNullValue:this._nullValueSelectionSupported(),mode:n,maxFilterLengthInRequest:s,equalByReference:!this._isKeySpecified(),onSelectionChanging:o=>{var r,a;const l=o.addedItemKeys.length||o.removedItemKeys.length;if(!this._rendered||!l)return;const c={removedItems:o.removedItems,addedItems:o.addedItems,cancel:!1};(r=(a=this._actions).onSelectionChanging)===null||r===void 0||r.call(a,c),o.cancel=c.cancel},onSelectionChanged:o=>{(o.addedItemKeys.length||o.removedItemKeys.length)&&(this.option("selectedItems",this._getItemsByKeys(o.selectedItemKeys,o.selectedItems)),this._updateSelectedItems(o))},filter:this._getCombinedFilter.bind(this),totalCount:()=>{const{items:o=[]}=this.option(),r=this._dataController.totalCount();return r>=0?r:this._getItemsCount(o)},key:this.key.bind(this),keyOf:this.keyOf.bind(this),load(o){var r;const a=e._dataController;return o.customQueryParams=(r=a.loadOptions())===null||r===void 0?void 0:r.customQueryParams,o.userData=a.userData(),a.store()?a.loadFromStore(o).done((l=>{if(e._disposed)return;const c=zh(l).data;a.applyMapFunction(c)})):A().resolve(this.plainItems())},dataFields:()=>this._dataController.select(),plainItems:t.bind(this._editStrategy)})}_getItemsCount(e){return e.reduce(((t,n)=>{const s=n.items?this._getItemsCount(n.items):1;return t+s}),0)}_initEditStrategy(){this._editStrategy=new Xm(this)}_getSelectedItemIndices(e){const t=[],n=e??this._selection.getSelectedItemKeys();return this._editStrategy.beginCache(),S(n,((s,o)=>{const r=this._getIndexByKey(o);Ft(r)&&t.push(r)})),this._editStrategy.endCache(),t}_initMarkup(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done((()=>{this._normalizeSelectedItems()})),super._initMarkup()}_render(){super._render(),this._rendering=!1}_fireContentReadyAction(){this._rendering=!1,this._rendered=!0,super._fireContentReadyAction()}_syncSelectionOptions(e){switch(e??this._chooseSelectOption()){case"selectedIndex":{const{selectedIndex:n}=this.option(),s=this._editStrategy.getItemDataByIndex(n??Ci);y(s)?(this._setOptionWithoutOptionChange("selectedItems",[s]),this._setOptionWithoutOptionChange("selectedItem",s),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([s]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break}case"selectedItems":{const{selectedItems:n=[],selectionRequired:s}=this.option(),o=n.length?this._editStrategy.getIndexByItemData(n[0]):Ci;if(s&&!Ft(o))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",n[0]),this._setOptionWithoutOptionChange("selectedIndex",o),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(n));break}case"selectedItem":{const{selectedItem:n,selectionRequired:s}=this.option(),o=this._editStrategy.getIndexByItemData(n);if(s&&!Ft(o))return this._syncSelectionOptions("selectedIndex");y(n)?(this._setOptionWithoutOptionChange("selectedItems",[n]),this._setOptionWithoutOptionChange("selectedIndex",o),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([n]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",Ci));break}case"selectedItemKeys":{const{selectedItemKeys:n=[],selectionRequired:s}=this.option();if(s){const o=this._getIndexByKey(n[0]);if(!Ft(o))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}}return A().resolve()}_chooseSelectOption(){let e="selectedIndex";const t=n=>{const{[n]:s}=this.option();return!!(y(s)&&Array.isArray(s)&&s.length)||n in Ni._userOptions};return t("selectedItems")?e="selectedItems":t("selectedItem")?e="selectedItem":t("selectedItemKeys")&&(e="selectedItemKeys"),e}_compareKeys(e,t){if(e.length!==t.length)return!1;for(let n=0;n<t.length;n+=1)if(e[n]!==t[n])return!1;return!0}_normalizeSelectedItems(){const{selectionMode:e,selectedItems:t=[],items:n}=this.option();if(e==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(e==="single"){const s=t??[],{selectionRequired:o}=this.option();if(s.length>1||!s.length&&o&&n!==null&&n!==void 0&&n.length){const r=this._selection.getSelectedItems();let a=s[0]??r[0];a===void 0&&(a=this._editStrategy.itemsGetter()[0]);const{grouped:l}=this.option();return l&&(d=>X(d)&&"items"in d&&Array.isArray(d.items))(a)&&(a.items=[a.items[0]]),this._selection.setSelection(this._getKeysByItems([a])),this._setOptionWithoutOptionChange("selectedItems",[a]),this._syncSelectionOptions("selectedItems")}this._selection.setSelection(this._getKeysByItems(s))}else{const s=this._getKeysByItems(t),o=this._selection.getSelectedItemKeys();this._compareKeys(o,s)||this._selection.setSelection(s)}return A().resolve()}_itemClickHandler(e,t,n){let s=A().resolve();this._createAction((o=>{s=this._itemSelectHandler(o.event)??s}),{validatingTargetName:"itemElement"})({itemElement:u(e.currentTarget),event:e}),s.always((()=>{super._itemClickHandler(e,t,n)}))}_itemSelectHandler(e,t){const{selectByClick:n}=this.option();if(!t&&!n)return;const s=e.currentTarget;if(this.isItemSelected(s))this.unselectItem(e.currentTarget);else{const o=this.selectItem(e.currentTarget);return o?.promise()}}_selectedItemElement(e){return this._itemElements().eq(e)}_postprocessRenderItem(e){const{selectionMode:t}=this.option();if(t!=="none"){const n=u(e.itemElement),s=this._editStrategy.getNormalizedIndex(n.get(0)),o=this._isItemSelected(s);this._processSelectableItem(n,o)}}_processSelectableItem(e,t){e.toggleClass(this._selectedItemClass(),t),this._setAriaSelectionAttribute(e,String(t))}_updateSelectedItems(e){const{addedItemKeys:t,removedItemKeys:n}=e;if(this._rendered&&(t.length||n.length)){if(!this._rendering){const s=[],o=[];this._editStrategy.beginCache();for(let r=0;r<t.length;r+=1){const a=this._getIndexByKey(t[r]);s.push(a),this._addSelection(a)}for(let r=0;r<n.length;r+=1){const a=this._getIndexByKey(n[r]);o.push(a),this._removeSelection(a)}this._editStrategy.endCache(),this._updateSelection(s,o)}this._actions.onSelectionChanged({addedItems:e.addedItems,removedItems:e.removedItems})}}_updateSelection(e,t){}_setAriaSelectionAttribute(e,t){this.setAria("selected",t,e)}_getFocusedElementIndex(){const{focusOnSelectedItem:e}=this.option();return e?this._getFlatIndex():super._getFocusedElementIndex()}_getFlatIndex(){const{selectedIndex:e=Ci}=this.option();return e}_removeSelection(e){const t=this._editStrategy.getItemElement(e);Ft(e)&&(this._processSelectableItem(t,!1),_.triggerHandler(t,"stateChanged",!1))}_addSelection(e){const t=this._editStrategy.getItemElement(e);Ft(e)&&(this._processSelectableItem(t,!0),_.triggerHandler(t,"stateChanged",!0))}_isItemSelected(e){const t=this._getKeyByIndex(e);return this._selection.isItemSelected(t,{checkPending:!0})}_optionChanged(e){switch(e.name){case"selectionMode":this._invalidate();break;case"dataSource":(!e.value||Array.isArray(e.value)&&!e.value.length)&&this.option("selectedItemKeys",[]),super._optionChanged(e);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(e.name).done((()=>{this._normalizeSelectedItems()}));break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"onSelectionChanging":case"onSelectionChanged":this._initActions();break;case"selectByClick":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":case"focusOnSelectedItem":break;default:super._optionChanged(e)}}_clearSelectedItems(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")}_waitDeletingPrepare(e){if(e.data("dxItemDeleting"))return A().resolve().promise();e.data("dxItemDeleting",!0);const t=A(),n={cancel:!1},s=this._itemEventHandler(e,"onItemDeleting",n,{excludeValidators:["disabled","readOnly"]});return Ie(s).always((function(o){const r=!s,a=!r&&s.state()==="resolved",l=!!arguments.length,p=r||a&&!l||a&&o;Ie(Qt(n.cancel)).always((()=>{e.data("dxItemDeleting",!1)})).done((m=>{p&&!m?t.resolve():t.reject()})).fail(t.reject)})),t.promise()}_deleteItemFromDS(e){const t=this._dataController,n=A(),{disabled:s}=this.option(),o=t.store();if(!o)return A().resolve().promise();if(!o.remove)throw Ne.Error("E1011");return this.option("disabled",!0),o.remove(t.keyOf(this._getItemData(e))).done((r=>{r!==void 0?n.resolve():n.reject()})).fail((()=>{n.reject()})),n.always((()=>{this.option("disabled",s)})),n}_tryRefreshLastPage(){const e=A(),{grouped:t}=this.option();return this._isLastPage()||t?e.resolve():this._refreshLastPage().done((()=>{e.resolve()})),e.promise()}_refreshLastPage(){return this._expectLastItemLoading(),this._dataController.load()}_updateSelectionAfterDelete(e){const t=this._getKeyByIndex(e);this._selection.deselect([t])}_updateIndicesAfterIndex(e){const t=this._itemElements();for(let n=e+1;n<t.length;n+=1)u(t[n]).data(this._itemIndexKey(),n-1)}_simulateOptionChange(e){var t;const n=this.option(e);n instanceof or||(t=this._optionChangedAction)===null||t===void 0||t.call(this,{name:e,fullName:e,value:n})}isItemSelected(e){return this._isItemSelected(this._editStrategy.getNormalizedIndex(e))}selectItem(e){const{selectionMode:t}=this.option();if(t==="none")return A().resolve();const n=this._editStrategy.getNormalizedIndex(e);if(!Ft(n))return A().resolve();const s=this._getKeyByIndex(n);if(this._selection.isItemSelected(s))return A().resolve();if(t==="single")return this._selection.setSelection([s]);const{selectedItemKeys:o}=this.option();return this._selection.setSelection([...o??[],s],[s])}unselectItem(e){const t=this._editStrategy.getNormalizedIndex(e);if(!Ft(t))return;const n=this._selection.getSelectedItemKeys(),{selectionRequired:s}=this.option();if(s&&n.length<=1)return;const o=this._getKeyByIndex(t);this._selection.isItemSelected(o,{checkPending:!0})&&this._selection.deselect([o])}_deleteItemElementByIndex(e){this._updateSelectionAfterDelete(e),this._updateIndicesAfterIndex(e),this._editStrategy.deleteItemAtIndex(e)}_afterItemElementDeleted(e,t){const n=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(n),this._itemEventHandler(e,"onItemDeleted",t,{beforeExecute(){e.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()}deleteItem(e){const t=A(),n=this._editStrategy.getItemElement(e),s=this._editStrategy.getNormalizedIndex(e),o=this._itemResponseWaitClass();return Ft(s)?this._waitDeletingPrepare(n).done((()=>{n.addClass(o);const r=this._extendActionArgs(n);this._deleteItemFromDS(n).done((()=>{this._deleteItemElementByIndex(s),this._afterItemElementDeleted(n,r),this._tryRefreshLastPage().done((()=>{t.resolveWith(this)}))})).fail((()=>{n.removeClass(o),t.rejectWith(this)}))})).fail((()=>{t.rejectWith(this)})):t.rejectWith(this),t.promise()}reorderItem(e,t){const n=A(),s=this._editStrategy,o=s.getItemElement(e),r=s.getItemElement(t),a=s.getNormalizedIndex(e),l=s.getNormalizedIndex(t),c=this._dataController.getDataSource()?"dataSource":"items";return Ft(a)&&Ft(l)&&a!==l?n.resolveWith(this):n.rejectWith(this),n.promise().done((()=>{r[s.itemPlacementFunc(a,l)](o),s.moveItemAtIndexToIndex(a,l),this._updateIndicesAfterIndex(a),this.option("selectedItems",this._getItemsByKeys(this._selection.getSelectedItemKeys(),this._selection.getSelectedItems())),c==="items"&&this._simulateOptionChange(c),this._itemEventHandler(o,"onItemReordered",{fromIndex:s.getIndex(a),toIndex:s.getIndex(l)},{excludeValidators:["disabled","readOnly"]})}))}}Ni._userOptions={};function _I(i){return vn(i)*Math.round(Math.abs(i))}function gI(i,e){const t=Math.pow(10,e),n=_p(i,e);return _I(n)/t}function ef(i,e){const t=e||0;return(t>0?gI(...arguments):i).toFixed(t)}const vI={thousandsSeparator:",",decimalSeparator:"."};function xI(i){return i.split(",").slice(1).map((function(e){let t=0;return e.split("").filter((function(n,s){t+=n==="'";const o=n==="#"||n==="0",r=t%2;return o&&!r})).length}))}function yI(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:";",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"'";const n=[];let s="",o="searchingSeparator";for(let r=0;r<i.length;r++){const a=i[r];o==="searchingSeparator"&&a===t?o="skippingSeparationInsideEscaping":o==="skippingSeparationInsideEscaping"&&a===t?o="searchingSeparator":o==="searchingSeparator"&&a===e&&(o="separating",n.push(s),s=""),o!=="separating"?s+=a:o="searchingSeparator"}return n.push(s),n}function CI(i){const e=yI(i);return e.length===1&&e.push("-"+e[0]),e}function xc(i){return i.toString().split("").reverse().join("")}function bI(i){return i.indexOf("%")!==-1&&!i.match(/'[^']*%[^']*'/g)}function tf(i){return i.replace(/'[^']*'/g,"")}function nf(i){if(!i)return 0;const e=tf(i);return e.length-e.replace(/[#]/g,"").length}function sf(i){if(!i)return 0;const e=tf(i);return e.length-e.replace(/[0]/g,"").length}function of(i,e,t){if(!i)return"";for(i.length>t&&(i=i.substr(0,t));i.length>e&&i.slice(-1)==="0";)i=i.substr(0,i.length-1);for(;i.length<e;)i+="0";return i}function SI(i,e,t){if(!e.length)return i;const n=[];let s=0;for(;i;){const o=e[s];if(!o)break;n.push(i.slice(0,o)),i=i.slice(o),s<e.length-1&&s++}return n.join(t)}function rf(i,e){return i.split("'").map((function(t,n){const s=n%2;return!t&&s?"'":s?t:t.replace(/[,#0]+/,e)})).join("")}function EI(i){let e=!1;for(let t=0;t<i.length;t++)if(i[t]==="'"&&(e=!e),i[t]==="."&&!e)return t;return i.length}function II(i,e){return e=e||vI,function(t){if(typeof t!="number"||isNaN(t))return"";const n=CI(i),s=1/t===1/0,o=t>0||s,r=n[o?0:1],a=EI(r),l=[r.substr(0,a),r.substr(a+1)],c=sf(l[1]),d=c+nf(l[1]);bI(r)&&(t=_p(t,2)),o||(t=-t);const h=sf(l[0]),p=nf(l[0])||e.unlimitedIntegerDigits?void 0:h,m=Math.floor(t).toString().length,g=at(d,0,15-m),f=xI(l[0]).reverse(),v=ef(t,g<0?0:g).split(".");let b=of(xc(v[0]),h,p);const w=of(v[1],c,d);b=SI(b,f,e.thousandsSeparator);const T=xc(rf(xc(l[0]),b)),H=d?rf(l[1],w):"";return T+(H.match(/\d/)?e.decimalSeparator:"")+H}}function co(i,e,t){const n=(e?.01:1)*parseFloat(i)||0;return t?-n:n}function af(i,e,t,n){let s=i,o,r,a;do a&&(o=r.length===a.length?"0":"1",i=n?o+i:i+o),r=a||e(co(s,t)),s=n?"1"+s:s+"1",a=e(co(s,t));while(r!==a&&(n?r.length===a.length:r.length<=a.length));if(n&&a.length>r.length){const l=e(12345).indexOf("12345")===-1;do i="1"+i;while(l&&co(i,t)<1e5)}return i}function lf(i,e,t,n){let s=e(co(i,t,n));const o=i.split("."),r=o[0]+".3"+o[1].slice(1),a=co(r,t,n),l=e(a).indexOf("3")-1;return s=s.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(s=s.slice(0,l)+"."+s.slice(l+1)),s=s.replace(/1+/,"1").replace(/1/g,"#"),t||(s=s.replace(/%/g,"'%'")),s}function wI(i){let e=".";const t=i(1).indexOf("100")>=0;e=af(e,i,t,!0),e=af(e,i,t,!1);const n=lf(e,i,t,!1),s=lf(e,i,t,!0);return s==="-"+n?n:n+";"+s}const DI={_formatNumberCore:function(i,e,t){if(e==="currency"){t.precision=t.precision||0;let n=this.format(i,I({},t,{type:"fixedpoint"}));const s=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return n=n.replace(/^(\D*)(\d.*)/,"$1"+s+"$2"),n}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}},TI=(i,e)=>{if(!e)return;let t=i;if(typeof i=="string"){t="";for(let o=0;o<i.length;o++)i[o]!=="$"&&(t+="\\"),t+=i[o]}const n={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\¤":t},s=e.split(";");for(let o=0;o<s.length;o++)for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[o]=s[o].replace(new RegExp(r,"g"),n[r]));return s.length===2?s[0]+"_);"+s[1]:s[0]},AI={af:"¤#,##0.00;(¤#,##0.00)","af-NA":"¤#,##0.00;(¤#,##0.00)",agq:"#,##0.00¤",ak:"¤#,##0.00",am:"¤#,##0.00;(¤#,##0.00)",ar:"¤#,##0.00;(¤#,##0.00)","ar-AE":"¤#,##0.00;(¤#,##0.00)","ar-BH":"¤#,##0.00;(¤#,##0.00)","ar-DJ":"¤#,##0.00;(¤#,##0.00)","ar-DZ":"¤#,##0.00;(¤#,##0.00)","ar-EG":"¤#,##0.00;(¤#,##0.00)","ar-EH":"¤#,##0.00;(¤#,##0.00)","ar-ER":"¤#,##0.00;(¤#,##0.00)","ar-IL":"¤#,##0.00;(¤#,##0.00)","ar-IQ":"¤#,##0.00;(¤#,##0.00)","ar-JO":"¤#,##0.00;(¤#,##0.00)","ar-KM":"¤#,##0.00;(¤#,##0.00)","ar-KW":"¤#,##0.00;(¤#,##0.00)","ar-LB":"¤#,##0.00;(¤#,##0.00)","ar-LY":"¤#,##0.00;(¤#,##0.00)","ar-MA":"¤#,##0.00;(¤#,##0.00)","ar-MR":"¤#,##0.00;(¤#,##0.00)","ar-OM":"¤#,##0.00;(¤#,##0.00)","ar-PS":"¤#,##0.00;(¤#,##0.00)","ar-QA":"¤#,##0.00;(¤#,##0.00)","ar-SA":"¤#,##0.00;(¤#,##0.00)","ar-SD":"¤#,##0.00;(¤#,##0.00)","ar-SO":"¤#,##0.00;(¤#,##0.00)","ar-SS":"¤#,##0.00;(¤#,##0.00)","ar-SY":"¤#,##0.00;(¤#,##0.00)","ar-TD":"¤#,##0.00;(¤#,##0.00)","ar-TN":"¤#,##0.00;(¤#,##0.00)","ar-YE":"¤#,##0.00;(¤#,##0.00)",as:"¤ #,##,##0.00",asa:"#,##0.00 ¤",ast:"#,##0.00 ¤",az:"#,##0.00 ¤","az-Cyrl":"#,##0.00 ¤","az-Latn":"#,##0.00 ¤",bas:"#,##0.00 ¤",be:"#,##0.00 ¤","be-tarask":"#,##0.00 ¤",bem:"¤#,##0.00;(¤#,##0.00)",bez:"#,##0.00¤",bg:"0.00 ¤;(0.00 ¤)",bm:"¤#,##0.00;(¤#,##0.00)",bn:"#,##,##0.00¤;(#,##,##0.00¤)","bn-IN":"#,##,##0.00¤;(#,##,##0.00¤)",bo:"¤ #,##0.00","bo-IN":"¤ #,##0.00",br:"#,##0.00 ¤",brx:"¤ #,##,##0.00",bs:"#,##0.00 ¤","bs-Cyrl":"#,##0.00 ¤","bs-Latn":"#,##0.00 ¤",ca:"#,##0.00 ¤;(#,##0.00 ¤)","ca-AD":"#,##0.00 ¤;(#,##0.00 ¤)","ca-ES-valencia":"#,##0.00 ¤;(#,##0.00 ¤)","ca-FR":"#,##0.00 ¤;(#,##0.00 ¤)","ca-IT":"#,##0.00 ¤;(#,##0.00 ¤)",ccp:"#,##,##0.00¤;(#,##,##0.00¤)","ccp-IN":"#,##,##0.00¤;(#,##,##0.00¤)",ce:"#,##0.00 ¤",ceb:"¤#,##0.00;(¤#,##0.00)",cgg:"¤#,##0.00",chr:"¤#,##0.00;(¤#,##0.00)",ckb:"¤ #,##0.00","ckb-IR":"¤ #,##0.00",cs:"#,##0.00 ¤",cy:"¤#,##0.00;(¤#,##0.00)",da:"#,##0.00 ¤","da-GL":"#,##0.00 ¤",dav:"¤#,##0.00;(¤#,##0.00)",de:"#,##0.00 ¤","de-AT":"#,##0.00 ¤","de-BE":"#,##0.00 ¤","de-CH":"#,##0.00 ¤","de-IT":"#,##0.00 ¤","de-LI":"#,##0.00 ¤","de-LU":"#,##0.00 ¤",dje:"#,##0.00¤",doi:"¤#,##0.00",dsb:"#,##0.00 ¤",dua:"#,##0.00 ¤",dyo:"#,##0.00 ¤",dz:"¤#,##,##0.00",ebu:"¤#,##0.00;(¤#,##0.00)",ee:"¤#,##0.00;(¤#,##0.00)","ee-TG":"¤#,##0.00;(¤#,##0.00)",el:"#,##0.00 ¤","el-CY":"#,##0.00 ¤",en:"¤#,##0.00;(¤#,##0.00)","en-001":"¤#,##0.00;(¤#,##0.00)","en-150":"#,##0.00 ¤","en-AE":"¤#,##0.00;(¤#,##0.00)","en-AG":"¤#,##0.00;(¤#,##0.00)","en-AI":"¤#,##0.00;(¤#,##0.00)","en-AS":"¤#,##0.00;(¤#,##0.00)","en-AT":"¤ #,##0.00","en-AU":"¤#,##0.00;(¤#,##0.00)","en-BB":"¤#,##0.00;(¤#,##0.00)","en-BE":"#,##0.00 ¤","en-BI":"¤#,##0.00;(¤#,##0.00)","en-BM":"¤#,##0.00;(¤#,##0.00)","en-BS":"¤#,##0.00;(¤#,##0.00)","en-BW":"¤#,##0.00;(¤#,##0.00)","en-BZ":"¤#,##0.00;(¤#,##0.00)","en-CA":"¤#,##0.00;(¤#,##0.00)","en-CC":"¤#,##0.00;(¤#,##0.00)","en-CH":"¤ #,##0.00;¤-#,##0.00","en-CK":"¤#,##0.00;(¤#,##0.00)","en-CM":"¤#,##0.00;(¤#,##0.00)","en-CX":"¤#,##0.00;(¤#,##0.00)","en-CY":"¤#,##0.00;(¤#,##0.00)","en-DE":"#,##0.00 ¤","en-DG":"¤#,##0.00;(¤#,##0.00)","en-DK":"#,##0.00 ¤","en-DM":"¤#,##0.00;(¤#,##0.00)","en-ER":"¤#,##0.00;(¤#,##0.00)","en-FI":"#,##0.00 ¤","en-FJ":"¤#,##0.00;(¤#,##0.00)","en-FK":"¤#,##0.00;(¤#,##0.00)","en-FM":"¤#,##0.00;(¤#,##0.00)","en-GB":"¤#,##0.00;(¤#,##0.00)","en-GD":"¤#,##0.00;(¤#,##0.00)","en-GG":"¤#,##0.00;(¤#,##0.00)","en-GH":"¤#,##0.00;(¤#,##0.00)","en-GI":"¤#,##0.00;(¤#,##0.00)","en-GM":"¤#,##0.00;(¤#,##0.00)","en-GU":"¤#,##0.00;(¤#,##0.00)","en-GY":"¤#,##0.00;(¤#,##0.00)","en-HK":"¤#,##0.00;(¤#,##0.00)","en-IE":"¤#,##0.00;(¤#,##0.00)","en-IL":"¤#,##0.00;(¤#,##0.00)","en-IM":"¤#,##0.00;(¤#,##0.00)","en-IN":"¤#,##0.00;(¤#,##0.00)","en-IO":"¤#,##0.00;(¤#,##0.00)","en-JE":"¤#,##0.00;(¤#,##0.00)","en-JM":"¤#,##0.00;(¤#,##0.00)","en-KE":"¤#,##0.00;(¤#,##0.00)","en-KI":"¤#,##0.00;(¤#,##0.00)","en-KN":"¤#,##0.00;(¤#,##0.00)","en-KY":"¤#,##0.00;(¤#,##0.00)","en-LC":"¤#,##0.00;(¤#,##0.00)","en-LR":"¤#,##0.00;(¤#,##0.00)","en-LS":"¤#,##0.00;(¤#,##0.00)","en-MG":"¤#,##0.00;(¤#,##0.00)","en-MH":"¤#,##0.00;(¤#,##0.00)","en-MO":"¤#,##0.00;(¤#,##0.00)","en-MP":"¤#,##0.00;(¤#,##0.00)","en-MS":"¤#,##0.00;(¤#,##0.00)","en-MT":"¤#,##0.00;(¤#,##0.00)","en-MU":"¤#,##0.00;(¤#,##0.00)","en-MV":"¤ #,##0.00","en-MW":"¤#,##0.00;(¤#,##0.00)","en-MY":"¤#,##0.00;(¤#,##0.00)","en-NA":"¤#,##0.00;(¤#,##0.00)","en-NF":"¤#,##0.00;(¤#,##0.00)","en-NG":"¤#,##0.00;(¤#,##0.00)","en-NL":"¤ #,##0.00;(¤ #,##0.00)","en-NR":"¤#,##0.00;(¤#,##0.00)","en-NU":"¤#,##0.00;(¤#,##0.00)","en-NZ":"¤#,##0.00;(¤#,##0.00)","en-PG":"¤#,##0.00;(¤#,##0.00)","en-PH":"¤#,##0.00;(¤#,##0.00)","en-PK":"¤#,##0.00;(¤#,##0.00)","en-PN":"¤#,##0.00;(¤#,##0.00)","en-PR":"¤#,##0.00;(¤#,##0.00)","en-PW":"¤#,##0.00;(¤#,##0.00)","en-RW":"¤#,##0.00;(¤#,##0.00)","en-SB":"¤#,##0.00;(¤#,##0.00)","en-SC":"¤#,##0.00;(¤#,##0.00)","en-SD":"¤#,##0.00;(¤#,##0.00)","en-SE":"#,##0.00 ¤","en-SG":"¤#,##0.00;(¤#,##0.00)","en-SH":"¤#,##0.00;(¤#,##0.00)","en-SI":"#,##0.00 ¤;(#,##0.00 ¤)","en-SL":"¤#,##0.00;(¤#,##0.00)","en-SS":"¤#,##0.00;(¤#,##0.00)","en-SX":"¤#,##0.00;(¤#,##0.00)","en-SZ":"¤#,##0.00;(¤#,##0.00)","en-TC":"¤#,##0.00;(¤#,##0.00)","en-TK":"¤#,##0.00;(¤#,##0.00)","en-TO":"¤#,##0.00;(¤#,##0.00)","en-TT":"¤#,##0.00;(¤#,##0.00)","en-TV":"¤#,##0.00;(¤#,##0.00)","en-TZ":"¤#,##0.00;(¤#,##0.00)","en-UG":"¤#,##0.00;(¤#,##0.00)","en-UM":"¤#,##0.00;(¤#,##0.00)","en-VC":"¤#,##0.00;(¤#,##0.00)","en-VG":"¤#,##0.00;(¤#,##0.00)","en-VI":"¤#,##0.00;(¤#,##0.00)","en-VU":"¤#,##0.00;(¤#,##0.00)","en-WS":"¤#,##0.00;(¤#,##0.00)","en-ZA":"¤#,##0.00;(¤#,##0.00)","en-ZM":"¤#,##0.00;(¤#,##0.00)","en-ZW":"¤#,##0.00;(¤#,##0.00)",eo:"¤ #,##0.00",es:"#,##0.00 ¤","es-419":"¤#,##0.00","es-AR":"¤ #,##0.00;(¤ #,##0.00)","es-BO":"¤#,##0.00","es-BR":"¤#,##0.00","es-BZ":"¤#,##0.00","es-CL":"¤#,##0.00","es-CO":"¤#,##0.00","es-CR":"¤#,##0.00","es-CU":"¤#,##0.00","es-DO":"¤#,##0.00;(¤#,##0.00)","es-EA":"#,##0.00 ¤","es-EC":"¤#,##0.00","es-GQ":"#,##0.00 ¤","es-GT":"¤#,##0.00","es-HN":"¤#,##0.00","es-IC":"#,##0.00 ¤","es-MX":"¤#,##0.00","es-NI":"¤#,##0.00","es-PA":"¤#,##0.00","es-PE":"¤#,##0.00","es-PH":"#,##0.00 ¤","es-PR":"¤#,##0.00","es-PY":"¤#,##0.00","es-SV":"¤#,##0.00","es-US":"¤#,##0.00","es-UY":"¤ #,##0.00;(¤ #,##0.00)","es-VE":"¤#,##0.00",et:"#,##0.00 ¤;(#,##0.00 ¤)",eu:"#,##0.00 ¤;(#,##0.00 ¤)",ewo:"#,##0.00 ¤",fa:"‎¤ #,##0.00;‎(¤ #,##0.00)","fa-AF":"¤ #,##0.00;‎(¤ #,##0.00)",ff:"#,##0.00 ¤","ff-Adlm":"¤ #,##0.00","ff-Adlm-BF":"¤ #,##0.00","ff-Adlm-CM":"¤ #,##0.00","ff-Adlm-GH":"¤ #,##0.00","ff-Adlm-GM":"¤ #,##0.00","ff-Adlm-GW":"¤ #,##0.00","ff-Adlm-LR":"¤ #,##0.00","ff-Adlm-MR":"¤ #,##0.00","ff-Adlm-NE":"¤ #,##0.00","ff-Adlm-NG":"¤ #,##0.00","ff-Adlm-SL":"¤ #,##0.00","ff-Adlm-SN":"¤ #,##0.00","ff-Latn":"#,##0.00 ¤","ff-Latn-BF":"#,##0.00 ¤","ff-Latn-CM":"#,##0.00 ¤","ff-Latn-GH":"#,##0.00 ¤","ff-Latn-GM":"#,##0.00 ¤","ff-Latn-GN":"#,##0.00 ¤","ff-Latn-GW":"#,##0.00 ¤","ff-Latn-LR":"#,##0.00 ¤","ff-Latn-MR":"#,##0.00 ¤","ff-Latn-NE":"#,##0.00 ¤","ff-Latn-NG":"#,##0.00 ¤","ff-Latn-SL":"#,##0.00 ¤",fi:"#,##0.00 ¤",fil:"¤#,##0.00;(¤#,##0.00)",fo:"#,##0.00 ¤;(#,##0.00 ¤)","fo-DK":"#,##0.00 ¤;(#,##0.00 ¤)",fr:"#,##0.00 ¤;(#,##0.00 ¤)","fr-BE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BI":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BJ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BL":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CD":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CH":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CI":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-DJ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-DZ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GP":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GQ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-HT":"#,##0.00 ¤;(#,##0.00 ¤)","fr-KM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-LU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-ML":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MQ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MR":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-NC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-NE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-PF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-PM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-RE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-RW":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SY":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TD":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-VU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-WF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-YT":"#,##0.00 ¤;(#,##0.00 ¤)",fur:"¤ #,##0.00",fy:"¤ #,##0.00;(¤ #,##0.00)",ga:"¤#,##0.00;(¤#,##0.00)","ga-GB":"¤#,##0.00;(¤#,##0.00)",gd:"¤#,##0.00;(¤#,##0.00)",gl:"#,##0.00 ¤",gsw:"#,##0.00 ¤","gsw-FR":"#,##0.00 ¤","gsw-LI":"#,##0.00 ¤",gu:"¤#,##,##0.00;(¤#,##,##0.00)",guz:"¤#,##0.00;(¤#,##0.00)",gv:"¤#,##0.00",ha:"¤ #,##0.00","ha-GH":"¤ #,##0.00","ha-NE":"¤ #,##0.00",haw:"¤#,##0.00;(¤#,##0.00)",he:"#,##0.00 ¤",hi:"¤#,##,##0.00","hi-Latn":"¤#,##,##0.00",hr:"#,##0.00 ¤","hr-BA":"#,##0.00 ¤",hsb:"#,##0.00 ¤",hu:"#,##0.00 ¤",hy:"#,##0.00 ¤",ia:"¤ #,##0.00;(¤ #,##0.00)",id:"¤#,##0.00",ig:"¤#,##0.00;(¤#,##0.00)",ii:"¤ #,##0.00",is:"#,##0.00 ¤",it:"#,##0.00 ¤","it-CH":"#,##0.00 ¤","it-SM":"#,##0.00 ¤","it-VA":"#,##0.00 ¤",ja:"¤#,##0.00;(¤#,##0.00)",jgo:"¤ #,##0.00",jmc:"¤#,##0.00",jv:"¤ #,##0.00",ka:"#,##0.00 ¤",kab:"#,##0.00¤",kam:"¤#,##0.00;(¤#,##0.00)",kde:"¤#,##0.00;(¤#,##0.00)",kea:"#,##0.00 ¤;(#,##0.00 ¤)",kgp:"¤ #,##0.00",khq:"#,##0.00¤",ki:"¤#,##0.00;(¤#,##0.00)",kk:"#,##0.00 ¤",kkj:"¤ #,##0.00",kl:"¤#,##0.00;¤-#,##0.00",kln:"¤#,##0.00;(¤#,##0.00)",km:"#,##0.00¤;(#,##0.00¤)",kn:"¤#,##0.00;(¤#,##0.00)",ko:"¤#,##0.00;(¤#,##0.00)","ko-KP":"¤#,##0.00;(¤#,##0.00)",kok:"¤#,##0.00;(¤#,##0.00)",ks:"¤#,##0.00","ks-Arab":"¤#,##0.00","ks-Deva":"¤ #,##0.00",ksb:"#,##0.00¤",ksf:"#,##0.00 ¤",ksh:"#,##0.00 ¤",ku:"#,##0.00 ¤;(#,##0.00 ¤)",kw:"¤#,##0.00",ky:"#,##0.00 ¤",lag:"¤ #,##0.00",lb:"#,##0.00 ¤",lg:"#,##0.00¤",lkt:"¤ #,##0.00",ln:"#,##0.00 ¤","ln-AO":"#,##0.00 ¤","ln-CF":"#,##0.00 ¤","ln-CG":"#,##0.00 ¤",lo:"¤#,##0.00;¤-#,##0.00",lrc:"¤ #,##0.00","lrc-IQ":"¤ #,##0.00",lt:"#,##0.00 ¤",lu:"#,##0.00¤",luo:"#,##0.00¤",luy:"¤#,##0.00;¤- #,##0.00",lv:"#,##0.00 ¤",mai:"¤ #,##0.00",mas:"¤#,##0.00;(¤#,##0.00)","mas-TZ":"¤#,##0.00;(¤#,##0.00)",mer:"¤#,##0.00;(¤#,##0.00)",mfe:"¤ #,##0.00",mg:"¤#,##0.00",mgh:"¤ #,##0.00",mgo:"¤ #,##0.00",mi:"¤ #,##0.00",mk:"#,##0.00 ¤",ml:"¤#,##0.00;(¤#,##0.00)",mn:"¤ #,##0.00",mni:"¤ #,##0.00","mni-Beng":"¤ #,##0.00",mr:"¤#,##0.00;(¤#,##0.00)",ms:"¤#,##0.00;(¤#,##0.00)","ms-BN":"¤#,##0.00;(¤#,##0.00)","ms-ID":"¤#,##0.00","ms-SG":"¤#,##0.00;(¤#,##0.00)",mt:"¤#,##0.00",mua:"¤#,##0.00;(¤#,##0.00)",my:"¤ #,##0.00",mzn:"¤ #,##0.00",naq:"¤#,##0.00",nb:"¤ #,##0.00;(¤ #,##0.00)","nb-SJ":"¤ #,##0.00;(¤ #,##0.00)",nd:"¤#,##0.00;(¤#,##0.00)",nds:"¤ #,##0.00","nds-NL":"¤ #,##0.00",ne:"¤ #,##,##0.00","ne-IN":"¤ #,##,##0.00",nl:"¤ #,##0.00;(¤ #,##0.00)","nl-AW":"¤ #,##0.00;(¤ #,##0.00)","nl-BE":"¤ #,##0.00;(¤ #,##0.00)","nl-BQ":"¤ #,##0.00;(¤ #,##0.00)","nl-CW":"¤ #,##0.00;(¤ #,##0.00)","nl-SR":"¤ #,##0.00;(¤ #,##0.00)","nl-SX":"¤ #,##0.00;(¤ #,##0.00)",nmg:"#,##0.00 ¤",nn:"#,##0.00 ¤",nnh:"¤ #,##0.00",no:"¤ #,##0.00;(¤ #,##0.00)",nus:"¤#,##0.00;(¤#,##0.00)",nyn:"¤#,##0.00",om:"¤#,##0.00","om-KE":"¤#,##0.00",or:"¤#,##0.00;(¤#,##0.00)",os:"¤ #,##0.00","os-RU":"¤ #,##0.00",pa:"¤ #,##0.00","pa-Arab":"¤ #,##0.00","pa-Guru":"¤ #,##0.00",pcm:"¤#,##0.00",pl:"#,##0.00 ¤;(#,##0.00 ¤)",ps:"¤#,##0.00;(¤#,##0.00)","ps-PK":"¤#,##0.00;(¤#,##0.00)",pt:"¤ #,##0.00","pt-AO":"#,##0.00 ¤;(#,##0.00 ¤)","pt-CH":"#,##0.00 ¤;(#,##0.00 ¤)","pt-CV":"#,##0.00 ¤;(#,##0.00 ¤)","pt-GQ":"#,##0.00 ¤;(#,##0.00 ¤)","pt-GW":"#,##0.00 ¤;(#,##0.00 ¤)","pt-LU":"#,##0.00 ¤;(#,##0.00 ¤)","pt-MO":"#,##0.00 ¤;(#,##0.00 ¤)","pt-MZ":"#,##0.00 ¤;(#,##0.00 ¤)","pt-PT":"#,##0.00 ¤;(#,##0.00 ¤)","pt-ST":"#,##0.00 ¤;(#,##0.00 ¤)","pt-TL":"#,##0.00 ¤;(#,##0.00 ¤)",qu:"¤ #,##0.00","qu-BO":"¤ #,##0.00","qu-EC":"¤ #,##0.00",rm:"#,##0.00 ¤",rn:"#,##0.00¤",ro:"#,##0.00 ¤;(#,##0.00 ¤)","ro-MD":"#,##0.00 ¤;(#,##0.00 ¤)",rof:"¤#,##0.00",ru:"#,##0.00 ¤","ru-BY":"#,##0.00 ¤","ru-KG":"#,##0.00 ¤","ru-KZ":"#,##0.00 ¤","ru-MD":"#,##0.00 ¤","ru-UA":"#,##0.00 ¤",rw:"¤ #,##0.00",rwk:"#,##0.00¤",sa:"¤ #,##0.00",sah:"#,##0.00 ¤",saq:"¤#,##0.00;(¤#,##0.00)",sat:"¤ #,##0.00","sat-Olck":"¤ #,##0.00",sbp:"#,##0.00¤",sc:"#,##0.00 ¤",sd:"¤ #,##0.00","sd-Arab":"¤ #,##0.00","sd-Deva":"¤ #,##0.00",se:"#,##0.00 ¤","se-FI":"#,##0.00 ¤","se-SE":"#,##0.00 ¤",seh:"#,##0.00¤",ses:"#,##0.00¤",sg:"¤#,##0.00;¤-#,##0.00",shi:"#,##0.00¤","shi-Latn":"#,##0.00¤","shi-Tfng":"#,##0.00¤",si:"¤#,##0.00;(¤#,##0.00)",sk:"#,##0.00 ¤;(#,##0.00 ¤)",sl:"#,##0.00 ¤;(#,##0.00 ¤)",smn:"#,##0.00 ¤",sn:"¤#,##0.00;(¤#,##0.00)",so:"¤#,##0.00;(¤#,##0.00)","so-DJ":"¤#,##0.00;(¤#,##0.00)","so-ET":"¤#,##0.00;(¤#,##0.00)","so-KE":"¤#,##0.00;(¤#,##0.00)",sq:"#,##0.00 ¤;(#,##0.00 ¤)","sq-MK":"#,##0.00 ¤;(#,##0.00 ¤)","sq-XK":"#,##0.00 ¤;(#,##0.00 ¤)",sr:"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-BA":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-ME":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-XK":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-BA":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-ME":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-XK":"#,##0.00 ¤;(#,##0.00 ¤)",su:"¤#,##0.00","su-Latn":"¤#,##0.00",sv:"#,##0.00 ¤","sv-AX":"#,##0.00 ¤","sv-FI":"#,##0.00 ¤",sw:"¤ #,##0.00","sw-CD":"¤ #,##0.00","sw-KE":"¤ #,##0.00","sw-UG":"¤ #,##0.00",ta:"¤#,##0.00;(¤#,##0.00)","ta-LK":"¤#,##0.00;(¤#,##0.00)","ta-MY":"¤#,##0.00;(¤#,##0.00)","ta-SG":"¤#,##0.00;(¤#,##0.00)",te:"¤#,##0.00;(¤#,##0.00)",teo:"¤#,##0.00;(¤#,##0.00)","teo-KE":"¤#,##0.00;(¤#,##0.00)",tg:"#,##0.00 ¤",th:"¤#,##0.00;(¤#,##0.00)",ti:"¤#,##0.00","ti-ER":"¤#,##0.00",tk:"#,##0.00 ¤",to:"¤ #,##0.00",tr:"¤#,##0.00;(¤#,##0.00)","tr-CY":"¤#,##0.00;(¤#,##0.00)",tt:"#,##0.00 ¤",twq:"#,##0.00¤",tzm:"#,##0.00 ¤",ug:"¤#,##0.00;(¤#,##0.00)",uk:"#,##0.00 ¤",und:"¤ #,##0.00",ur:"¤#,##0.00;(¤#,##0.00)","ur-IN":"¤#,##0.00;(¤#,##0.00)",uz:"#,##0.00 ¤","uz-Arab":"¤ #,##0.00","uz-Cyrl":"#,##0.00 ¤","uz-Latn":"#,##0.00 ¤",vai:"¤#,##0.00;(¤#,##0.00)","vai-Latn":"¤#,##0.00;(¤#,##0.00)","vai-Vaii":"¤#,##0.00;(¤#,##0.00)",vi:"#,##0.00 ¤",vun:"¤#,##0.00",wae:"¤ #,##0.00",wo:"¤ #,##0.00",xh:"¤#,##0.00",xog:"#,##0.00 ¤",yav:"#,##0.00 ¤;(#,##0.00 ¤)",yi:"¤ #,##0.00",yo:"¤#,##0.00;(¤#,##0.00)","yo-BJ":"¤#,##0.00;(¤#,##0.00)",yrl:"¤ #,##0.00","yrl-CO":"¤ #,##0.00","yrl-VE":"¤ #,##0.00",yue:"¤#,##0.00;(¤#,##0.00)","yue-Hans":"¤#,##0.00;(¤#,##0.00)","yue-Hant":"¤#,##0.00;(¤#,##0.00)",zgh:"#,##0.00¤",zh:"¤#,##0.00;(¤#,##0.00)","zh-Hans":"¤#,##0.00;(¤#,##0.00)","zh-Hans-HK":"¤#,##0.00;(¤#,##0.00)","zh-Hans-MO":"¤#,##0.00;(¤#,##0.00)","zh-Hans-SG":"¤#,##0.00;(¤#,##0.00)","zh-Hant":"¤#,##0.00;(¤#,##0.00)","zh-Hant-HK":"¤#,##0.00;(¤#,##0.00)","zh-Hant-MO":"¤#,##0.00;(¤#,##0.00)",zu:"¤#,##0.00;(¤#,##0.00)"},OI=["standard","accounting"],kI=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,yc={},cf=i=>{const e=$t.locale()+"/"+JSON.stringify(i);return yc[e]||(yc[e]=new Intl.NumberFormat($t.locale(),i).format),yc[e]},MI=i=>new Intl.NumberFormat($t.locale(),{style:"currency",currency:i}),RI={engine:function(){return"intl"},_formatNumberCore:function(i,e,t){return e==="exponential"?this.callBase.apply(this,arguments):cf(this._normalizeFormatConfig(e,t,i))(i)},_normalizeFormatConfig:function(i,e,t){let n;if(i==="decimal"){const s=String(t).split(".")[1];n={minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:s&&s.length,round:t<0?"ceil":"floor"}}else n=this._getPrecisionConfig(e.precision);if(i==="percent")n.style="percent";else if(i==="currency"){const s=e.useCurrencyAccountingStyle??ce().defaultUseCurrencyAccountingStyle;n.style="currency",n.currency=e.currency||ce().defaultCurrency,n.currencySign=OI[+s]}return n},_getPrecisionConfig:function(i){let e;return i===null?e={minimumFractionDigits:0,maximumFractionDigits:20}:e={minimumFractionDigits:i||0,maximumFractionDigits:i||0},e},format:function(i,e){return typeof i!="number"?i:(e=this._normalizeFormat(e),e.currency==="default"&&(e.currency=ce().defaultCurrency),!e||typeof e!="function"&&!e.type&&!e.formatter?cf(e)(i):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(i){const e=MI(i);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(i){const e=kI.exec(i)||[],t=e[1]?"before":"after",n=e[1]||e[4]||"",s=e[2]||e[3]||"";return{position:t,symbol:n,delimiter:s}},getCurrencySymbol:function(i){return i||(i=ce().defaultCurrency),{symbol:this._getCurrencySymbolInfo(i).symbol}},getOpenXmlCurrencyFormat:function(i){const e=i||ce().defaultCurrency,t=this._getCurrencySymbolInfo(e).symbol,n=$t.getValueByClosestLocale((s=>AI[s]));return TI(t,n)}},PI=typeof Intl<"u",df=["currency","fixedpoint","exponential","percent","decimal"],Cc={1:"K",2:"M",3:"B",4:"T"},uf={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},Se=Gt({engine:function(){return"base"},numericFormats:df,defaultLargeNumberFormatPostfixes:Cc,_parseNumberFormatString:function(i){const e={};if(!i||typeof i!="string")return;const t=i.toLowerCase().split(" ");if(S(t,((n,s)=>{df.includes(s)?e.formatType=s:s in uf&&(e.power=uf[s])})),e.power&&!e.formatType&&(e.formatType="fixedpoint"),e.formatType)return e},_calculateNumberPower:function(i,e,t,n){let s=Math.abs(i),o=0;if(s>1)for(;s&&s>=e&&(n===void 0||o<n);)o++,s/=e;else if(s>0&&s<1)for(;s<1&&(t===void 0||o>t);)o--,s*=e;return o},_getNumberByPower:function(i,e,t){let n=i;for(;e>0;)n/=t,e--;for(;e<0;)n*=t,e++;return n},_formatNumber:function(i,e,t){e.power==="auto"&&(e.power=this._calculateNumberPower(i,1e3,0,4)),e.power&&(i=this._getNumberByPower(i,e.power,1e3));const n=this.defaultLargeNumberFormatPostfixes[e.power]||"";let s=this._formatNumberCore(i,e.formatType,t);return s=s.replace(/(\d|.$)(\D*)$/,"$1"+n+"$2"),s},_formatNumberExponential:function(i,e){let t=this._calculateNumberPower(i,10),n=this._getNumberByPower(i,t,10);e.precision===void 0&&(e.precision=1),n.toFixed(e.precision||0)>=10&&(t++,n/=10);const s=(t>=0?"+":"")+t.toString();return this._formatNumberCore(n,"fixedpoint",e)+"E"+s},_addZeroes:function(i,e){const t=Math.pow(10,e),n=i<0?"-":"";i=(Math.abs(i)*t>>>0)/t;let s=i.toString();for(;s.length<e;)s="0"+s;return n+s},_addGroupSeparators:function(i){const e=i.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,ce().thousandsSeparator)+(e[1]?ce().decimalSeparator+e[1]:"")},_formatNumberCore:function(i,e,t){return e==="exponential"?this._formatNumberExponential(i,t):(e!=="decimal"&&t.precision!==null&&(t.precision=t.precision||0),e==="percent"&&(i*=100),t.precision!==void 0&&(e==="decimal"?i=this._addZeroes(i,t.precision):i=t.precision===null?i.toPrecision():ef(i,t.precision)),e!=="decimal"?i=this._addGroupSeparators(i):i=i.toString().replace(".",ce().decimalSeparator),e==="percent"&&(i+="%"),i)},_normalizeFormat:function(i){return i?(typeof i=="function"||J(i)||(i={type:i}),i):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(i,e){const t=this.format(90,"decimal");if(typeof i!="string"||t[1]==="0")return i;const n=e?t[1]:"0",s=e?"0":t[1],o=e?t[0]:"9",r=new RegExp("["+n+"-"+o+"]","g");return i.replace(r,(a=>String.fromCharCode(a.charCodeAt(0)+(s.charCodeAt(0)-n.charCodeAt(0)))))},getNegativeEtalonRegExp:function(i){const e=this._getSeparators(),t=new RegExp("[0-9"+pi(e.decimalSeparator+e.thousandsSeparator)+"]+","g");let n=this.format(-1,i).replace(t,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach((s=>{n=n.replace(new RegExp(`\\${s}`,"g"),`\\${s}`)})),n=n.replace(/ /g,"\\s"),n=n.replace(/1/g,".*"),new RegExp(n,"g")},getSign:function(i,e){if(!e)return i.replace(/[^0-9-]/g,"").charAt(0)==="-"?-1:1;const t=this.getNegativeEtalonRegExp(e);return i.match(t)?-1:1},format:function(i,e){if(typeof i!="number"||typeof e=="number")return i;if(e=e&&e.formatter||e,typeof e=="function")return e(i);e=this._normalizeFormat(e),e.type||(e.type="decimal");const t=this._parseNumberFormatString(e.type);if(!t){const n=this._getSeparators();n.unlimitedIntegerDigits=e.unlimitedIntegerDigits;const s=II(e.type,n)(i);return this.convertDigits(s)}return this._formatNumber(i,t,e)},parse:function(i,e){if(!i)return;if(e&&e.parser)return e.parser(i);i=this.convertDigits(i,!0),e&&typeof e!="string"&&he.log("W0011");const t=this.getDecimalSeparator(),n=new RegExp("[^0-9"+pi(t)+"]","g"),s=i.replace(n,"").replace(t,".").replace(/\.$/g,"");if(s==="."||s==="")return null;if(this._calcSignificantDigits(s)>15)return NaN;let o=+s*this.getSign(i,e);e=this._normalizeFormat(e);const r=this._parseNumberFormatString(e.type);let a=r?.power;if(a){if(a==="auto"){const l=i.match(/\d(K|M|B|T)/);l&&(a=Object.keys(Cc).find((c=>Cc[c]===l[1])))}o*=Math.pow(10,3*a)}return r?.formatType==="percent"&&(o/=100),o},_calcSignificantDigits:function(i){const[e,t]=i.split("."),n=o=>{let r=-1;for(let a=0;a<o.length;a++)if(o[a]!=="0"){r=a;break}return r>-1?o.length-r:0};let s=0;return e&&(s+=n(e.split(""))),t&&(s+=n(t.split("").reverse())),s}});Se.inject(DI),PI&&Se.inject(RI);const $I=/^[\d\w.+_-]+@[\d\w._-]+\.[\w]+$/i,Ge={valid:"valid",invalid:"invalid",pending:"pending"};class Wi{constructor(){this.NAME="base"}defaultMessage(e){return F.getFormatter(`validation-${this.NAME}`)(e)}defaultFormattedMessage(e){return F.getFormatter(`validation-${this.NAME}-formatted`)(e)}_isValueEmpty(e){return!uo.required.validate(e,{})}validate(e,t){const n=Array.isArray(e)?e:[e];let s=!0;return n.length?n.every((o=>(s=this._validate(o,t),s))):s=this._validate(null,t),s}}class BI extends Wi{constructor(){super(),this.NAME="required"}_validate(e,t){return!y(e)||e===!1?!1:(e=String(e),(t.trim||!y(t.trim))&&(e=e.trim()),e!=="")}}class VI extends Wi{constructor(){super(),this.NAME="numeric"}_validate(e,t){return t.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:t.useCultureSettings&&le(e)?!isNaN(Se.parse(e)):Le(e)}}class LI extends Wi{constructor(){super(),this.NAME="range"}_validate(e,t){if(t.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;const n=uo.numeric.validate(e,t),s=y(e)&&e!=="",o=n?parseFloat(e):s&&e.valueOf(),{min:r}=t,{max:a}=t;if(!(n||zt(e))&&!s)return!1;if(y(r))return y(a)?o>=r&&o<=a:o>=r;if(y(a))return o<=a;throw he.Error("E0101")}}class FI extends Wi{constructor(){super(),this.NAME="stringLength"}_validate(e,t){return e=String(e??""),(t.trim||!y(t.trim))&&(e=e.trim()),t.ignoreEmptyValue&&this._isValueEmpty(e)?!0:uo.range.validate(e.length,I({},t))}}class hf extends Wi{constructor(){super(),this.NAME="custom"}validate(e,t){if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;const{validator:n}=t,s=n&&L(n.option)&&n.option("dataGetter"),o=L(s)&&s(),r={value:e,validator:n,rule:t};return o&&I(r,o),t.validationCallback(r)}}class HI extends hf{constructor(){super(),this.NAME="async"}validate(e,t){if(y(t.reevaluate)||I(t,{reevaluate:!0}),t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;const{validator:n}=t,s=n&&L(n.option)&&n.option("dataGetter"),o=L(s)&&s(),r={value:e,validator:n,rule:t};o&&I(r,o);const a=t.validationCallback(r);if(!Ri(a))throw he.Error("E0103");return this._getWrappedPromise(Qt(a).promise())}_getWrappedPromise(e){const t=A();return e.then((n=>{t.resolve(n)}),(n=>{const s={isValid:!1};y(n)&&(le(n)?s.message=n:X(n)&&y(n.message)&&le(n.message)&&(s.message=n.message)),t.resolve(s)})),t.promise()}}class NI extends Wi{constructor(){super(),this.NAME="compare"}_validate(e,t){if(!t.comparisonTarget)throw he.Error("E0102");if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;I(t,{reevaluate:!0});const n=t.comparisonTarget();switch(t.comparisonType||"=="){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}}class WI extends Wi{constructor(){super(),this.NAME="pattern"}_validate(e,t){if(t.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;let{pattern:n}=t;return le(n)&&(n=new RegExp(n)),n.test(e)}}class zI extends Wi{constructor(){super(),this.NAME="email"}_validate(e,t){return t.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:uo.pattern.validate(e,I({},t,{pattern:$I}))}}const uo={required:new BI,numeric:new VI,range:new LI,stringLength:new FI,custom:new hf,async:new HI,compare:new NI,pattern:new WI,email:new zI};class GI extends ee.inherit({}){ctor(e,t){this.group=e,this.validators=[],this._isRemovable=t,this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new fn(this)}validate(){const e={isValid:!0,brokenRules:[],validators:[],status:Ge.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),S(this.validators,((t,n)=>{const s=n.validate();e.isValid=e.isValid&&s.isValid,s.brokenRules&&(e.brokenRules=e.brokenRules.concat(s.brokenRules)),e.validators.push(n),s.status===Ge.pending&&this._addPendingValidator(n),this._subscribeToChangeEvents(n)})),this._pendingValidators.length?e.status=Ge.pending:(e.status=e.isValid?Ge.valid:Ge.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(e)),this._updateValidationInfo(e),I({},this._validationInfo.result)}_subscribeToChangeEvents(e){e.on("validating",this._onValidatorStatusChanged),e.on("validated",this._onValidatorStatusChanged)}_unsubscribeFromChangeEvents(e){e.off("validating",this._onValidatorStatusChanged),e.off("validated",this._onValidatorStatusChanged)}_unsubscribeFromAllChangeEvents(){S(this.validators,((e,t)=>{this._unsubscribeFromChangeEvents(t)}))}_updateValidationInfo(e){this._validationInfo.result=e,e.status===Ge.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=A(),this._validationInfo.result.complete=this._validationInfo.deferred.promise()))}_addPendingValidator(e){St(this._pendingValidators,(n=>n===e))[0]||this._pendingValidators.push(e)}_removePendingValidator(e){const t=this._pendingValidators.indexOf(e);t>=0&&this._pendingValidators.splice(t,1)}_orderBrokenRules(e){let t=[];return S(this.validators,((n,s)=>{const o=St(e,(r=>r.validator===s));o.length&&(t=t.concat(o))})),t}_updateBrokenRules(e){if(!this._validationInfo.result)return;let{brokenRules:t}=this._validationInfo.result;const n=St(t,(s=>s.validator!==e.validator));e.brokenRules&&(t=n.concat(e.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(t)}_onValidatorStatusChanged(e){if(e.status===Ge.pending){this._addPendingValidator(e.validator);return}this._resolveIfComplete(e)}_resolveIfComplete(e){if(this._removePendingValidator(e.validator),this._updateBrokenRules(e),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?Ge.valid:Ge.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===Ge.valid;const t=I({},this._validationInfo.result,{complete:null}),{deferred:n}=this._validationInfo;this._validationInfo.deferred=null,this._raiseValidatedEvent(t),n&&setTimeout((()=>{n.resolve(t)}))}}_raiseValidatedEvent(e){this._eventsStrategy.fireEvent("validated",[e])}_resetValidationInfo(){this._validationInfo={result:null,deferred:null}}_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)}removeRegisteredValidator(e){const t=this.validators.indexOf(e);t>-1&&(this.validators.splice(t,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:e}))}registerValidator(e){this.validators.includes(e)||(this.validators.push(e),this._synchronizeValidationInfo())}reset(){S(this.validators,((e,t)=>{t.reset()})),this._pendingValidators=[],this._resetValidationInfo()}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}}const Ce={groups:[],getGroupConfig(i){const e=St(this.groups,(t=>t.group===i));if(e.length)return e[0]},findGroup(i,e){var t;const s=((t=i.data())===null||t===void 0||(t=t.dxComponents)===null||t===void 0?void 0:t.includes("dxValidationGroup"))&&i.dxValidationGroup("instance");if(s)return s;const o=i.parents(".dx-validationgroup").first();return o.length?o.dxValidationGroup("instance"):e},initGroups(){this.groups=[],this.addGroup(void 0,!1)},addGroup(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this.getGroupConfig(i);return t||(t=new GI(i,e),this.groups.push(t)),t},removeGroup(i){const e=this.getGroupConfig(i),t=this.groups.indexOf(e);return t>-1&&this.groups.splice(t,1),e},_setDefaultMessage(i){const{rule:e,validator:t,name:n}=i;y(e.message)||(t.defaultFormattedMessage&&y(n)?e.message=t.defaultFormattedMessage(n):e.message=t.defaultMessage())},_addBrokenRule(i){const{result:e,rule:t}=i;e.brokenRule||(e.brokenRule=t),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(t)},validate(i,e,t){var n;let s={name:t,value:i,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:Ge.valid,complete:null};const o=e==null||(n=e[0])===null||n===void 0?void 0:n.validator,r=[];return S(e||[],((a,l)=>{const c=uo[l.type];let d;if(c){if(y(l.isValid)&&l.value===i&&!l.reevaluate)return l.isValid?!0:(s.isValid=!1,this._addBrokenRule({result:s,rule:l}),!1);if(l.value=i,l.type==="async")return r.push({rule:l,ruleValidator:c}),!0;if(d=c.validate(i,l),l.isValid=d,d||(s.isValid=!1,this._setDefaultMessage({rule:l,validator:c,name:t}),this._addBrokenRule({result:s,rule:l})),!l.isValid)return!1}else throw he.Error("E0100")})),s.isValid&&!s.brokenRules&&r.length&&(s=this._validateAsyncRules({value:i,items:r,result:s,name:t})),this._synchronizeGroupValidationInfo(o,s),s.status=s.pendingRules?Ge.pending:s.isValid?Ge.valid:Ge.invalid,s},_synchronizeGroupValidationInfo(i,e){if(!i)return;const t=Ce.getGroupConfig(i._validationGroup);t._updateBrokenRules.call(t,{validator:i,brokenRules:e.brokenRules??[]})},_validateAsyncRules(i){let{result:e,value:t,items:n,name:s}=i;const o=[];return S(n,((r,a)=>{const l=a.ruleValidator.validate(t,a.rule);if(!Ri(l))this._updateRuleConfig({rule:a.rule,ruleResult:this._getPatchedRuleResult(l),validator:a.ruleValidator,name:s});else{e.pendingRules||(e.pendingRules=[]),e.pendingRules.push(a.rule);const c=l.then((d=>{const h=this._getPatchedRuleResult(d);return this._updateRuleConfig({rule:a.rule,ruleResult:h,validator:a.ruleValidator,name:s}),h}));o.push(c)}})),o.length&&(e.complete=Promise.all(o).then((r=>this._getAsyncRulesResult({result:e,values:r})))),e},_updateRuleConfig(i){let{rule:e,ruleResult:t,validator:n,name:s}=i;e.isValid=t.isValid,t.isValid||(y(t.message)&&le(t.message)&&t.message.length?e.message=t.message:this._setDefaultMessage({rule:e,validator:n,name:s}))},_getPatchedRuleResult(i){let e;return X(i)?(e=I({},i),y(e.isValid)||(e.isValid=!0)):e={isValid:Fo(i)?i:!0},e},_getAsyncRulesResult(i){let{values:e,result:t}=i;return S(e,((n,s)=>{if(s.isValid===!1){t.isValid=s.isValid;const o=t.pendingRules[n];this._addBrokenRule({result:t,rule:o})}})),t.pendingRules=null,t.complete=null,t.status=t.isValid?Ge.valid:Ge.invalid,t},registerValidatorInGroup(i,e){const t=Ce.addGroup(i);t.registerValidator.call(t,e)},removeRegisteredValidator(i,e){const t=Ce.getGroupConfig(i);if(t){t.removeRegisteredValidator.call(t,e);const n=t.validators,s=t._isRemovable;n.length===0&&s&&this.removeGroup(i)}},initValidationOptions(i){const e={};return i&&["isValid","validationStatus","validationError","validationErrors"].forEach((n=>{n in i&&I(e,this.synchronizeValidationOptions({name:n,value:i[n]},i))})),e},synchronizeValidationOptions(i,e){let{name:t,value:n}=i;switch(t){case"validationStatus":{const s=n===Ge.valid||n===Ge.pending;return e.isValid!==s?{isValid:s}:{}}case"isValid":{const{validationStatus:s}=e;let o=s;return n&&s===Ge.invalid?o=Ge.valid:!n&&s!==Ge.invalid&&(o=Ge.invalid),o!==s?{validationStatus:o}:{}}case"validationErrors":{const s=n!=null&&n.length?n[0]:null;return e.validationError!==s?{validationError:s}:{}}case"validationError":{const{validationErrors:s}=e;if(!n&&s)return{validationErrors:null};if(n&&!s)return{validationErrors:[n]};if(n&&s&&n!==s[0])return s[0]=n,{validationErrors:s.slice()}}}return{}},validateGroup(i){const e=Ce.getGroupConfig(i);if(!e)throw he.Error("E0110");return e.validate()},resetGroup(i){const e=Ce.getGroupConfig(i);if(!e)throw he.Error("E0110");return e.reset()}};Ce.initGroups();const KI="dx-validationsummary-item",UI="dx-validationsummary-item-data";class bc extends Ni{_getDefaultOptions(){return C({},super._getDefaultOptions(),{focusStateEnabled:!1,noDataText:null})}_setOptionsByReference(){super._setOptionsByReference(),I(this._optionsByReference,{validationGroup:!0})}_init(){super._init(),this._initGroupRegistration()}_initGroupRegistration(){const e=this.$element(),{validationGroup:t}=this.option(),n=t||Ce.findGroup(e,this._modelByElement(e)),s=Ce.addGroup(n,!0);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=n,this.groupSubscription=this._groupValidationHandler.bind(this),s.on("validated",this.groupSubscription)}_unsubscribeGroup(){const e=Ce.getGroupConfig(this._validationGroup);e?.off("validated",this.groupSubscription)}_getOrderedItems(e,t){let n=[];return S(e,((s,o)=>{const r=St(t,(a=>{if(a.validator===o)return!0}));r.length&&(n=n.concat(r))})),n}_groupValidationHandler(e){const t=this._getOrderedItems(e.validators,qe(e.brokenRules,(n=>({text:n.message,validator:n.validator,index:n.index}))));this.validators=e.validators,S(this.validators,((n,s)=>{if(s._validationSummary!==this){let o=this._itemValidationHandler.bind(this);const r=function(){s.off("validated",o),s._validationSummary=null,o=null};s.on("validated",o),s.on("disposing",r),s._validationSummary=this}})),this.option("items",t)}_itemValidationHandler(e){let{isValid:t,validator:n,brokenRules:s}=e,{items:o}=this.option(),r=!1,a=0;for(;a<o.length;){const l=o[a];if(l.validator===n){const c=St(s||[],(d=>d.index===l.index))[0];if(t||!c){o.splice(a,1),r=!0;continue}c.message!==l.text&&(l.text=c.message,r=!0)}a++}S(s,((l,c)=>{St(o,(h=>h.validator===n&&h.index===c.index))[0]||(o.push({text:c.message,validator:n,index:c.index}),r=!0)})),r&&(o=this._getOrderedItems(this.validators,o),this.option("items",o))}_initMarkup(){this.$element().addClass("dx-validationsummary"),super._initMarkup()}_optionChanged(e){e.name==="validationGroup"?this._initGroupRegistration():super._optionChanged(e)}_itemClass(){return KI}_itemDataKey(){return UI}_postprocessRenderItem(e){_.on(e.itemElement,"click",(()=>{var t,n;(t=e.itemData.validator)===null||t===void 0||(n=t.focus)===null||n===void 0||n.call(t)}))}_dispose(){super._dispose(),this._unsubscribeGroup()}refreshValidationGroup(){this._initGroupRegistration()}}ve("dxValidationSummary",bc);class jI extends ee.inherit({}){ctor(e,t){this.editor=e,this.validator=t,this.validationRequestsCallbacks=[];const n=s=>{this.validationRequestsCallbacks.forEach((o=>o(s)))};e.validationRequest.add(n),e.on("disposing",(()=>{e.validationRequest.remove(n)}))}getValue(){return this.editor.option("value")}getCurrentValidationError(){return this.editor.option("validationError")}bypass(){return this.editor.option("disabled")}applyValidationResults(e){this.editor.option({validationErrors:e.brokenRules,validationStatus:e.status})}reset(){this.editor.clear()}focus(){this.editor.focus()}}class Sc extends ii{_initOptions(e){super._initOptions.apply(this,arguments),this.option(Ce.initValidationOptions(e))}_getDefaultOptions(){return C({},super._getDefaultOptions(),{validationRules:[]})}_init(){super._init(),this._initGroupRegistration(),this.focused=Ee(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}}_initGroupRegistration(){const e=this._findGroup();this._groupWasInit||this.on("disposing",(t=>{Ce.removeRegisteredValidator(t.component._validationGroup,t.component)})),(!this._groupWasInit||this._validationGroup!==e)&&(Ce.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=e,Ce.registerValidatorInGroup(e,this))}_setOptionsByReference(){super._setOptionsByReference(),I(this._optionsByReference,{validationGroup:!0})}_getEditor(){const e=this.$element()[0];return Pe(e,"dx-validation-target")}_initAdapter(){const e=this._getEditor();let{adapter:t}=this.option();if(!t){if(e){var n;t=new jI(e,this),(n=t)===null||n===void 0||(n=n.validationRequestsCallbacks)===null||n===void 0||n.push((o=>{var r;(r=this._validationInfo)!==null&&r!==void 0&&r.skipValidation||this.validate(o)})),this.option("adapter",t);return}throw Ne.Error("E0120")}const s=t.validationRequestsCallbacks;s&&s.push((o=>{this.validate(o)}))}_toggleRTLDirection(e){var t;const{adapter:n}=this.option(),s=(n==null||(t=n.editor)===null||t===void 0?void 0:t.option("rtlEnabled"))??e;super._toggleRTLDirection(s)}_initMarkup(){this.$element().addClass("dx-validator"),super._initMarkup()}_render(){super._render(),this._toggleAccessibilityAttributes()}_toggleAccessibilityAttributes(){const e=this._getEditor();if(e){const n=(this.option("validationRules")||[]).some((s=>{let{type:o}=s;return o==="required"}))||null;e.isInitialized()&&e.setAria("required",n),e.option("_onMarkupRendered",(()=>{e.setAria("required",n)}))}}_visibilityChanged(e){e&&this._initGroupRegistration()}_optionChanged(e){switch(e.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(Ce.synchronizeValidationOptions(e,this.option()));break;default:super._optionChanged(e)}}_getValidationRules(){return this._validationRules||(this._validationRules=qe(this.option("validationRules"),((e,t)=>I({},e,{validator:this,index:t})))),this._validationRules}_findGroup(){const e=this.$element(),{validationGroup:t}=this.option();return t||Ce.findGroup(e,this._modelByElement(e))}_resetValidationRules(){delete this._validationRules}validate(e){var t,n,s,o,r;const{adapter:a,name:l}=this.option(),c=a==null||(t=a.bypass)===null||t===void 0?void 0:t.call(a),d=e&&e.value!==void 0?e.value:a==null||(n=a.getValue)===null||n===void 0?void 0:n.call(a),h=a==null||(s=a.getCurrentValidationError)===null||s===void 0?void 0:s.call(a),p=this._getValidationRules(),m=(o=this._validationInfo)===null||o===void 0?void 0:o.result;if(m&&m.status==="pending"&&m.value===d)return I({},m);let g;return c?g={isValid:!0,status:"valid"}:h!=null&&h.editorSpecific?(h.validator=this,g={isValid:!1,status:"invalid",brokenRule:h,brokenRules:[h]}):g=Ce.validate(d,p,l),g.id=new $e().toString(),this._applyValidationResult(g,a),(r=g.complete)===null||r===void 0||r.then((f=>{f.id===this._validationInfo.result.id&&this._applyValidationResult(f,a)})),I({},this._validationInfo.result)}reset(){const{adapter:e}=this.option(),t={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:"valid",complete:null};this._validationInfo.skipValidation=!0,e.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(t,e)}_updateValidationResult(e){if(!this._validationInfo.result||this._validationInfo.result.id!==e.id){const t=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=I({},e,{complete:t})}else for(const t in e)t!=="id"&&t!=="complete"&&(this._validationInfo.result[t]=e[t])}_applyValidationResult(e,t){const n=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(e.validator=this,this._updateValidationResult(e),t.applyValidationResults&&t.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status==="pending"){this._validationInfo.deferred||(this._validationInfo.deferred=A(),this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!=="pending"&&(n(e),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(e),this._validationInfo.deferred=null))}focus(){const{adapter:e}=this.option();e&&e.focus&&e.focus()}_useTemplates(){return!1}}ve("dxValidator",Sc);class qI extends ii{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),Ce.addGroup(this,!1)}_initMarkup(){const e=this.$element();e.addClass("dx-validationgroup"),e.find(".dx-validator").each(((t,n)=>{Sc.getInstance(u(n))._initGroupRegistration()})),e.find(".dx-validationsummary").each(((t,n)=>{bc.getInstance(u(n)).refreshValidationGroup()})),super._initMarkup()}validate(){return Ce.validateGroup(this)}reset(){return Ce.resetGroup(this)}_dispose(){Ce.removeGroup(this),this.$element().removeClass("dx-validationgroup"),super._dispose()}_useTemplates(){return!1}}ve("dxValidationGroup",qI);const pf=ot.getWindow(),YI={observe:M,unobserve:M,disconnect:M};class XI{constructor(){if(!ot.hasWindow()||!pf.ResizeObserver)return YI;this._callbacksMap=new Map,this._observer=new pf.ResizeObserver((e=>{e.forEach((t=>{var n;(n=this._callbacksMap.get(t.target))===null||n===void 0||n(t)}))}))}observe(e,t){this._callbacksMap.set(e,t),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}}const ni=new XI,is=Ee(),mf=we(),ZI=ti.add,JI=Xn,QI=cr;let ho=new A;const ff="link[rel=dx-theme]",ew="data-theme",tw="data-active";let bi,Ec,Si,It,zi,_f=15e3;function Ic(){if(!te())return null;const i=u("<div>",bi).addClass("dx-theme-marker").appendTo(bi.documentElement);let e;try{return e=mf.getComputedStyle(i.get(0)).fontFamily,!e||(e=e.replace(/["']/g,""),e.substr(0,3)!=="dx.")?null:e.substr(3)}finally{i.remove()}}function gf(i){let e,t,n=!0;zi=i;function s(){zi=null,clearInterval(t),n=!0,is.fire(),is.empty(),ho.resolve()}if(vf()||!_f)s();else{if(!n){zi&&(zi=i);return}e=Date.now(),n=!1,t=setInterval((function(){const o=vf(),r=!o&&Date.now()-e>_f;r&&Ne.log("W0004",zi),(o||r)&&s()}),10)}}function vf(){if(!zi)return!0;const i=zi==="any";if(ho.state()==="resolved"&&i)return!0;const e=Ic();return e&&i?!0:e===zi}function iw(){const i=u(ff,bi);i.length&&(Si={},Ec=u(Za("<link rel=stylesheet>"),bi),i.each((function(){const e=u(this,bi),t=e.attr(ew),n=e.attr("href"),s=e.attr(tw)==="true";Si[t]={url:n,isActive:s}})),i.last().after(Ec),i.remove())}function nw(i){const e=i?i.split("."):[];let t=null;if(Si){if(i in Si)return i;S(Si,(function(n,s){const o=n.split(".");if(!(e[0]&&o[0]!==e[0])&&!(e[1]&&e[1]!==o[1])&&!(e[2]&&e[2]!==o[2])&&((!t||s.isActive)&&(t=n),s.isActive))return!1}))}return t}function sw(i){try{i!==bi&&(Si=null)}catch{Si=null}bi=i}function xf(i){i=i||{},sw(i.context||D.getDocument()),bi&&(iw(),It=void 0,ke(i))}function ke(i){if(!arguments.length)return It=It||Ic(),It;Cf(JI()),i=i||{},typeof i=="string"&&(i={theme:i});const e=i._autoInit,t=i.loadCallback;let n;if(It=nw(i.theme||It),It&&(n=Si[It]),t&&is.add(t),n)Ec.attr("href",Si[It].url),(is.has()||ho.state()!=="resolved"||i._forceTimeout)&&gf(It);else if(e)te()&&gf("any"),is.fire(),is.empty();else throw Ne.Error("E0021",It);ho.done((()=>yf(Qh(),It)))}function ow(i){i=i||ke();const e=[],t=i&&i.split(".");return t&&(e.push("dx-theme-"+t[0],"dx-theme-"+t[0]+"-typography"),t.length>1&&e.push("dx-color-scheme-"+t[1]+(si(i)?"-"+t[2]:""))),e}let Mr;function rw(i,e){Mr=ow(e).join(" "),u(i).addClass(Mr),(function(){const t=te()&&mf.devicePixelRatio;if(!t||t<2)return;const n=u("<div>");n.css("border",".5px solid transparent"),u("body").append(n),He(n)===1&&(u(i).addClass("dx-hairlines"),Mr+=" dx-hairlines"),n.remove()})()}function yf(i,e){Ie(Go).done((()=>{rw(i,e)}))}function Cf(i){Ie(Go).done((()=>{u(i).removeClass(Mr)}))}function wc(i,e){return e||(e=It||Ic()),new RegExp(i).test(e)}function si(i){return wt(i)||oi(i)}function wt(i){return wc("material",i)}function oi(i){return wc("fluent",i)}function aw(i){return wc("generic",i)}function lw(i,e){const t=D.getDocument(),n=t.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=e,n.innerHTML=i,t.body.appendChild(n);const s=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";const o=n.offsetWidth;return n.parentNode.removeChild(n),s!==o}function cw(i,e){return new Promise((t=>{const n=()=>{clearInterval(s),clearTimeout(o),t()},s=setInterval((()=>{lw(i,e)&&n()}),15),o=setTimeout(n,2e3)}))}function bf(){if(xf({_autoInit:!0,_forceTimeout:!0}),u(ff,bi).length)throw Ne.Error("E0022")}te()?bf():ZI(bf),QI.add((function(i,e){ho.done((function(){Cf(e),yf(i)}))})),B.changed.add((function(){xf({_autoInit:!0})}));class Sf extends Ni{_initMarkup(){this._asyncTemplateItemsMap={},super._initMarkup()}_render(){super._render(),this._planPostRenderActions()}_renderItemContent(e){const t=A(),n=A(),s=`dx${new $e}`;this._asyncTemplateItemsMap[s]=n;const o=super._renderItemContent(C({},e,{uniqueKey:s}));return n.done((()=>{t.resolve(o)})),t.promise()}_onItemTemplateRendered(e,t){return()=>{const{uniqueKey:n}=t;if(n){var s;(s=this._asyncTemplateItemsMap[n])===null||s===void 0||s.resolve()}}}_postProcessRenderItems(){}_planPostRenderActions(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=A(),o=Object.values(this._asyncTemplateItemsMap);return Ie.apply(this,o).done((()=>{this._postProcessRenderItems(...t),s.resolve().done((()=>{this._asyncTemplateItemsMap={}}))})),s.promise()}_clean(){super._clean(),Object.values(this._asyncTemplateItemsMap).forEach((t=>{t.reject()})),this._asyncTemplateItemsMap={}}}const Rr="dx-toolbar",dw="dxToolbarItemDataKey";class uw extends Sf{_getSynchronizableOptionsForCreateComponent(){return super._getSynchronizableOptionsForCreateComponent().filter((e=>e!=="disabled"))}_initTemplates(){super._initTemplates();const e=new so(((t,n,s)=>{if(J(n)){const{text:o,html:r,widget:a}=n;o&&t.text(o).wrapInner("<div>"),r&&t.html(r),a==="dxDropDownButton"&&(n.options=n.options??{},y(n.options.stylingMode)||(n.options.stylingMode=this.option("useFlatButtons")?"text":"contained")),a==="dxButton"&&(this.option("useFlatButtons")&&(n.options=n.options??{},n.options.stylingMode=n.options.stylingMode??"text"),this.option("useDefaultButtons")&&(n.options=n.options??{},n.options.type=n.options.type??"default"))}else t.text(String(n));this._getTemplate("dx-polymorph-widget").render({container:t,model:s,parent:this})}),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})}_getDefaultOptions(){return C({},super._getDefaultOptions(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>si(ke()),options:{useFlatButtons:!0}}])}_itemContainer(){return this._$toolbarItemsContainer.find([".dx-toolbar-before",".dx-toolbar-center",".dx-toolbar-after"].join(","))}_itemClass(){return"dx-toolbar-item"}_itemDataKey(){return dw}_dimensionChanged(e){this._disposed||(this._arrangeItems(),this._applyCompactMode())}_initMarkup(){this._renderToolbar(),this._renderSections(),super._initMarkup()}_render(){super._render(),this._updateDimensionsInMaterial()}_postProcessRenderItems(){this._arrangeItems()}_renderToolbar(){this.$element().addClass(Rr),this._$toolbarItemsContainer=u("<div>").addClass("dx-toolbar-items-container").appendTo(this.$element()),this.setAria("role","toolbar")}_renderSections(){const e=this._$toolbarItemsContainer;S(["before","center","after"],((t,n)=>{const s=`dx-toolbar-${n}`;e.find(`.${s}`).length||(this[`_$${n}Section`]=u("<div>").addClass(s).attr("role","presentation").appendTo(e))}))}_arrangeItems(e){var t,n,s,o;const r=e??me(this.$element());(t=this._$centerSection)===null||t===void 0||t.css({margin:"0 auto",float:"none"});const a=Fi((n=this._$beforeSection)===null||n===void 0?void 0:n.get(0)),l=Fi((s=this._$afterSection)===null||s===void 0?void 0:s.get(0));this._alignCenterSection(a,l,r);const c=this._$toolbarItemsContainer.find(".dx-toolbar-label").eq(0),d=c.parent();if(!c.length)return;const h=a.width?a.width:(o=c.position())===null||o===void 0?void 0:o.left,p=d.hasClass("dx-toolbar-before")?0:h,m=d.hasClass("dx-toolbar-after")?0:l.width;let g=0;d.children().not(".dx-toolbar-label").each(((b,w)=>{g+=Ue(w)}));const f=r-g,v=Math.max(f-p-m,0);if(d.hasClass("dx-toolbar-before"))this._$beforeSection&&this._alignSection(this._$beforeSection,v);else{const b=Ue(c)-me(c);c.css("maxWidth",v-b)}}_alignCenterSection(e,t,n){if(!this._$centerSection)return;this._alignSection(this._$centerSection,n-e.width-t.width);const s=this.option("rtlEnabled"),o=s?t:e,r=s?e:t,a=Fi(this._$centerSection.get(0));(o.right>a.left||a.right>r.left)&&this._$centerSection.css({marginLeft:o.width,marginRight:r.width,float:o.width>r.width?"none":"right"})}_alignSection(e,t){const s=e.find(".dx-toolbar-label").toArray(),o=t-this._getCurrentLabelsPaddings(s),r=this._getCurrentLabelsWidth(s),a=Math.abs(r-o);if(o<r){const l=s.reverse();this._alignSectionLabels(l,a,!1)}else this._alignSectionLabels(s,a,!0)}_alignSectionLabels(e,t,n){const s=o=>Fi(o).width;for(let o=0;o<e.length;o++){const r=u(e[o]),a=Math.ceil(s(e[o]));let l=0;n&&r.css("maxWidth","inherit");const c=n?s(e[o]):a,d=Math.ceil(c);if(d<t)l=n?d:0,t-=d;else{l=n?a+t:a-t,r.css("maxWidth",l);break}r.css("maxWidth",l)}}_applyCompactMode(){const e=u(this.element());e.removeClass("dx-toolbar-compact"),this.option("compactMode")&&this._getSummaryItemsSize("width",this._itemElements(),!0)>me(e)&&e.addClass("dx-toolbar-compact")}_getCurrentLabelsWidth(e){let t=0;return e.forEach((n=>{t+=Ue(n)})),t}_getCurrentLabelsPaddings(e){let t=0;return e.forEach((n=>{t+=Ue(n)-me(n)})),t}_renderItem(e,t,n,s){const o=t.location??"center",r=n??this[`_$${o}Section`],a=!!(t.text??t.html),l=super._renderItem(e,t,r,s);return l.toggleClass("dx-toolbar-button",!a).toggleClass("dx-toolbar-label",a).addClass(t.cssClass??""),l}_renderGroupedItems(){S(this.option("items"),((e,t)=>{const n=t.items,s=u("<div>").addClass("dx-toolbar-group"),o=t.location??"center";n!=null&&n.length&&(S(n,((r,a)=>{this._renderItem(r,a,s)})),this._$toolbarItemsContainer.find(`.dx-toolbar-${o}`).append(s))}))}_renderItems(e){this.option("grouped")&&e.length&&e[0].items?this._renderGroupedItems():super._renderItems(e)}_getToolbarItems(){const{items:e=[]}=this.option();return e}_renderContentImpl(){const e=this._getToolbarItems();this.$element().toggleClass("dx-toolbar-mini",e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()}_renderEmptyMessage(){}_clean(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}_visibilityChanged(e){e&&this._arrangeItems()}_isVisible(){return me(this.$element())>0&&Oe(this.$element())>0}_getIndexByItem(e){return this._getToolbarItems().indexOf(e)}_itemOptionChanged(e,t,n,s){super._itemOptionChanged(e,t,n,s),this._arrangeItems()}_optionChanged(e){const{name:t}=e;switch(t){case"width":super._optionChanged(e),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:super._optionChanged(e)}}_dispose(){super._dispose(),clearTimeout(this._waitParentAnimationTimeout)}_updateDimensionsInMaterial(){if(wt(ke())){const e=()=>new Promise((n=>{const s=()=>{let r=!0;return this.$element().parents().each(((a,l)=>Te.isAnimating(u(l).get(0))?(r=!1,!1):!0)),r&&n(),r},o=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout((()=>s()||o()),15)};o()})),t=()=>{const n=this.$element().find(".dx-toolbar-label"),s=[];return n.each(((o,r)=>{const a=u(r).text(),l=u(r).css("fontWeight");return s.push(cw(a,l)),!0})),Promise.all(s)};Promise.all([e(),t()]).then((()=>{this._dimensionChanged()}))}}}ve("dxToolbarBase",uw);const Pr=i=>!i||typeof i!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(i)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(i)?"image":/^[\w-_]+$/.test(i)?"dxIcon":/^\s?([\w-_:]\s?)+$/.test(i)?"fontIcon":!1,Dc=i=>{switch(Pr(i)){case"image":return u("<img>").attr("src",i).addClass("dx-icon");case"fontIcon":return u("<i>").addClass(`dx-icon ${i}`);case"dxIcon":return u("<i>").addClass(`dx-icon dx-icon-${i}`);case"svg":return u("<i>").addClass("dx-icon dx-svg-icon").append(i);default:return null}};var po=Array.isArray;function $r(i){var e=typeof i;return e==="string"||e==="number"}function ue(i){return i==null}function mo(i){return i===null||i===!1||i===!0||i===void 0}function _e(i){return typeof i=="function"}function fo(i){return typeof i=="string"}function hw(i){return typeof i=="number"}function _t(i){return i===null}function pw(i){return i===void 0}function Gi(i,e){var t={};if(i)for(var n in i)t[n]=i[n];if(e)for(var s in e)t[s]=e[s];return t}function Tc(i){return!_t(i)&&typeof i=="object"}var Ze={},mw="$F",In=function(){this.componentDidAppear=[],this.componentWillDisappear=[],this.componentWillMove=[]};function Ac(i){return i.substring(2).toLowerCase()}function Ef(i,e){i.appendChild(e)}function Br(i,e,t){_t(t)?Ef(i,e):i.insertBefore(e,t)}function fw(i,e){return e?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i)}function _w(i,e,t){i.replaceChild(e,t)}function If(i,e){i.removeChild(e)}function wf(i){for(var e=0;e<i.length;e++)i[e]()}function gw(i,e,t){var n=i.children;return t&4?n.$LI:t&8192?i.childFlags===2?n:n[e?0:n.length-1]:n}function Ct(i,e){for(var t;i;){if(t=i.flags,t&1521)return i.dom;i=gw(i,e,t)}return null}function Vr(i,e){for(var t=i.length,n;(n=i.pop())!==void 0;)n(function(){--t<=0&&_e(e)&&e()})}function vw(i){for(var e=0;e<i.length;e++)i[e].fn();for(var t=0;t<i.length;t++){var n=i[t];Br(n.parent,n.dom,n.next)}i.splice(0,i.length)}function Lr(i,e,t){do{var n=i.flags;if(n&1521){(!t||i.dom.parentNode===e)&&If(e,i.dom);return}var s=i.children;if(n&4&&(i=s.$LI),n&8&&(i=s),n&8192)if(i.childFlags===2)i=s;else{for(var o=0,r=s.length;o<r;++o)Lr(s[o],e,!1);return}}while(i)}function xw(i,e){return function(){Lr(i,e,!0)}}function Fr(i,e,t){t.componentWillDisappear.length>0?Vr(t.componentWillDisappear,xw(i,e)):Lr(i,e,!1)}function yw(i,e,t,n,s,o,r,a){i.componentWillMove.push({dom:n,fn:function(){r&4?t.componentWillMove(e,s,n):r&8&&t.onComponentWillMove(e,s,n,a)},next:o,parent:s})}function Df(i,e,t,n,s){var o,r,a=e.flags;do{var l=e.flags;if(l&1521){!ue(o)&&(_e(o.componentWillMove)||_e(o.onComponentWillMove))?yw(s,i,o,e.dom,t,n,a,r):Br(t,e.dom,n);return}var c=e.children;if(l&4)o=e.children,r=e.props,e=c.$LI;else if(l&8)o=e.ref,r=e.props,e=c;else if(l&8192)if(e.childFlags===2)e=c;else{for(var d=0,h=c.length;d<h;++d)Df(i,c[d],t,n,s);return}}while(e)}function Tf(i,e,t){return i.constructor.getDerivedStateFromProps?Gi(t,i.constructor.getDerivedStateFromProps(e,t)):t}var _o={v:!1},Af={componentComparator:null,createVNode:null,renderComplete:null};function go(i,e){i.textContent=e}function Of(i,e){return Tc(i)&&i.event===e.event&&i.data===e.data}function kf(i,e){for(var t in e)pw(i[t])&&(i[t]=e[t]);return i}function Oc(i,e){return!!_e(i)&&(i(e),!0)}var vo="$";function Hr(i,e,t,n,s,o,r,a){this.childFlags=i,this.children=e,this.className=t,this.dom=null,this.flags=n,this.key=s===void 0?null:s,this.props=o===void 0?null:o,this.ref=r===void 0?null:r,this.type=a}function ht(i,e,t,n,s,o,r,a){var l=s===void 0?1:s,c=new Hr(l,n,t,i,r,o,a,e);return l===0&&Rf(c,c.children),c}function Cw(i,e,t){if(i&4)return t;var n=(i&32768?e.render:e).defaultHooks;return ue(n)?t:ue(t)?n:kf(t,n)}function bw(i,e,t){var n=(i&32768?e.render:e).defaultProps;return ue(n)?t:ue(t)?Gi(n,null):kf(t,n)}function Sw(i,e){return i&12?i:e.prototype&&e.prototype.render?4:e.render?32776:8}function qt(i,e,t,n,s){i=Sw(i,e);var o=new Hr(1,null,null,i,n,bw(i,e,t),Cw(i,e,s),e);return o}function xo(i,e){return new Hr(1,ue(i)||i===!0||i===!1?"":i,null,16,e,null,null,null)}function ns(i,e,t){var n=ht(8192,8192,null,i,e,null,t,null);switch(n.childFlags){case 1:n.children=Nr(),n.childFlags=2;break;case 16:n.children=[xo(i)],n.childFlags=4;break}return n}function Ki(i){var e=i.props;if(e){var t=i.flags;t&481&&(e.children!==void 0&&ue(i.children)&&Rf(i,e.children),e.className!==void 0&&(ue(i.className)&&(i.className=e.className||null),e.className=void 0)),e.key!==void 0&&(i.key=e.key,e.key=void 0),e.ref!==void 0&&(t&8?i.ref=Gi(i.ref,e.ref):i.ref=e.ref,e.ref=void 0)}return i}function Ew(i){var e=i.children,t=i.childFlags;return ns(t===2?Je(e):e.map(Je),t,i.key)}function Je(i){var e=i.flags&-16385,t=i.props;if(e&14&&!_t(t)){var n=t;t={};for(var s in n)t[s]=n[s]}return(e&8192)===0?new Hr(i.childFlags,i.children,i.className,e,i.key,t,i.ref,i.type):Ew(i)}function Nr(){return xo("",null)}function Mf(i,e,t,n){for(var s=i.length;t<s;t++){var o=i[t];if(!mo(o)){var r=n+vo+t;if(po(o))Mf(o,e,0,r);else{if($r(o))o=xo(o,r);else{var a=o.key,l=fo(a)&&a[0]===vo;(o.flags&81920||l)&&(o=Je(o)),o.flags|=65536,l?a.substring(0,n.length)!==n&&(o.key=n+a):_t(a)?o.key=r:o.key=n+a}e.push(o)}}}}function Iw(i){switch(i){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case mw:return 8192;default:return 1}}function Rf(i,e){var t,n=1;if(mo(e))t=e;else if($r(e))n=16,t=e;else if(po(e)){for(var s=e.length,o=0;o<s;++o){var r=e[o];if(mo(r)||po(r)){t=t||e.slice(0,o),Mf(e,t,o,"");break}else if($r(r))t=t||e.slice(0,o),t.push(xo(r,vo+o));else{var a=r.key,l=(r.flags&81920)>0,c=_t(a),d=fo(a)&&a[0]===vo;l||c||d?(t=t||e.slice(0,o),(l||d)&&(r=Je(r)),(c||d)&&(r.key=vo+o),t.push(r)):t&&t.push(r),r.flags|=65536}}t=t||e,t.length===0?n=1:n=8}else t=e,t.flags|=65536,e.flags&81920&&(t=Je(e)),n=2;return i.children=t,i.childFlags=n,i}function Wr(i){return mo(i)||$r(i)?xo(i,null):po(i)?ns(i,0,null):i.flags&16384?Je(i):i}var wn="http://www.w3.org/1999/xlink",kc="http://www.w3.org/XML/1998/namespace",Pf={"xlink:actuate":wn,"xlink:arcrole":wn,"xlink:href":wn,"xlink:role":wn,"xlink:show":wn,"xlink:title":wn,"xlink:type":wn,"xml:base":kc,"xml:lang":kc,"xml:space":kc};function zr(i){return{onClick:i,onDblClick:i,onFocusIn:i,onFocusOut:i,onKeyDown:i,onKeyPress:i,onKeyUp:i,onMouseDown:i,onMouseMove:i,onMouseUp:i,onTouchEnd:i,onTouchMove:i,onTouchStart:i}}var $f=zr(0),Mc=zr(null),Bf=zr(!0);function Vf(i,e){var t=e.$EV;return t||(t=e.$EV=zr(null)),t[i]||++$f[i]===1&&(Mc[i]=Rw(i)),t}function Lf(i,e){var t=e.$EV;t&&t[i]&&(--$f[i]===0&&(document.removeEventListener(Ac(i),Mc[i]),Mc[i]=null),t[i]=null)}function ww(i,e,t,n){if(_e(t))Vf(i,n)[i]=t;else if(Tc(t)){if(Of(e,t))return;Vf(i,n)[i]=t}else Lf(i,n)}function Dw(i){return _e(i.composedPath)?i.composedPath()[0]:i.target}function Ff(i,e,t,n){var s=Dw(i);do{if(e&&s.disabled)return;var o=s.$EV;if(o){var r=o[t];if(r&&(n.dom=s,r.event?r.event(r.data,i):r(i),i.cancelBubble))return}s=s.parentNode}while(!_t(s))}function Tw(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function Aw(){return this.defaultPrevented}function Ow(){return this.cancelBubble}function Hf(i){var e={dom:document};return i.isDefaultPrevented=Aw,i.isPropagationStopped=Ow,i.stopPropagation=Tw,Object.defineProperty(i,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function kw(i){return function(e){if(e.button!==0){e.stopPropagation();return}Ff(e,!0,i,Hf(e))}}function Mw(i){return function(e){Ff(e,!1,i,Hf(e))}}function Rw(i){var e=i==="onClick"||i==="onDblClick"?kw(i):Mw(i);return document.addEventListener(Ac(i),e),e}function Pw(i,e){var t=document.createElement("i");return t.innerHTML=e,t.innerHTML===i.innerHTML}function Nf(i,e,t){if(i[e]){var n=i[e];n.event?n.event(n.data,t):n(t)}else{var s=e.toLowerCase();i[s]&&i[s](t)}}function yo(i,e){var t=function(s){var o=this.$V;if(o){var r=o.props||Ze,a=o.dom;if(fo(i))Nf(r,i,s);else for(var l=0;l<i.length;++l)Nf(r,i[l],s);if(_e(e)){var c=this.$V,d=c.props||Ze;e(d,a,!1,c)}}};return Object.defineProperty(t,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),t}function Dn(i,e,t){var n="$"+e,s=i[n];if(s){if(s[1].wrapped)return;i.removeEventListener(s[0],s[1]),i[n]=null}_e(t)&&(i.addEventListener(e,t),i[n]=[e,t])}function Rc(i){return i==="checkbox"||i==="radio"}var $w=yo("onInput",Pc),Bw=yo(["onClick","onChange"],Pc);function Wf(i){i.stopPropagation()}Wf.wrapped=!0;function Vw(i,e){Rc(e.type)?(Dn(i,"change",Bw),Dn(i,"click",Wf)):Dn(i,"input",$w)}function Pc(i,e){var t=i.type,n=i.value,s=i.checked,o=i.multiple,r=i.defaultValue,a=!ue(n);t&&t!==e.type&&e.setAttribute("type",t),!ue(o)&&o!==e.multiple&&(e.multiple=o),!ue(r)&&!a&&(e.defaultValue=r+""),Rc(t)?(a&&(e.value=n),ue(s)||(e.checked=s)):a&&e.value!==n?(e.defaultValue=n,e.value=n):ue(s)||(e.checked=s)}function Co(i,e){if(i.type==="option")Lw(i,e);else{var t=i.children,n=i.flags;if(n&4)Co(t.$LI,e);else if(n&8)Co(t,e);else if(i.childFlags===2)Co(t,e);else if(i.childFlags&12)for(var s=0,o=t.length;s<o;++s)Co(t[s],e)}}function Lw(i,e){var t=i.props||Ze,n=i.dom;n.value=t.value,t.value===e||po(e)&&e.indexOf(t.value)!==-1?n.selected=!0:(!ue(e)||!ue(t.selected))&&(n.selected=t.selected||!1)}var Fw=yo("onChange",zf);function Hw(i){Dn(i,"change",Fw)}function zf(i,e,t,n){var s=!!i.multiple;!ue(i.multiple)&&s!==e.multiple&&(e.multiple=s);var o=i.selectedIndex;o===-1&&(e.selectedIndex=-1);var r=n.childFlags;if(r!==1){var a=i.value;hw(o)&&o>-1&&e.options[o]&&(a=e.options[o].value),t&&ue(a)&&(a=i.defaultValue),Co(n,a)}}var Nw=yo("onInput",Gf),Ww=yo("onChange");function zw(i,e){Dn(i,"input",Nw),e.onChange&&Dn(i,"change",Ww)}function Gf(i,e,t){var n=i.value,s=e.value;if(ue(n)){if(t){var o=i.defaultValue;!ue(o)&&o!==s&&(e.defaultValue=o,e.value=o)}}else s!==n&&(e.defaultValue=n,e.value=n)}function Kf(i,e,t,n,s,o){i&64?Pc(n,t):i&256?zf(n,t,s,e):i&128&&Gf(n,t,s),o&&(t.$V=e)}function Gw(i,e,t){i&64?Vw(e,t):i&256?Hw(e):i&128&&zw(e,t)}function Uf(i){return i.type&&Rc(i.type)?!ue(i.checked):!ue(i.value)}function Ht(){return{current:null}}function Gr(i){i&&!Oc(i,null)&&i.current&&(i.current=null)}function bo(i,e,t){i&&(_e(i)||i.current!==void 0)&&t.push(function(){!Oc(i,e)&&i.current!==void 0&&(i.current=e)})}function Yt(i,e,t){Ei(i,t),Fr(i,e,t)}function Ei(i,e){var t=i.flags,n=i.children,s;if(t&481){s=i.ref;var o=i.props;Gr(s);var r=i.childFlags;if(!_t(o))for(var a=Object.keys(o),l=0,c=a.length;l<c;l++){var d=a[l];Bf[d]&&Lf(d,i.dom)}r&12?So(n,e):r===2&&Ei(n,e)}else if(n)if(t&4){_e(n.componentWillUnmount)&&n.componentWillUnmount();var h=e;_e(n.componentWillDisappear)&&(h=new In,jf(e,n,n.$LI.dom,t,void 0)),Gr(i.ref),n.$UN=!0,Ei(n.$LI,h)}else if(t&8){var p=e;if(s=i.ref,!ue(s)){var m=null;_e(s.onComponentWillUnmount)&&(m=Ct(i,!0),s.onComponentWillUnmount(m,i.props||Ze)),_e(s.onComponentWillDisappear)&&(p=new In,m=m||Ct(i,!0),jf(e,s,m,t,i.props))}Ei(n,p)}else t&1024?Yt(n,i.ref,e):t&8192&&i.childFlags&12&&So(n,e)}function So(i,e){for(var t=0,n=i.length;t<n;++t)Ei(i[t],e)}function Kw(i,e){return function(){if(e)for(var t=0;t<i.length;t++){var n=i[t];Lr(n,e,!1)}}}function Kr(i,e,t){t.componentWillDisappear.length>0?Vr(t.componentWillDisappear,Kw(e,i)):i.textContent=""}function Ur(i,e,t,n){So(t,n),e.flags&8192?Fr(e,i,n):Kr(i,t,n)}function jf(i,e,t,n,s){i.componentWillDisappear.push(function(o){n&4?e.componentWillDisappear(t,o):n&8&&e.onComponentWillDisappear(t,s,o)})}function Uw(i){var e=i.event;return function(t){e(i.data,t)}}function jw(i,e,t,n){if(Tc(t)){if(Of(e,t))return;t=Uw(t)}Dn(n,Ac(i),t)}function qw(i,e,t){if(ue(e)){t.removeAttribute("style");return}var n=t.style,s,o;if(fo(e)){n.cssText=e;return}if(!ue(i)&&!fo(i)){for(s in e)o=e[s],o!==i[s]&&n.setProperty(s,o);for(s in i)ue(e[s])&&n.removeProperty(s)}else for(s in e)o=e[s],n.setProperty(s,o)}function Yw(i,e,t,n,s){var o=i&&i.__html||"",r=e&&e.__html||"";o!==r&&!ue(r)&&!Pw(n,r)&&(_t(t)||(t.childFlags&12?So(t.children,s):t.childFlags===2&&Ei(t.children,s),t.children=null,t.childFlags=1),n.innerHTML=r)}function $c(i,e,t,n,s,o,r,a){switch(i){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":n.autofocus=!!t;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[i]=!!t;break;case"defaultChecked":case"value":case"volume":if(o&&i==="value")break;var l=ue(t)?"":t;n[i]!==l&&(n[i]=l);break;case"style":qw(e,t,n);break;case"dangerouslySetInnerHTML":Yw(e,t,r,n,a);break;default:Bf[i]?ww(i,e,t,n):i.charCodeAt(0)===111&&i.charCodeAt(1)===110?jw(i,e,t,n):ue(t)?n.removeAttribute(i):s&&Pf[i]?n.setAttributeNS(Pf[i],i,t):n.setAttribute(i,t);break}}function qf(i,e,t,n,s,o){var r=!1,a=(e&448)>0;a&&(r=Uf(t),r&&Gw(e,n,t));for(var l in t)$c(l,null,t[l],n,s,r,null,o);a&&Kf(e,i,n,t,!0,r)}function Yf(i,e,t){var n=Wr(i.render(e,i.state,t)),s=t;return _e(i.getChildContext)&&(s=Gi(t,i.getChildContext())),i.$CX=s,n}function Xf(i,e,t,n,s,o){var r=new e(t,n),a=r.$N=!!(e.getDerivedStateFromProps||r.getSnapshotBeforeUpdate);if(r.$SVG=s,r.$L=o,i.children=r,r.$BS=!1,r.context=n,r.props===Ze&&(r.props=t),a)r.state=Tf(r,t,r.state);else if(_e(r.componentWillMount)){r.$BR=!0,r.componentWillMount();var l=r.$PS;if(!_t(l)){var c=r.state;if(_t(c))r.state=l;else for(var d in l)c[d]=l[d];r.$PS=null}r.$BR=!1}return r.$LI=Yf(r,t,n),r}function Bc(i,e){var t=i.props||Ze;return i.flags&32768?i.type.render(t,i.ref,e):i.type(t,e)}function Qe(i,e,t,n,s,o,r){var a=i.flags|=16384;a&481?Jf(i,e,t,n,s,o,r):a&4?Jw(i,e,t,n,s,o,r):a&8?Qw(i,e,t,n,s,o,r):a&16?Zf(i,e,s):a&8192?Zw(i,t,e,n,s,o,r):a&1024&&Xw(i,t,e,s,o,r)}function Xw(i,e,t,n,s,o){Qe(i.children,i.ref,e,!1,null,s,o);var r=Nr();Zf(r,t,n),i.dom=r.dom}function Zw(i,e,t,n,s,o,r){var a=i.children,l=i.childFlags;l&12&&a.length===0&&(l=i.childFlags=2,a=i.children=Nr()),l===2?Qe(a,t,e,n,s,o,r):Tn(a,t,e,n,s,o,r)}function Zf(i,e,t){var n=i.dom=document.createTextNode(i.children);_t(e)||Br(e,n,t)}function Jf(i,e,t,n,s,o,r){var a=i.flags,l=i.props,c=i.className,d=i.childFlags,h=i.dom=fw(i.type,n=n||(a&32)>0),p=i.children;if(!ue(c)&&c!==""&&(n?h.setAttribute("class",c):h.className=c),d===16)go(h,p);else if(d!==1){var m=n&&i.type!=="foreignObject";d===2?(p.flags&16384&&(i.children=p=Je(p)),Qe(p,h,t,m,null,o,r)):(d===8||d===4)&&Tn(p,h,t,m,null,o,r)}_t(e)||Br(e,h,s),_t(l)||qf(i,a,l,h,n,r),bo(i.ref,h,o)}function Tn(i,e,t,n,s,o,r){for(var a=0;a<i.length;++a){var l=i[a];l.flags&16384&&(i[a]=l=Je(l)),Qe(l,e,t,n,s,o,r)}}function Jw(i,e,t,n,s,o,r){var a=Xf(i,i.type,i.props||Ze,t,n,o),l=r;_e(a.componentDidAppear)&&(l=new In),Qe(a.$LI,e,a.$CX,n,s,o,l),e_(i.ref,a,o,r)}function Qw(i,e,t,n,s,o,r){var a=i.ref,l=r;!ue(a)&&_e(a.onComponentDidAppear)&&(l=new In),Qe(i.children=Wr(Bc(i,t)),e,t,n,s,o,l),t_(i,o,r)}function eD(i){return function(){i.componentDidMount()}}function Qf(i,e,t,n,s){i.componentDidAppear.push(function(){n&4?e.componentDidAppear(t):n&8&&e.onComponentDidAppear(t,s)})}function e_(i,e,t,n){bo(i,e,t),_e(e.componentDidMount)&&t.push(eD(e)),_e(e.componentDidAppear)&&Qf(n,e,e.$LI.dom,4,void 0)}function tD(i,e){return function(){i.onComponentDidMount(Ct(e,!0),e.props||Ze)}}function t_(i,e,t){var n=i.ref;ue(n)||(Oc(n.onComponentWillMount,i.props||Ze),_e(n.onComponentDidMount)&&e.push(tD(n,i)),_e(n.onComponentDidAppear)&&Qf(t,n,Ct(i,!0),8,i.props))}function iD(i,e,t,n,s,o,r){Ei(i,r),(e.flags&i.flags&1521)!==0?(Qe(e,null,n,s,null,o,r),_w(t,e.dom,i.dom)):(Qe(e,t,n,s,Ct(i,!0),o,r),Fr(i,t,r))}function Ii(i,e,t,n,s,o,r,a){var l=e.flags|=16384;i.flags!==l||i.type!==e.type||i.key!==e.key||l&2048?i.flags&16384?iD(i,e,t,n,s,r,a):Qe(e,t,n,s,o,r,a):l&481?aD(i,e,n,s,l,r,a):l&4?dD(i,e,t,n,s,o,r,a):l&8?uD(i,e,t,n,s,o,r,a):l&16?hD(i,e):l&8192?oD(i,e,t,n,s,r,a):rD(i,e,n,r,a)}function nD(i,e,t){i!==e&&(i!==""?t.firstChild.nodeValue=e:go(t,e))}function sD(i,e){i.textContent!==e&&(i.textContent=e)}function oD(i,e,t,n,s,o,r){var a=i.children,l=e.children,c=i.childFlags,d=e.childFlags,h=null;d&12&&l.length===0&&(d=e.childFlags=2,l=e.children=Nr());var p=(d&2)!==0;if(c&12){var m=a.length;(c&8&&d&8||p||!p&&l.length>m)&&(h=Ct(a[m-1],!1).nextSibling)}Vc(c,d,a,l,t,n,s,h,i,o,r)}function rD(i,e,t,n,s){var o=i.ref,r=e.ref,a=e.children;if(Vc(i.childFlags,e.childFlags,i.children,a,o,t,!1,null,i,n,s),e.dom=i.dom,o!==r&&!mo(a)){var l=a.dom;If(o,l),Ef(r,l)}}function aD(i,e,t,n,s,o,r){var a=e.dom=i.dom,l=i.props,c=e.props,d=!1,h=!1,p;if(n=n||(s&32)>0,l!==c){var m=l||Ze;if(p=c||Ze,p!==Ze){d=(s&448)>0,d&&(h=Uf(p));for(var g in p){var f=m[g],v=p[g];f!==v&&$c(g,f,v,a,n,h,i,r)}}if(m!==Ze)for(var b in m)ue(p[b])&&!ue(m[b])&&$c(b,m[b],null,a,n,h,i,r)}var w=e.children,T=e.className;i.className!==T&&(ue(T)?a.removeAttribute("class"):n?a.setAttribute("class",T):a.className=T),s&4096?sD(a,w):Vc(i.childFlags,e.childFlags,i.children,w,a,t,n&&e.type!=="foreignObject",null,i,o,r),d&&Kf(s,e,a,p,!1,h);var H=e.ref,N=i.ref;N!==H&&(Gr(N),bo(H,a,o))}function lD(i,e,t,n,s,o,r){Ei(i,r),Tn(e,t,n,s,Ct(i,!0),o,r),Fr(i,t,r)}function Vc(i,e,t,n,s,o,r,a,l,c,d){switch(i){case 2:switch(e){case 2:Ii(t,n,s,o,r,a,c,d);break;case 1:Yt(t,s,d);break;case 16:Ei(t,d),go(s,n);break;default:lD(t,n,s,o,r,c,d);break}break;case 1:switch(e){case 2:Qe(n,s,o,r,a,c,d);break;case 1:break;case 16:go(s,n);break;default:Tn(n,s,o,r,a,c,d);break}break;case 16:switch(e){case 16:nD(t,n,s);break;case 2:Kr(s,t,d),Qe(n,s,o,r,a,c,d);break;case 1:Kr(s,t,d);break;default:Kr(s,t,d),Tn(n,s,o,r,a,c,d);break}break;default:switch(e){case 16:So(t,d),go(s,n);break;case 2:Ur(s,l,t,d),Qe(n,s,o,r,a,c,d);break;case 1:Ur(s,l,t,d);break;default:var h=t.length|0,p=n.length|0;h===0?p>0&&Tn(n,s,o,r,a,c,d):p===0?Ur(s,l,t,d):e===8&&i===8?mD(t,n,s,o,r,h,p,a,l,c,d):pD(t,n,s,o,r,h,p,a,c,d);break}break}}function cD(i,e,t,n,s){s.push(function(){i.componentDidUpdate(e,t,n)})}function i_(i,e,t,n,s,o,r,a,l,c){var d=i.state,h=i.props,p=!!i.$N,m=_e(i.shouldComponentUpdate);if(p&&(e=Tf(i,t,e!==d?Gi(d,e):e)),r||!m||m&&i.shouldComponentUpdate(t,e,s)){!p&&_e(i.componentWillUpdate)&&i.componentWillUpdate(t,e,s),i.props=t,i.state=e,i.context=s;var g=null,f=Yf(i,t,s);p&&_e(i.getSnapshotBeforeUpdate)&&(g=i.getSnapshotBeforeUpdate(h,d)),Ii(i.$LI,f,n,i.$CX,o,a,l,c),i.$LI=f,_e(i.componentDidUpdate)&&cD(i,h,d,g,l)}else i.props=t,i.state=e,i.context=s}function dD(i,e,t,n,s,o,r,a){var l=e.children=i.children;if(!_t(l)){l.$L=r;var c=e.props||Ze,d=e.ref,h=i.ref,p=l.state;if(!l.$N){if(_e(l.componentWillReceiveProps)){if(l.$BR=!0,l.componentWillReceiveProps(c,n),l.$UN)return;l.$BR=!1}_t(l.$PS)||(p=Gi(p,l.$PS),l.$PS=null)}i_(l,p,c,t,n,s,!1,o,r,a),h!==d&&(Gr(h),bo(d,l,r))}}function uD(i,e,t,n,s,o,r,a){var l=!0,c=e.props||Ze,d=e.ref,h=i.props,p=!ue(d),m=i.children;if(p&&_e(d.onComponentShouldUpdate)&&(l=d.onComponentShouldUpdate(h,c)),l!==!1){p&&_e(d.onComponentWillUpdate)&&d.onComponentWillUpdate(h,c);var g=Wr(Bc(e,n));Ii(m,g,t,n,s,o,r,a),e.children=g,p&&_e(d.onComponentDidUpdate)&&d.onComponentDidUpdate(h,c)}else e.children=m}function hD(i,e){var t=e.children,n=e.dom=i.dom;t!==i.children&&(n.nodeValue=t)}function pD(i,e,t,n,s,o,r,a,l,c){for(var d=o>r?r:o,h=0,p,m;h<d;++h)p=e[h],m=i[h],p.flags&16384&&(p=e[h]=Je(p)),Ii(m,p,t,n,s,a,l,c),i[h]=p;if(o<r)for(h=d;h<r;++h)p=e[h],p.flags&16384&&(p=e[h]=Je(p)),Qe(p,t,n,s,a,l,c);else if(o>r)for(h=d;h<o;++h)Yt(i[h],t,c)}function mD(i,e,t,n,s,o,r,a,l,c,d){var h=o-1,p=r-1,m=0,g=i[m],f=e[m],v,b;e:{for(;g.key===f.key;){if(f.flags&16384&&(e[m]=f=Je(f)),Ii(g,f,t,n,s,a,c,d),i[m]=f,++m,m>h||m>p)break e;g=i[m],f=e[m]}for(g=i[h],f=e[p];g.key===f.key;){if(f.flags&16384&&(e[p]=f=Je(f)),Ii(g,f,t,n,s,a,c,d),i[h]=f,h--,p--,m>h||m>p)break e;g=i[h],f=e[p]}}if(m>h){if(m<=p)for(v=p+1,b=v<r?Ct(e[v],!0):a;m<=p;)f=e[m],f.flags&16384&&(e[m]=f=Je(f)),++m,Qe(f,t,n,s,b,c,d)}else if(m>p)for(;m<=h;)Yt(i[m++],t,d);else fD(i,e,n,o,r,h,p,m,t,s,a,l,c,d)}function fD(i,e,t,n,s,o,r,a,l,c,d,h,p,m){var g,f,v=0,b=0,w=a,T=a,H=o-a+1,N=r-a+1,Y=new Int32Array(N+1),z=H===n,be=!1,q=0,de=0;if(s<4||(H|N)<32)for(b=w;b<=o;++b)if(g=i[b],de<N){for(a=T;a<=r;a++)if(f=e[a],g.key===f.key){if(Y[a-T]=b+1,z)for(z=!1;w<b;)Yt(i[w++],l,m);q>a?be=!0:q=a,f.flags&16384&&(e[a]=f=Je(f)),Ii(g,f,l,t,c,d,p,m),++de;break}!z&&a>r&&Yt(g,l,m)}else z||Yt(g,l,m);else{var Z={};for(b=T;b<=r;++b)Z[e[b].key]=b;for(b=w;b<=o;++b)if(g=i[b],de<N)if(a=Z[g.key],a!==void 0){if(z)for(z=!1;b>w;)Yt(i[w++],l,m);Y[a-T]=b+1,q>a?be=!0:q=a,f=e[a],f.flags&16384&&(e[a]=f=Je(f)),Ii(g,f,l,t,c,d,p,m),++de}else z||Yt(g,l,m);else z||Yt(g,l,m)}if(z)Ur(l,h,i,m),Tn(e,l,t,c,d,p,m);else if(be){var Re=_D(Y);for(a=Re.length-1,b=N-1;b>=0;b--)Y[b]===0?(q=b+T,f=e[q],f.flags&16384&&(e[q]=f=Je(f)),v=q+1,Qe(f,l,t,c,v<s?Ct(e[v],!0):d,p,m)):a<0||b!==Re[a]?(q=b+T,f=e[q],v=q+1,Df(h,f,l,v<s?Ct(e[v],!0):d,m)):a--;m.componentWillMove.length>0&&vw(m.componentWillMove)}else if(de!==N)for(b=N-1;b>=0;b--)Y[b]===0&&(q=b+T,f=e[q],f.flags&16384&&(e[q]=f=Je(f)),v=q+1,Qe(f,l,t,c,v<s?Ct(e[v],!0):d,p,m))}var wi,jr,n_=0;function _D(i){var e=0,t=0,n=0,s=0,o=0,r=0,a=0,l=i.length;for(l>n_&&(n_=l,wi=new Int32Array(l),jr=new Int32Array(l));t<l;++t)if(e=i[t],e!==0){if(n=wi[s],i[n]<e){jr[t]=n,wi[++s]=t;continue}for(o=0,r=s;o<r;)a=o+r>>1,i[wi[a]]<e?o=a+1:r=a;e<i[wi[o]]&&(o>0&&(jr[t]=wi[o-1]),wi[o]=t)}o=s+1;var c=new Int32Array(o);for(r=wi[o-1];o-- >0;)c[o]=r,r=jr[r],wi[o]=0;return c}var gD=typeof document<"u";gD&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function vD(i,e,t,n){var s=[],o=new In,r=e.$V;_o.v=!0,ue(r)?ue(i)||(i.flags&16384&&(i=Je(i)),Qe(i,e,n,!1,null,s,o),e.$V=i,r=i):ue(i)?(Yt(r,e,o),e.$V=null):(i.flags&16384&&(i=Je(i)),Ii(r,i,e,n,!1,null,s,o),r=e.$V=i),wf(s),Vr(o.componentDidAppear),_o.v=!1,_e(t)&&t(),_e(Af.renderComplete)&&Af.renderComplete(r,e)}function Eo(i,e,t,n){t===void 0&&(t=null),n===void 0&&(n=Ze),vD(i,e,t,n)}var qr=[],xD=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(i){window.setTimeout(i,0)},Lc=!1;function s_(i,e,t,n){var s=i.$PS;if(_e(e)&&(e=e(s?Gi(i.state,s):i.state,i.props,i.context)),ue(s))i.$PS=e;else for(var o in e)s[o]=e[o];if(i.$BR)_e(t)&&i.$L.push(t.bind(i));else{if(!_o.v&&qr.length===0){r_(i,n),_e(t)&&t.call(i);return}if(qr.indexOf(i)===-1&&qr.push(i),n&&(i.$F=!0),Lc||(Lc=!0,xD(o_)),_e(t)){var r=i.$QU;r||(r=i.$QU=[]),r.push(t)}}}function yD(i){for(var e=i.$QU,t=0;t<e.length;++t)e[t].call(i);i.$QU=null}function o_(){var i;for(Lc=!1;i=qr.shift();)if(!i.$UN){var e=i.$F;i.$F=!1,r_(i,e),i.$QU&&yD(i)}}function r_(i,e){if(e||!i.$BR){var t=i.$PS;i.$PS=null;var n=[],s=new In;_o.v=!0,i_(i,Gi(i.state,t),i.props,Ct(i.$LI,!0).parentNode,i.context,i.$SVG,e,null,n,s),wf(n),Vr(s.componentDidAppear),_o.v=!1}else i.state=i.$PS,i.$PS=null}var Fc=(function(){function i(t,n){this.state=null,this.props=void 0,this.context=void 0,this.displayName=void 0,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$SSR=void 0,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=t||Ze,this.context=n||Ze}var e=i.prototype;return e.forceUpdate=function(n){this.$UN||s_(this,{},n,!0)},e.setState=function(n,s){this.$UN||this.$BS||s_(this,n,s,!1)},e.render=function(n,s,o){return null},i})();Fc.defaultProps=null;const Ui={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){const i=this.callbacks;this.callbacks=[],i.forEach((e=>e()))}}},Hc=(i,e)=>{if(!(i instanceof Object&&e instanceof Object))return i===e;const n=Object.keys(i),s=Object.keys(e);return n.length!==s.length?!1:!n.some((r=>i[r]!==e[r]))};class ss extends Fc{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(e,t){this._pendingContext=t??{}}shouldComponentUpdate(e,t){return!Hc(this.props,e)||!Hc(this.state,t)||!Hc(this.context,this._pendingContext)}}class Nc extends ss{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){Ui.lock()}componentWillUpdate(e,t,n){Ui.lock()}componentDidMount(){Ui.callbacks.push((()=>{this._effects=this.createEffects()})),Ui.callEffects()}componentDidUpdate(){Ui.callbacks.push((()=>this.updateEffects())),Ui.callEffects()}destroyEffects(){this._effects.forEach((e=>e.dispose()))}componentWillUnmount(){this.destroyEffects()}}class Yr extends Nc{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){var e;const t=this.vDomElement,n=(e=t.className)!==null&&e!==void 0&&e.length?t.className.split(" "):[],s=n.filter((r=>!t.dxClasses.previous.includes(r))),o=t.dxClasses.previous.filter((r=>!n.includes(r)));s.forEach((r=>{const a=t.dxClasses.removed.indexOf(r);a>-1&&t.dxClasses.removed.splice(a,1),t.dxClasses.added.includes(r)||t.dxClasses.added.push(r)})),o.forEach((r=>{const a=t.dxClasses.added.indexOf(r);a>-1&&t.dxClasses.added.splice(a,1),t.dxClasses.removed.includes(r)||t.dxClasses.removed.push(r)}))}componentDidMount(){var e;const t=Ct(this.$LI,!0);this.vDomElement=t,super.componentDidMount(),t.dxClasses=t.dxClasses||{removed:[],added:[],previous:[]},t.dxClasses.previous=t!=null&&(e=t.className)!==null&&e!==void 0&&e.length?t.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const e=this.vDomElement;if(e!==null){var t;e.dxClasses.added.forEach((n=>e.classList.add(n))),e.dxClasses.removed.forEach((n=>e.classList.remove(n))),e.dxClasses.previous=(t=e.className)!==null&&t!==void 0&&t.length?e.className.split(" "):[]}}shouldComponentUpdate(e,t){const n=super.shouldComponentUpdate(e,t);return n&&this.vDomUpdateClasses(),n}}let CD=0;const bD=function(i){const e=CD++;return{id:e,defaultValue:i,Provider:class extends Fc{getChildContext(){return C({},this.context,{[e]:this.props.value||i})}render(){return this.props.children}}}};class Xe{constructor(e,t){this.dependency=t,this.effect=e,this.destroy=e()}update(e){const t=this.dependency;e&&(this.dependency=e),(!e||e.some(((n,s)=>t[s]!==n)))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const SD="a runtime error occured! Use Inferno in development environment to find the error.";function ED(i){return i==null}function ID(i){return i===null||i===!1||i===!0||i===void 0}function os(i){return i===null}function wD(i){throw i||(i=SD),new Error(`Inferno Error: ${i}`)}var lt;(function(i){i[i.HtmlElement=1]="HtmlElement",i[i.ComponentUnknown=2]="ComponentUnknown",i[i.ComponentClass=4]="ComponentClass",i[i.ComponentFunction=8]="ComponentFunction",i[i.Text=16]="Text",i[i.SvgElement=32]="SvgElement",i[i.InputElement=64]="InputElement",i[i.TextareaElement=128]="TextareaElement",i[i.SelectElement=256]="SelectElement",i[i.Void=512]="Void",i[i.Portal=1024]="Portal",i[i.ReCreate=2048]="ReCreate",i[i.ContentEditable=4096]="ContentEditable",i[i.Fragment=8192]="Fragment",i[i.InUse=16384]="InUse",i[i.ForwardRef=32768]="ForwardRef",i[i.Normalized=65536]="Normalized",i[i.ForwardRefComponent=32776]="ForwardRefComponent",i[i.FormElement=448]="FormElement",i[i.Element=481]="Element",i[i.Component=14]="Component",i[i.DOMRef=2033]="DOMRef",i[i.InUseOrNormalized=81920]="InUseOrNormalized",i[i.ClearInUse=-16385]="ClearInUse",i[i.ComponentKnown=12]="ComponentKnown"})(lt||(lt={}));var ji;(function(i){i[i.UnknownChildren=0]="UnknownChildren",i[i.HasInvalidChildren=1]="HasInvalidChildren",i[i.HasVNodeChildren=2]="HasVNodeChildren",i[i.HasNonKeyedChildren=4]="HasNonKeyedChildren",i[i.HasKeyedChildren=8]="HasKeyedChildren",i[i.HasTextChildren=16]="HasTextChildren",i[i.MultipleChildren=12]="MultipleChildren"})(ji||(ji={}));function DD(i,e){const t=document.createElement("i");return t.innerHTML=e,t.innerHTML===i.innerHTML}function TD(i){let e,t;for(;i;){if(e=i.flags,e&lt.DOMRef)return i.dom;t=i.children,e&lt.Fragment?i=i.childFlags===ji.HasVNodeChildren?t:t[t.length-1]:e&lt.ComponentClass?i=t.$LI:i=t}return null}function AD(i,e){return!!(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&DD(i,e.dangerouslySetInnerHTML.__html))}function OD(i,e,t,n,s,o,r,a){const l=i.type,c=i.ref,d=i.props||Ze;let h;if(o){const p=Xf(i,l,d,n,s,r),m=p.$LI;h=Io(m,e,t,p.$CX,s,r,a),e_(c,p,r,a)}else{const p=Wr(Bc(i,n));h=Io(p,e,t,n,s,r,a),i.children=p,t_(i,r,a)}return h}function a_(i,e,t,n,s,o,r){const a=i.childFlags,l=i.children,c=i.props,d=i.flags;if(a!==ji.HasInvalidChildren){if(a===ji.HasVNodeChildren)os(t)?Qe(l,e,n,s,null,o,r):(t=Io(l,e,t,n,s,o,r),t=t?t.nextSibling:null);else if(a===ji.HasTextChildren)os(t)?e.appendChild(document.createTextNode(l)):e.childNodes.length!==1||t.nodeType!==3?e.textContent=l:t.nodeValue!==l&&(t.nodeValue=l),t=null;else if(a&ji.MultipleChildren){let h=!1;for(let p=0,m=l.length;p<m;++p){const g=l[p];os(t)||h&&(g.flags&lt.Text)>0?Qe(g,e,n,s,t,o,r):(t=Io(g,e,t,n,s,o,r),t=t?t.nextSibling:null),h=(g.flags&lt.Text)>0}}if((d&lt.Fragment)===0){let h=null;for(;t;)h=t.nextSibling,e.removeChild(t),t=h}}else!os(e.firstChild)&&!AD(e,c)&&(e.textContent="",d&lt.FormElement&&(e.defaultValue=""))}function kD(i,e,t,n,s,o,r){const a=i.props,l=i.className,c=i.flags,d=i.ref;return s=s||(c&lt.SvgElement)>0,t.nodeType!==1?(Jf(i,null,n,s,null,o,r),e.replaceChild(i.dom,t)):(i.dom=t,a_(i,t,t.firstChild,n,s,o,r),os(a)||qf(i,c,a,t,s,r),ED(l)?t.className!==""&&t.removeAttribute("class"):s?t.setAttribute("class",l):t.className=l,bo(d,t,o)),i.dom}function l_(i,e,t){if(t.nodeType!==3)e.replaceChild(i.dom=document.createTextNode(i.children),t);else{const n=i.children;t.nodeValue!==n&&(t.nodeValue=n),i.dom=t}return i.dom}function MD(i,e,t,n,s,o,r){const a=i.children;return i.childFlags===ji.HasVNodeChildren?(l_(a,e,t),a.dom):(a_(i,e,t,n,s,o,r),TD(a[a.length-1]))}function Io(i,e,t,n,s,o,r){const a=i.flags|=lt.InUse;return a&lt.Component?OD(i,e,t,n,s,(a&lt.ComponentClass)>0,o,r):a&lt.Element?kD(i,e,t,n,s,o,r):a&lt.Text?l_(i,e,t):a&lt.Void?i.dom=t:a&lt.Fragment?MD(i,e,t,n,s,o,r):(wD(),null)}function c_(i,e,t){let n=e.firstChild;if(os(n))Eo(i,e,t);else{const s=[],o=new In;for(ID(i)||(n=Io(i,e,n,{},!1,s,o));n&&(n=n.nextSibling);)e.removeChild(n);if(s.length>0){let r;for(;(r=s.shift())!==void 0;)r()}}e.$V=i}const RD=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),PD=i=>typeof i=="number"?!0:!Number.isNaN(Number(i)),$D=(i,e)=>RD.has(i)?e:`${e}px`,BD=/[A-Z]/g,VD=i=>i.replace(BD,"-$&").toLowerCase();function LD(i){if(i instanceof Object)return Object.entries(i).reduce(((e,t)=>{let[n,s]=t;return e[VD(n)]=PD(s)?$D(n,s):s,e}),{})}const Xr=()=>new Xe((()=>{o_()}),[]);function d_(i){return i==null}function FD(i){return typeof i=="string"}function u_(i){return i===void 0}var HD={onComponentDidAppear:1,onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillDisappear:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function Zr(i,e,t){var n,s=null,o=null,r=null,a,l,c=arguments.length-2;if(c===1)n=t;else if(c>1)for(n=[];c-- >0;)n[c]=arguments[c+2];if(FD(i)){if(a=Iw(i),!d_(e)){l={};for(var d in e)d==="className"||d==="class"?r=e[d]:d==="key"?o=e.key:d==="children"&&u_(n)?n=e.children:d==="ref"?s=e.ref:(d==="contenteditable"&&(a|=4096),l[d]=e[d])}}else{if(a=2,u_(n)||(e||(e={}),e.children=n),!d_(e)){l={};for(var h in e)h==="key"?o=e.key:h==="ref"?s=e.ref:HD[h]===1?(s||(s={}),s[h]=e[h]):l[h]=e[h]}return qt(a,i,l,o,s)}return a&8192?ns(c===1?[n]:n,0,o):ht(a,i,r,n,0,l,o,s)}const ND=i=>{var e,t;return((e=i.container)===null||e===void 0?void 0:e.get(0))||((t=i.item)===null||t===void 0?void 0:t.get(0))};function WD(i,e,t){setTimeout((()=>{Eo(Zr(i,e),ND(e))}),0)}const zD=(i,e,t)=>{const n=e[i];return!!n&&typeof n!="string"},h_=i=>{const{parentNode:e}=i;if(e){const{nextSibling:t}=i;Ms(i),e.$V=i.$V,Eo(null,e),e.insertBefore(i,t),i.innerHTML="",delete e.$V}delete i.$V},rs=Gt({createElement:(i,e)=>Zr(i,e),remove:h_,onAfterRender:()=>{Ui.callEffects()},onPreRender:()=>{Ui.lock()},render:(i,e,t,n)=>{if(n)Eo(Zr(i,e),t);else{const{parentNode:s}=t,o=t?.nextSibling,r=D.createElement("div");r.appendChild(t);const a=D.createDocumentFragment().appendChild(r);!!t.$V&&h_(t),c_(Zr(i,e),a),t.$V=a.$V,s&&s.insertBefore(t,o)}},renderIntoContainer:(i,e,t)=>{t?Eo(i,e):c_(i,e)}}),GD=(i,e)=>Object.keys(i).length!==Object.keys(e).length?!1:Object.entries(i).every((t=>{let[n,s]=t;const o=e[n];return s instanceof Date&&o instanceof Date?s.getTime()===o.getTime():s===o})),KD=["isEqual"],UD=i=>!!i.toArray,jD=(i,e)=>{const t={template:e,model:C({},i)},n=i.data??{},{isEqual:s}=n,o=fi(n,KD);return s&&(t.model.data=o,t.isEqual=s),t},qD=(i,e)=>{const{data:t,index:n}=i.model??{data:{}};t&&Object.keys(t).forEach((o=>{t[o]&&D.isNode(t[o])&&(t[o]=ae(u(t[o])))}));const s=i.template.render(C({container:e,transclude:i.transclude},{renovated:i.renovated},i.transclude?{}:{model:t},!i.transclude&&Number.isFinite(n)?{index:n}:{}));return s===void 0?[]:UD(s)?s.toArray():[u(s).get(0)]},YD=(i,e)=>{e.forEach((t=>{!!!i.find((s=>t===s))&&t.parentNode&&u(t).remove()}))};let p_=class extends Nc{constructor(e){super(e),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){const e=Ct(this.$LI,!0);if(!(e!=null&&e.parentNode))return()=>{};const t=e.parentNode,n=u(t),s=n.contents().toArray(),o=qD(this.props,ae(n));return _m(u(e),u(o)),()=>{const r=u(t).contents().toArray();YD(s,r),t.appendChild(e)}}shouldComponentUpdate(e){const{template:t,model:n}=this.props,{template:s,model:o,isEqual:r}=e,a=r??GD;if(t!==s)return!0;if(!y(n)||!y(o))return n!==o;const{data:l,index:c}=n,{data:d,index:h}=o;return c!==h?!0:!y(l)||!y(d)?n!==o:!a(l,d)}createEffects(){return[new Xe(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}};const Wc=i=>i&&(i.defaultProps?e=>Ki(qt(2,i,C({},e))):i),zc=i=>Array.isArray(i)?[...i]:C({},i),m_=(i,e,t)=>{const n=t.length>0&&e&&i!==e?zc(e):zc(i),s=t[0];return t.length>1?n[s]=m_(i[s],e?.[s],t.slice(1)):s&&(J(i[s])?n[s]=zc(i[s]):n[s]=i[s]),n},XD=(i,e,t,n)=>{const s=e[t],o=i[t],r=i;J(s)||t!==n&&Array.isArray(s)?r[t]=m_(s,o,Fn(n).slice(1)):r[t]=s},Gc=(i,e)=>t=>{Object.prototype.hasOwnProperty.call(i,t)&&i[t]===void 0&&(i[t]=e(t))};class Jr extends ii{get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}constructor(e,t){super(e,t),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}validateKeyDownHandler(){const t=this.getSupportedKeyNames().length>0,n=typeof this._viewComponent.prototype.keyDown=="function";if(t&&!n)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var e;return(e=this._viewRef)===null||e===void 0?void 0:e.current}_checkContentReadyOption(e){const t=this._getContentReadyOptions().reduce(((n,s)=>(n[s]=!0,n)),{});return this._checkContentReadyOption=n=>!!t[n],this._checkContentReadyOption(e)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){const e=this._getViewComponentDefaultProps();return I(!0,super._getDefaultOptions(),e,this._propsInfo.twoWay.reduce(((t,n)=>{let[s,o,r]=n;return C({},t,{[s]:e[o],[r]:a=>this.option(s,a)})}),{}),this._propsInfo.templates.reduce(((t,n)=>C({},t,{[n]:null})),{}))}_getUnwrappedOption(){const e={};return Object.keys(this.option()).forEach((t=>{e[t]=this.option(t)})),e}_initializeComponent(){var e;super._initializeComponent(),(e=this._templateManager)===null||e===void 0||e.addDefaultTemplates(this.getDefaultTemplates());const t=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(t),this._propsInfo.templates.forEach((n=>{this._componentTemplates[n]=this._createTemplateComponent(this._props[n])})),Object.keys(this._getActionConfigsFull()).forEach((n=>this._addAction(n))),this._viewRef=Ht(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){const e=this.getProps();this._renderWrapper(e)}_renderWrapper(e){const t=this.$element()[0];this._isNodeReplaced||rs.onPreRender(),rs.render(this._viewComponent,e,t,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,rs.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(e,t){this._options.silent(e,t)}_render(){}_removeWidget(){rs.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){const e=this.$element()[0];if(!this._elementAttr){const{attributes:s}=e,o=Array.from(s).filter((r=>{var a;return!this._propsInfo.templates.includes(r.name)&&((a=s[r.name])===null||a===void 0?void 0:a.specified)})).reduce(((r,a)=>{let{name:l,value:c}=a;const d=r,h=l in e;return d[l]=c===""&&h?e[l]:c,d}),{});this._elementAttr=o,this._storedClasses=e.getAttribute("class")||""}const t=e.style,n={};for(let s=0;s<t.length;s+=1)n[t[s]]=t.getPropertyValue(t[s]);return this._elementAttr.style=n,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(e){const{allowNull:t,twoWay:n,elements:s,props:o}=this._propsInfo,r=this._getViewComponentDefaultProps(),a=Object.keys(r),l=this._getDefaultOptions(),{ref:c,children:d,onKeyboardHandled:h}=e,m={ref:c,children:d,onKeyDown:h?(g,f)=>{h(f)}:void 0};return[...o,...this._getAdditionalProps()].forEach((g=>{Object.prototype.hasOwnProperty.call(e,g)&&(m[g]=e[g])})),t.forEach(Gc(m,(()=>null))),a.forEach(Gc(m,(g=>l[g]))),n.forEach((g=>{let[f,v]=g;Gc(m,(()=>l[v]))(f)})),s.forEach((g=>{if(g in m){const f=m[g];Mi(f)&&(m[g]=this._patchElementParam(f))}})),m}getSupportedKeyNames(){return[]}prepareStyleProp(e){return typeof e.style=="string"?C({},e,{style:{},cssText:e.style}):e}getProps(){const{elementAttr:e}=this.option(),t=this._patchOptionValues(C({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach((n=>{t[n]=this._componentTemplates[n]})),this.prepareStyleProp(C({},t,this.elementAttr,e,{className:[...(this.elementAttr.class??"").split(" "),...(e?.class??"").split(" ")].filter(((n,s,o)=>n&&o.indexOf(n)===s)).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return C({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){const e=Object.values(this._templatesInfo),t={};return e.forEach((n=>{t[n]="dx-renovation-template-mock"})),t}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(e){const t=Object.entries(this._templatesInfo).reduce(((n,s)=>{let[o,r]=s;return C({},n,{[o]:e[o]??r})}),{});return C({},e,t)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){const e={};return this.getSupportedKeyNames().forEach((n=>{e[n]=s=>this.viewRef.keyDown(mc.createKeyDownOptions(s))})),e}_addAction(e,t){let n=t;if(!n){const s=this._createActionByOption(e,this._getActionConfigsFull()[e]);n=o=>(Object.keys(o).forEach((r=>{y(o[r])&&D.isNode(o[r])&&(o[r]=ae(u(o[r])))})),s(o))}this._actionsMap[e]=n}_optionChanged(e){const{name:t,fullName:n,value:s,previousValue:o}=e;XD(this._props,this.option(),t,n),this._propsInfo.templates.includes(t)&&s!==o&&(this._componentTemplates[t]=this._createTemplateComponent(s)),t&&this._getActionConfigsFull()[t]&&this._addAction(t),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(n),super._optionChanged(e),this._invalidate()}_validateOptions(e){return super._validateOptions(e)}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?rs.createElement(p_,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(e){if(!e)return;const t=this._getTemplate(e);if(!(le(t)&&t==="dx-renovation-template-mock"))return n=>rs.createElement(p_,jD(n,t))}_wrapKeyDownHandler(e){return t=>{const{originalEvent:n,keyName:s,which:o}=t,r=this.customKeyHandlers,a=r[s]||r[o];return a!==void 0&&!a.bind(this)(n,t)?(n.cancel=!0,n):e?.(n,t)}}_toPublicElement(e){return ae(u(e))}_patchElementParam(e){try{const t=u(e),n=t?.get(0);return n!=null&&n.nodeType?n:e}catch{return e}}focus(){const e=this.$element();if(!(e.is(":focus")||e.find(":focus").length>0))if(this.option("focusStateEnabled"))e.focus();else{var n;(n=e.find("[tabindex]")[0])===null||n===void 0||n.focus()}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return C({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(e,t){this.customKeyHandlers[e]=t}setAria(e,t){this._aria[e]=t,this._initMarkup()}_getViewComponentDefaultProps(){return this._viewComponent.defaultProps||{}}}Jr.IS_RENOVATED_WIDGET=!1,Jr.IS_RENOVATED_WIDGET=!0;const Kc={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0},An=bD(void 0),ZD={};class f_ extends ss{constructor(){super(...arguments),this.__getterCache={}}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config={rtlEnabled:this.props.rtlEnabled}}componentWillUpdate(e){this.props.rtlEnabled!==e.rtlEnabled&&(this.__getterCache.config=void 0)}getChildContext(){return C({},this.context,{[An.id]:this.config||An.defaultValue})}render(){return this.props.children}}f_.defaultProps=ZD;const JD=i=>Object.keys(i).filter((e=>!!e&&i[e])).join(" ").split(" ").filter(((e,t,n)=>n.indexOf(e)===t)).join(" ");function QD(i,e){return i!==void 0?i:e?.rtlEnabled!==void 0?e.rtlEnabled:ce().rtlEnabled}function eT(i,e){const t=y(i),n=y(ce().rtlEnabled)&&!t&&!y(e?.rtlEnabled);return t&&i!==e?.rtlEnabled||n}const tT=ti.add,{abs:__}=Math;let Qr=10;const iT=function(){return hn("pointer-events")},nT=mi((()=>{const i=B.real().deviceType==="desktop";if(!iT()||!i)return M;const e=u("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return _.subscribeGlobal(e,"dxmousewheel",(t=>{t.preventDefault()})),tT((()=>{e.appendTo("body")})),function(t,n){e.css("pointerEvents",t?"all":"none"),t&&e.css("cursor",n)}})),sT=function(i,e){nT()(i,e)},wo=xr.inherit({gesture:!0,configure(i){this.getElement().css("msTouchAction",i.immediate?"pinch-zoom":""),this.callBase(i)},allowInterruptionByMouseWheel(){return this._stage!==2},getDirection(){return this.direction},_cancel(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=0},start(i){if(i._needSkipEvent||Wb(i)){this._cancel(i);return}this._startEvent=Gl(i),this._startEventData=We(i),this._stage=1,this._init(i),this._setupImmediateTimer()},_setupImmediateTimer(){if(clearTimeout(this._immediateTimer),this._immediateAccepted=!1,!!this.immediate){if(this.immediateTimeout===0){this._immediateAccepted=!0;return}this._immediateTimer=setTimeout((()=>{this._immediateAccepted=!0}),this.immediateTimeout??180)}},move(i){if(this._stage===1&&this._directionConfirmed(i)){if(this._stage=2,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(i),this._adjustStartEvent(i),this._start(this._startEvent),this._stage===0)return;this._requestAccept(i),this._move(i),this._forgetAccept()}else this._stage===2&&(this._clearSelection(i),this._move(i))},_directionConfirmed(i){const e=this._getTouchBoundary(i),t=yn(this._startEventData,We(i)),n=__(t.x),s=__(t.y),o=this._validateMove(e,n,s),r=this._validateMove(e,s,n),a=this.getDirection(i);return a==="both"&&(o||r)||a==="horizontal"&&o||a==="vertical"&&r||this._immediateAccepted},_validateMove(i,e,t){return e&&e>=i&&(this.immediate?e>=t:!0)},_getTouchBoundary(i){return this.immediate||mt(i)?0:Qr},_adjustStartEvent(i){const e=this._getTouchBoundary(i),t=yn(this._startEventData,We(i));this._startEvent.pageX+=vn(t.x)*e,this._startEvent.pageY+=vn(t.y)*e},_resetActiveElement(){B.real().platform==="ios"&&this.getElement().find(":focus").length&&xi.resetActiveElement()},_toggleGestureCover(i){this._toggleGestureCoverImpl(i)},_toggleGestureCoverImpl(i){this._stage===2&&sT(i,this.getElement().css("cursor"))},_clearSelection(i){mt(i)||_r(i)||xi.clearSelection()},end(i){this._toggleGestureCover(!1),this._stage===2?this._end(i):this._stage===1&&this._stop(i),this._stage=0},dispose(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:M,_start:M,_move:M,_stop:M,_end:M});wo.initialTouchBoundary=Qr,wo.touchBoundary=function(i){if(y(i)){Qr=i;return}return Qr};const{abstract:oT}=ee,rT=B.real(),g_=ee.inherit((function(){const i=k("scroll","dxScrollEmitter");return{ctor(e){this._element=e,this._locked=!1,this._proxiedScroll=t=>{this._disposed||this._scroll(t)},_.on(this._element,i,this._proxiedScroll)},_scroll:oT,check(e,t){this._locked&&t()},dispose(){this._disposed=!0,_.off(this._element,i,this._proxiedScroll)}}})()),v_=g_.inherit({ctor(i,e){this.callBase(i),this._timeout=e},_scroll(){this._prepare(),this._forget()},_prepare(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget(){const i=this;this._timer=setTimeout((()=>{i._clearTimer()}),this._timeout)},dispose(){this.callBase(),this._clearTimer()}}),x_=v_.inherit({ctor(i){this.callBase(i,400),this._lastWheelDirection=null},check(i,e){this._checkDirectionChanged(i),this.callBase(i,e)},_checkDirectionChanged(i){if(!mt(i)){this._lastWheelDirection=null;return}const e=i.shiftKey||!1,t=this._lastWheelDirection!==null&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!t}});let Uc=v_.inherit({ctor(i){this.callBase(i,400)}});(function(){const{ios:i,android:e}=rT;(i||e)&&(Uc=g_.inherit({_scroll(){this._locked=!0;const t=this;_i(this._scrollFrame),this._scrollFrame=zs((()=>{t._locked=!1}))},check(t,n){_i(this._scrollFrame),_i(this._checkFrame);const s=this,{callBase:o}=this;this._checkFrame=zs((()=>{o.call(s,t,n),s._locked=!1}))},dispose(){this.callBase(),_i(this._scrollFrame),_i(this._checkFrame)}}))})();const aT=wo.inherit((function(){const i=Math.round(16.666666666666668);return{ctor(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new Uc(e),this._wheelLocker=new x_(e)},validate:()=>!0,configure(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new Uc(e.scrollTarget),this._wheelLocker=new x_(e.scrollTarget)),this.callBase(e)},_init(e){this._wheelLocker.check(e,(()=>{mt(e)&&this._accept(e)})),this._pointerLocker.check(e,(()=>{const t=this.isNative&&xn(e);!mt(e)&&!t&&this._accept(e)})),this._fireEvent("dxscrollinit",e),this._prevEventData=We(e)},move(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start(e){this._savedEventData=We(e),this._fireEvent("dxscrollstart",e),this._prevEventData=We(e)},_move(e){const t=We(e);this._fireEvent("dxscroll",e,{delta:yn(this._prevEventData,t)}),yn(this._savedEventData,t).time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=We(e)},_end(e){const t=yn(this._prevEventData,We(e));let n={x:0,y:0};if(!mt(e)&&t.time<100){const s=yn(this._savedEventData,this._prevEventData),o=i/s.time;n={x:s.x*o,y:s.y*o}}this._fireEvent("dxscrollend",e,{velocity:n})},_stop(e){this._fireEvent("dxscrollstop",e)},cancel(e){this.callBase.apply(this,arguments),this._fireEvent("dxscrollcancel",e)},dispose(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover(){if(!this.isNative)return this.callBase.apply(this,arguments)}}})());es({emitter:aT,events:["dxscrollinit","dxscrollstart","dxscroll","dxscrollend","dxscrollstop","dxscrollcancel"]});const as={init:"dxscrollinit",start:"dxscrollstart",move:"dxscroll",end:"dxscrollend",stop:"dxscrollstop",cancel:"dxscrollcancel"};function ls(i){return(e,t,n,s)=>{const o=s?k(i,s):i;if(t)return _.on(e,o,n,t),()=>{_.off(e,o,t)}}}const lT=ls("dxactive"),cT=ls("dxinactive"),dT=ls("dxhoverstart"),uT=ls("dxhoverend"),hT=ls("focusin"),pT=ls("focusout"),mT="dx-widget",fT=i=>Object.keys(i).reduce(((e,t)=>i[t]?C({},e,{[t==="role"||t==="id"?t:`aria-${t}`]:String(i[t])}):e),{}),y_=C({},Kc,{_feedbackHideTimeout:400,_feedbackShowTimeout:30,cssText:"",aria:{},classes:"",name:"",addWidgetClass:!0});class jc extends Yr{constructor(e){super(e),this.state={active:!1,focused:!1,hovered:!1},this.refs=null,this.rootElementRef=Ht(),this.widgetElementRef=Ht(),this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}getConfig(){return this.context[An.id]?this.context[An.id]:An.defaultValue}createEffects(){return[new Xe(this.setRootElementRef,[]),new Xe(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new Xe(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new Xe(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new Xe(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new Xe(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new Xe(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new Xe(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new Xe(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new Xe(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new Xe(this.windowResizeEffect,[this.props.onDimensionChanged]),new Xe(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new Xe(this.checkDeprecation,[this.props.height,this.props.width]),new Xe(this.applyCssTextEffect,[this.props.cssText]),Xr()]}updateEffects(){var e,t,n,s,o,r,a,l,c,d,h,p,m;(e=this._effects[1])===null||e===void 0||e.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(t=this._effects[2])===null||t===void 0||t.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(n=this._effects[3])===null||n===void 0||n.update([this.props.disabled,this.props.name,this.props.onClick]),(s=this._effects[4])===null||s===void 0||s.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(o=this._effects[5])===null||o===void 0||o.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(r=this._effects[6])===null||r===void 0||r.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(a=this._effects[7])===null||a===void 0||a.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(l=this._effects[8])===null||l===void 0||l.update([this.props.focusStateEnabled,this.props.onKeyDown]),(c=this._effects[9])===null||c===void 0||c.update([this.props.name,this.props.onDimensionChanged]),(d=this._effects[10])===null||d===void 0||d.update([this.props.onDimensionChanged]),(h=this._effects[11])===null||h===void 0||h.update([this.props.name,this.props.onVisibilityChange]),(p=this._effects[12])===null||p===void 0||p.update([this.props.height,this.props.width]),(m=this._effects[13])===null||m===void 0||m.update([this.props.cssText])}setRootElementRef(){var e;const{rootElementRef:t,onRootElementRendered:n}=this.props;t&&this.widgetElementRef&&(t.current=this.widgetElementRef.current),this!==null&&this!==void 0&&(e=this.widgetElementRef)!==null&&e!==void 0&&e.current&&n?.(this.widgetElementRef.current)}activeEffect(){const{activeStateEnabled:e,activeStateUnit:t,disabled:n,_feedbackShowTimeout:s,onActive:o}=this.props,r=t;if(e&&!n){var a;return lT((a=this.widgetElementRef)===null||a===void 0?void 0:a.current,(l=>{this.setState({active:!0}),o?.(l)}),{timeout:s,selector:r},"UIFeedback")}}inactiveEffect(){const{activeStateEnabled:e,activeStateUnit:t,_feedbackHideTimeout:n,onInactive:s}=this.props,o=t;if(e){var r;return cT((r=this.widgetElementRef)===null||r===void 0?void 0:r.current,(a=>{this.state.active&&(this.setState({active:!1}),s?.(a))}),{timeout:n,selector:o},"UIFeedback")}}clickEffect(){const{name:e,onClick:t,disabled:n}=this.props,s=e;if(t&&!n){var o;return Om.on((o=this.widgetElementRef)===null||o===void 0?void 0:o.current,t,{namespace:s}),()=>{var r;return Om.off((r=this.widgetElementRef)===null||r===void 0?void 0:r.current,{namespace:s})}}}focusInEffect(){const{disabled:e,focusStateEnabled:t,name:n,onFocusIn:s}=this.props,o=`${n}Focus`;if(t&&!e){var r;return hT((r=this.widgetElementRef)===null||r===void 0?void 0:r.current,(a=>{a.isDefaultPrevented()||(this.setState({focused:!0}),s?.(a))}),null,o)}}focusOutEffect(){const{focusStateEnabled:e,name:t,onFocusOut:n}=this.props,s=`${t}Focus`;if(e){var o;return pT((o=this.widgetElementRef)===null||o===void 0?void 0:o.current,(r=>{!r.isDefaultPrevented()&&this.state.focused&&(this.setState({focused:!1}),n?.(r))}),null,s)}}hoverStartEffect(){const{activeStateUnit:e,hoverStateEnabled:t,disabled:n,onHoverStart:s}=this.props,o=e;if(t&&!n){var r;return dT((r=this.widgetElementRef)===null||r===void 0?void 0:r.current,(a=>{this.state.active||this.setState({hovered:!0}),s?.(a)}),{selector:o},"UIFeedback")}}hoverEndEffect(){const{activeStateUnit:e,hoverStateEnabled:t,onHoverEnd:n}=this.props,s=e;if(t){var o;return uT((o=this.widgetElementRef)===null||o===void 0?void 0:o.current,(r=>{this.state.hovered&&(this.setState({hovered:!1}),n?.(r))}),{selector:s},"UIFeedback")}}keyboardEffect(){const{onKeyDown:e,focusStateEnabled:t}=this.props;if(t&&e){var n,s;const o=ao.on((n=this.widgetElementRef)===null||n===void 0?void 0:n.current,(s=this.widgetElementRef)===null||s===void 0?void 0:s.current,(r=>e(r)));return()=>ao.off(o)}}resizeEffect(){const e=`${this.props.name}VisibilityChange`,{onDimensionChanged:t}=this.props;if(t){var n;return Tr.on((n=this.widgetElementRef)===null||n===void 0?void 0:n.current,t,{namespace:e}),()=>{var s;return Tr.off((s=this.widgetElementRef)===null||s===void 0?void 0:s.current,{namespace:e})}}}windowResizeEffect(){const{onDimensionChanged:e}=this.props;if(e)return Ks.add(e),()=>{Ks.remove(e)}}visibilityEffect(){const{name:e,onVisibilityChange:t}=this.props,n=`${e}VisibilityChange`;if(t){var s;return Ar.on((s=this.widgetElementRef)===null||s===void 0?void 0:s.current,(()=>t(!0)),(()=>t(!1)),{namespace:n}),()=>{var o;return Ar.off((o=this.widgetElementRef)===null||o===void 0?void 0:o.current,{namespace:n})}}}checkDeprecation(){const{width:e,height:t}=this.props;L(e)&&he.log("W0017","width"),L(t)&&he.log("W0017","height")}applyCssTextEffect(){var e;const{cssText:t}=this.props;t!==void 0&&t!==""&&(e=this.widgetElementRef)!==null&&e!==void 0&&e.current&&(this.widgetElementRef.current.style.cssText=t)}getShouldRenderConfigProvider(){const{rtlEnabled:e}=this.props;return eT(e,this.config)}getRtlEnabled(){const{rtlEnabled:e}=this.props;return QD(e,this.config)}getAttributes(){const{aria:e,disabled:t,focusStateEnabled:n,visible:s}=this.props,o=n&&!t&&this.props.accessKey;return C({},I({},o&&{accessKey:o}),fT(C({},e,{disabled:t,hidden:!s})),I({},this.getRestAttributes(this.props)))}getRestAttributes(e){const t=C({},e);return["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"].forEach((n=>{delete t[n]})),t}getStyles(){const{width:e,height:t}=this.props,n=this.props.style||{},s=Bs("width",L(e)?e():e),o=Bs("height",L(t)?t():t);return C({},n,{height:o??n.height,width:s??n.width})}getCssClasses(){const{classes:e,addWidgetClass:t,className:n,disabled:s,activeStateEnabled:o,focusStateEnabled:r,hoverStateEnabled:a,onVisibilityChange:l,visible:c}=this.props,d=!!r&&!s,h=!!a&&!s,p=!!o&&!s,m={[mT]:!!t,[String(e)]:!!e,[String(n)]:!!n,"dx-state-disabled":!!s,"dx-state-invisible":!c,"dx-state-focused":!!this.state.focused&&d,"dx-state-active":!!this.state.active&&p,"dx-state-hover":!!this.state.hovered&&h&&!this.state.active,"dx-rtl":!!this.props.rtlEnabled,"dx-visibility-change-handler":!!l};return JD(m)}getTabIndex(){const{focusStateEnabled:e,disabled:t,tabIndex:n}=this.props;return e&&!t?n:void 0}focus(){var e;Or.trigger((e=this.widgetElementRef)===null||e===void 0?void 0:e.current)}blur(){var e,t;const n=D.getActiveElement((e=this.widgetElementRef)===null||e===void 0?void 0:e.current);((t=this.widgetElementRef)===null||t===void 0?void 0:t.current)===n&&n.blur()}activate(){this.setState({active:!0})}deactivate(){this.setState({active:!1})}render(){const{hint:e,children:t}=this.props,n=Ki(ht(1,"div",this.getCssClasses(),t,0,C({},this.getAttributes(),{tabindex:this.getTabIndex(),title:e,style:this.getStyles()}),null,this.widgetElementRef));return this.getShouldRenderConfigProvider()?qt(2,f_,{rtlEnabled:this.getRtlEnabled(),children:n}):n}}jc.defaultProps=y_;function On(i){return Object.keys(i).filter((e=>i[e])).join(" ")}const _T={position:"left",source:""};class C_ extends ss{constructor(e){super(e),this.state={}}get sourceType(){return Pr(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){const e={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:t}=this.props;return this.sourceType==="dxIcon"?On(C({},e,{[`dx-icon-${t}`]:!0})):this.sourceType==="fontIcon"?On(C({},e,{[String(t)]:!!t})):this.sourceType==="image"?On(e):this.sourceType==="svg"?On(C({},e,{"dx-svg-icon":!0})):""}render(){const{iconClassName:e,props:t,sourceType:n}=this,s=Wc(t.iconTemplate);return ns([n==="dxIcon"&&ht(1,"i",e),n==="fontIcon"&&ht(1,"i",e),n==="image"&&ht(1,"img",e,null,1,{alt:"",src:t.source}),s&&ht(1,"i",e,s({}),0)],0)}}C_.defaultProps=_T;const b_=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{useHoldAnimation:e,waveSizeCoefficient:t,isCentered:n,wavesNumber:s}=i;return{waveSizeCoefficient:t||2,isCentered:n||!1,wavesNumber:s||1,durations:yT(e??!0)}},S_=function(i){const e=b_(i);return{showWave:I_.bind(this,e),hideWave:D_.bind(this,e)}},gT=function(i){let e=i.children(".dx-inkripple");return e.length===0&&(e=u("<div>").addClass("dx-inkripple").appendTo(i)),e},E_=function(i,e){const t=gT(u(i)),n=t.children(".dx-inkripple-wave").toArray();for(let s=n.length;s<e;s++){const o=u("<div>").appendTo(t).addClass("dx-inkripple-wave");n.push(o[0])}return u(n)},vT=function(i,e){const t=u(e.element),n=Ue(t),s=He(t),o=parseInt(Math.sqrt(n*n+s*s)),r=Math.min(4e3,parseInt(o*i.waveSizeCoefficient));let a,l;if(i.isCentered)a=(n-r)/2,l=(s-r)/2;else{const{event:c}=e,d=t.offset(),h=c.pageX-d.left,p=c.pageY-d.top;a=h-r/2,l=p-r/2}return{left:a,top:l,height:r,width:r}};function I_(i,e){const t=E_(e.element,i.wavesNumber).eq(e.wave||0);i.hidingTimeout&&clearTimeout(i.hidingTimeout),w_(t),t.css(vT(i,e)),i.showingTimeout=setTimeout(xT.bind(this,i,t),0)}function xT(i,e){const t=`${i.durations.showingScale}ms`;e.addClass("dx-inkripple-showing").css("transitionDuration",t)}function yT(i){return{showingScale:i?1e3:300,hidingScale:300,hidingOpacity:300}}function w_(i){i.removeClass("dx-inkripple-hiding").css("transitionDuration","")}function D_(i,e){i.showingTimeout&&clearTimeout(i.showingTimeout);const t=E_(e.element,e.wavesNumber).eq(e.wave||0),{durations:n}=i,s=`${n.hidingScale}ms, ${n.hidingOpacity}ms`;t.addClass("dx-inkripple-hiding").removeClass("dx-inkripple-showing").css("transitionDuration",s);const o=Math.max(n.hidingScale,n.hidingOpacity);i.hidingTimeout=setTimeout(w_.bind(this,t),o)}const CT=["config"],bT={config:{}};class T_ extends ss{constructor(e){super(e),this.__getterCache={},this.state={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig===void 0&&(this.__getterCache.getConfig=b_(this.props.config)),this.__getterCache.getConfig}get restAttributes(){const e=this.props;return fi(e,CT)}hideWave(e){D_(this.getConfig,e)}showWave(e){I_(this.getConfig,e)}componentWillUpdate(e){this.props.config!==e.config&&(this.__getterCache.getConfig=void 0)}render(){return Ki(ht(1,"div","dx-inkripple",null,1,C({},this.restAttributes)))}}T_.defaultProps=bT;const ST="dx-button",ET=["outlined","text","contained"],A_=["accessKey","activeStateEnabled","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],IT=i=>{const{icon:e,iconPosition:t,stylingMode:n,text:s,type:o}=i,r=n&&ET.includes(n),a={[ST]:!0,[`dx-button-mode-${r?n:"contained"}`]:!0,[`dx-button-${o??"normal"}`]:!0,"dx-button-has-text":!!s,"dx-button-has-icon":!!e,"dx-button-icon-right":t!=="left"};return On(a)},wT=(i,e)=>{const t=new Set(e);return Object.keys(i).reduce(((n,s)=>(t.has(s)||(n[s]=i[s]),n)),{})},DT=C({},Kc,{activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:{}}),O_=hS([{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>wt(ke()),options:{useInkRipple:!0}}]);let ea=class extends Yr{constructor(e){super(e),this.contentRef=Ht(),this.inkRippleRef=Ht(),this.submitInputRef=Ht(),this.widgetRef=Ht(),this.__getterCache={},this.state={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[new Xe(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),Xr()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){const{onSubmit:e,useSubmitBehavior:t}=this.props,n=this.submitInputRef.current;if(t&&e)return km.on(n,(s=>e({event:s,submitInput:n})),{namespace:"UIFeedback"}),()=>km.off(n,{namespace:"UIFeedback"})}onActive(e){if(this.props.useInkRipple){var t;(t=this.inkRippleRef.current)===null||t===void 0||t.showWave({element:this.contentRef.current,event:e})}}onInactive(e){if(this.props.useInkRipple){var t;(t=this.inkRippleRef.current)===null||t===void 0||t.hideWave({element:this.contentRef.current,event:e})}}onWidgetClick(e){const{onClick:t,useSubmitBehavior:n}=this.props;if(t?.({event:e}),n){var s;(s=this.submitInputRef.current)===null||s===void 0||s.click()}}keyDown(e){const{onKeyDown:t}=this.props,{keyName:n,originalEvent:s,which:o}=e,r=t?.(e);if(r!=null&&r.cancel)return r;(n==="space"||o==="space"||n==="enter"||o==="enter")&&(s.preventDefault(),this.onWidgetClick(s))}get aria(){const{icon:e,text:t}=this.props;let n=t??"";if(!t&&e)switch(Pr(e)){case"image":{const r=/^(?!(?:https?:\/\/)|(?:ftp:\/\/)|(?:www\.))[^\s]+$/;n=!e.includes("base64")&&r.test(e)?e.replace(/.+\/([^.]+)\..+$/,"$1"):"";break}case"dxIcon":n=F.format(Ps(e,!0))||e;break;case"fontIcon":n=e;break;case"svg":{var s;n=((s=/<title>(.*?)<\/title>/.exec(e))===null||s===void 0?void 0:s[1])??"";break}}return C({role:"button"},n?{label:n}:{})}get cssClasses(){return IT(this.props)}get iconSource(){return this.props.icon??""}get inkRippleConfig(){if(this.__getterCache.inkRippleConfig===void 0){const{icon:e,text:t}=this.props;this.__getterCache.inkRippleConfig=!t&&e?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}}return this.__getterCache.inkRippleConfig}get buttonTemplateData(){const{icon:e,text:t,templateData:n}=this.props;return C({icon:e,text:t},n)}get restAttributes(){const e=[...A_,"children"];return wT(this.props,e)}focus(){var e;(e=this.widgetRef.current)===null||e===void 0||e.focus()}activate(){var e;(e=this.widgetRef.current)===null||e===void 0||e.activate()}deactivate(){var e;(e=this.widgetRef.current)===null||e===void 0||e.deactivate()}componentWillUpdate(e){super.componentWillUpdate(),(this.props.icon!==e.icon||this.props.text!==e.text)&&(this.__getterCache.inkRippleConfig=void 0)}render(){const{children:e,iconPosition:t,text:n}=this.props,s=Wc(this.props.template),o=Wc(this.props.iconTemplate),r=!this.props.template&&!e&&n!=="",a=t==="left",l=!s&&!e&&(this.iconSource||o)&&qt(2,C_,{source:this.iconSource,position:t,iconTemplate:o});return Ki(qt(2,jc,C({accessKey:this.props.accessKey,activeStateEnabled:this.props.activeStateEnabled,aria:this.aria,className:this.props.className,classes:this.cssClasses,disabled:this.props.disabled,focusStateEnabled:this.props.focusStateEnabled,height:this.props.height,hint:this.props.hint,hoverStateEnabled:this.props.hoverStateEnabled,onActive:this.onActive,onClick:this.onWidgetClick,onInactive:this.onInactive,onKeyDown:this.keyDown,rtlEnabled:this.props.rtlEnabled,tabIndex:this.props.tabIndex,visible:this.props.visible,width:this.props.width},this.restAttributes,{children:ht(1,"div","dx-button-content",[s?s({data:this.buttonTemplateData}):e,a&&l,r&&ht(1,"span","dx-button-text",n,0),!a&&l,this.props.useSubmitBehavior&&ht(64,"input","dx-button-submit-input",null,1,{type:"submit",tabindex:-1},null,this.submitInputRef),this.props.useInkRipple&&qt(2,T_,{config:this.inkRippleConfig},null,this.inkRippleRef)],0,null,null,this.contentRef)}),null,this.widgetRef))}};ea.defaultProps=C({},DT,Qn(O_));const k_=[];function TT(i){k_.push(i),ea.defaultProps=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(ea.defaultProps),Object.getOwnPropertyDescriptors(Qn(O_)),Object.getOwnPropertyDescriptors(Qn(k_))))}class Dt extends Jr{get _validationGroupConfig(){return Ce.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){const e=super.getProps();return e.onClick=n=>{let{event:s}=n;this._clickAction({event:s,validationGroup:this._validationGroupConfig})},e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),Pr(e.icon)==="svg"&&(e.iconTemplate=this._createTemplateComponent((()=>e.icon))),e}get viewRef(){return super.viewRef}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,t){if(t){var n;(n=this.viewRef)===null||n===void 0||n.activate()}else{var s;(s=this.viewRef)===null||s===void 0||s.deactivate()}}_getSubmitAction(){let e=!0,t="valid";return this._createAction((n=>{let{event:s,submitInput:o}=n;if(e){const r=this._validationGroupConfig;if(r!==void 0&&r!==""){const a=r.validate();t=a.status,a.status==="pending"&&(e=!1,this.option("disabled",!0),a.complete.then((l=>{let{status:c}=l;this.option("disabled",!1),t=c,t==="valid"&&o.click(),e=!0})))}}t!=="valid"&&s.preventDefault(),s.stopPropagation()}))}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();const e=this.$element().find(".dx-button-content").first(),t=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");t.length&&(t.addClass("dx-button-content"),t.append(n),e.replaceWith(t))}_patchOptionValues(e){return super._patchOptionValues(C({},e,{templateData:e._templateData}))}_findGroup(){const e=this.$element(),t=this.option("validationGroup");return t!==void 0&&t!==""?t:Ce.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){e.name==="onClick"&&(this._clickAction=this._createClickAction()),super._optionChanged(e)}focus(){var e;(e=this.viewRef)===null||e===void 0||e.focus()}activate(){var e;(e=this.viewRef)===null||e===void 0||e.activate()}deactivate(){var e;(e=this.viewRef)===null||e===void 0||e.deactivate()}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:A_}}get _viewComponent(){return ea}}ve("dxButton",Dt),Dt.defaultOptions=TT;const M_="dxdragstart",qc="dxdrag",R_="dxdragend",Yc="dxdragenter",Xc="dxdragleave",Zc="dxdrop",Di=[],cs=[],Jc=[],Qc={setup(i,e){Di.includes(i)||(Di.push(i),cs.push([]),Jc.push(e||{}))},add(i,e){const t=Di.indexOf(i);this.updateEventsCounter(i,e.type,1);const{selector:n}=e;cs[t].includes(n)||cs[t].push(n)},updateEventsCounter(i,e,t){if([Yc,Xc,Zc].includes(e)){const n=Pe(i,"dxDragEventsCount")||0;Pe(i,"dxDragEventsCount",Math.max(0,n+t))}},remove(i,e){this.updateEventsCounter(i,e.type,-1)},teardown(i){if(!Pe(i,"dxDragEventsCount")){const t=Di.indexOf(i);Di.splice(t,1),cs.splice(t,1),Jc.splice(t,1),Xo(i,"dxDragEventsCount")}}};Ot(Yc,Qc),Ot(Xc,Qc),Ot(Zc,Qc);const AT=function(i){const e=Di.indexOf(i.get(0)),t=cs[e].filter((s=>s));let n=i.find(t.join(", "));return cs[e].includes(void 0)&&(n=n.add(i)),n},OT=function(i){const e=Di.indexOf(i.get(0));return Jc[e]},kT=function(i,e){return i.itemPositionFunc?i.itemPositionFunc(e):e.offset()},MT=function(i,e){return i.itemSizeFunc?i.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},RT=wo.inherit({ctor(i){this.callBase(i),this.direction="both"},_init(i){this._initEvent=i},_start(i){if(i=this._fireEvent("dxdragstart",this._initEvent),this._maxLeftOffset=i.maxLeftOffset,this._maxRightOffset=i.maxRightOffset,this._maxTopOffset=i.maxTopOffset,this._maxBottomOffset=i.maxBottomOffset,i.targetElements||i.targetElements===null){const e=QS(i.targetElements||[]);this._dropTargets=qe(e,(t=>u(t).get(0)))}else this._dropTargets=Di},_move(i){const e=We(i),t=this._calculateOffset(e);i=this._fireEvent("dxdrag",i,{offset:t}),this._processDropTargets(i),i._cancelPreventDefault||i.preventDefault()},_calculateOffset(i){return{x:this._calculateXOffset(i),y:this._calculateYOffset(i)}},_calculateXOffset(i){if(this.direction!=="vertical"){const e=i.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset(i){if(this.direction!=="horizontal"){const e=i.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset(i,e,t){return e!=null&&(i=Math.max(i,-e)),t!=null&&(i=Math.min(i,t)),i},_processDropTargets(i){const e=this._findDropTarget(i);e===this._currentDropTarget||(this._fireDropTargetEvent(i,Xc),this._currentDropTarget=e,this._fireDropTargetEvent(i,Yc))},_fireDropTargetEvent(i,e){if(!this._currentDropTarget)return;const t={type:e,originalEvent:i,draggingElement:this._$element.get(0),target:this._currentDropTarget};Hi(t)},_findDropTarget(i){const e=this;let t;return S(Di,((n,s)=>{if(!e._checkDropTargetActive(s))return;const o=u(s);S(AT(o),((r,a)=>{const l=u(a);e._checkDropTarget(OT(o),l,u(t),i)&&(t=a)}))})),t},_checkDropTargetActive(i){let e=!1;return S(this._dropTargets,((t,n)=>(e=e||n===i||Cn(n,i),!e))),e},_checkDropTarget(i,e,t,n){if(e.get(0)===u(n.target).get(0))return!1;const o=kT(i,e);if(n.pageX<o.left||n.pageY<o.top)return!1;const r=MT(i,e);return n.pageX>o.left+r.width||n.pageY>o.top+r.height||t.length&&t.closest(e).length||i.checkDropTarget&&!i.checkDropTarget(e,n)?!1:e},_end(i){const e=We(i);this._fireEvent("dxdragend",i,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(i,Zc),delete this._currentDropTarget}});es({emitter:RT,events:["dxdragstart","dxdrag","dxdragend"]});const ta="dxResizable",PT=k(M_,ta),$T=k(qc,ta),BT=k(R_,ta),VT={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"};class P_ extends ii{_getDefaultOptions(){return C({},super._getDefaultOptions(),{handles:"all",step:"1",stepPrecision:"simple",minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,roundStepValue:!0,keepAspectRatio:!0})}_init(){super._init(),this.$element().addClass("dx-resizable")}_initMarkup(){super._initMarkup(),this._renderHandles()}_render(){super._render(),this._renderActions()}_renderActions(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")}_renderHandles(){this._handles=[];const{handles:e}=this.option();if(e==="none"||!e)return;const t=e==="all"?["top","bottom","left","right"]:e.split(" "),n={};S(t,((s,o)=>{n[o]=!0,this._renderHandle(o)})),n.bottom&&n.right&&this._renderHandle("corner-bottom-right"),n.bottom&&n.left&&this._renderHandle("corner-bottom-left"),n.top&&n.right&&this._renderHandle("corner-top-right"),n.top&&n.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}_renderHandle(e){const t=u("<div>").addClass("dx-resizable-handle").addClass(`dx-resizable-handle-${e}`).appendTo(this.$element());this._handles.push(t)}_attachEventHandlers(){if(this.option("disabled"))return;const e={};e[PT]=this._dragStartHandler.bind(this),e[$T]=this._dragHandler.bind(this),e[BT]=this._dragEndHandler.bind(this),this._handles.forEach((t=>{_.on(t,e,{direction:"both",immediate:!0})}))}_detachEventHandlers(){this._handles.forEach((e=>{_.off(e)}))}_toggleEventHandlers(e){e?this._attachEventHandlers():this._detachEventHandlers()}_getElementSize(){const e=this.$element();return e.css("boxSizing")==="border-box"?{width:Ue(e),height:He(e)}:{width:me(e),height:Oe(e)}}_dragStartHandler(e){var t;const n=this.$element();if(n.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(e),this._elementLocation=Li(n),this._elementSize=this._getElementSize(),this._renderDragOffsets(e),(t=this._resizeStartAction)===null||t===void 0||t.call(this,{event:e,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),e.targetElements=null}_toggleResizingClass(e){this.$element().toggleClass("dx-resizable-resizing",e)}_renderDragOffsets(e){const t=this._getArea();if(!t)return;const n=u(e.target).closest(".dx-resizable-handle"),s=Ue(n),o=He(n),r=n.offset()??{left:0,top:0},a=t.offset,l=this._getAreaScrollOffset();this._leftMaxOffset=r.left-a.left-l.scrollX,e.maxLeftOffset=this._leftMaxOffset,this._rightMaxOffset=a.left+t.width-r.left-s+l.scrollX,e.maxRightOffset=this._rightMaxOffset,this._topMaxOffset=r.top-a.top-l.scrollY,e.maxTopOffset=this._topMaxOffset,this._bottomMaxOffset=a.top+t.height-r.top-o+l.scrollY,e.maxBottomOffset=this._bottomMaxOffset}_getBorderWidth(e,t){if(Ve(e.get(0)))return 0;const n=e.css(VT[t]);return parseInt(n,10)||0}_proportionate(e,t){const n=this._elementSize,s=e==="x"?n.width/n.height:n.height/n.width;return t*s}_getProportionalDelta(e){const{x:t,y:n}=e,s=this._proportionate("y",t);if(s>=n)return{x:t,y:s};const o=this._proportionate("x",n);return o>=t?{x:o,y:n}:{x:0,y:0}}_getDirectionName(e){const t=this._movingSides;return e==="x"?t.left?"left":"right":t.top?"top":"bottom"}_fitIntoArea(e,t){const n=this._getDirectionName(e);return Math.min(t,this[`_${n}MaxOffset`]??1/0)}_fitDeltaProportionally(e){let t=C({},e);const n=this._elementSize,{minWidth:s,minHeight:o,maxWidth:r,maxHeight:a}=this.option(),l=()=>n.width+t.x,c=()=>n.height+t.y,d=m=>t[m]===this._fitIntoArea(m,t[m]),h=()=>gi(l(),s,r)&&d("x"),p=()=>gi(c(),o,a)&&d("y");if(!h()){const m=this._fitIntoArea("x",at(l(),s,r)-n.width);t={x:m,y:this._proportionate("y",m)}}if(!p()){const m=this._fitIntoArea("y",at(c(),o,a)-n.height);t={x:this._proportionate("x",m),y:m}}return h()&&p()?t:{x:0,y:0}}_fitDelta(e){const{x:t,y:n}=e,s=this._elementSize,{minWidth:o,minHeight:r,maxWidth:a,maxHeight:l}=this.option();return{x:at(s.width+t,o,a)-s.width,y:at(s.height+n,r,l)-s.height}}_getDeltaByOffset(e){const t=this._movingSides,n=this._isCornerHandler(t)&&this.option("keepAspectRatio");let s={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)};if(n){const o=this._getProportionalDelta(s);s=this._fitDeltaProportionally(o)}else{const o=this._fitDelta(s);s=this._roundByStep(o)}return s}_updatePosition(e,t){const{width:n,height:s}=t,o=this._elementLocation,r=this._movingSides,a=this.$element(),l=this._getElementSize(),c=e.y*(r.top?-1:1)-((l.height||s)-s),d=e.x*(r.left?-1:1)-((l.width||n)-n);rt(a,{top:o.top+(r.top?c:0),left:o.left+(r.left?d:0)})}_dragHandler(e){const t=this._getOffset(e),n=this._getDeltaByOffset(t),s=this._updateDimensions(n);this._updatePosition(n,s),this._triggerResizeAction(e,s)}_updateDimensions(e){const t=h=>h.substring(h.length-2)==="px",{stepPrecision:n}=this.option(),s=n==="strict",o=this._elementSize,r=o.width+e.x,a=o.height+e.y,l=this.$element()[0].style,c=e.x||s||t(l.width),d=e.y||s||t(l.height);return c&&this.option({width:r}),d&&this.option({height:a}),{width:c?r:o.width,height:d?a:o.height}}_triggerResizeAction(e,t){var n;const{width:s,height:o}=t;(n=this._resizeAction)===null||n===void 0||n.call(this,{event:e,width:this.option("width")||s,height:this.option("height")||o,handles:this._movingSides}),Bt(this.$element())}_isCornerHandler(e){return Object.values(e).reduce(((t,n)=>t^n),0)===0}_getOffset(e){const{offset:t}=e,n=this._movingSides;return!n.left&&!n.right&&(t.x=0),!n.top&&!n.bottom&&(t.y=0),t}_roundByStep(e){const{stepPrecision:t}=this.option();return t==="strict"?this._roundStrict(e):this._roundNotStrict(e)}_getSteps(){const{step:e,roundStepValue:t}=this.option();return Ha(e,!t)}_roundNotStrict(e){const{h:t,v:n}=this._getSteps();return{x:e.x-e.x%t,y:e.y-e.y%n}}_roundStrict(e){const t=this._movingSides,n={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)},s=this._getSteps(),o=this._elementLocation,r=this._elementSize,a=t.left?o.left:o.left+r.width,l=t.top?o.top:o.top+r.height,c=(a+n.x)%s.h,d=(l+n.y)%s.v,h=Math.sign||(w=>{const T=+w;return T===0||isNaN(T)?T:T>0?1:-1}),p=(w,T)=>(1+.2*h(T))%1*w,m=(w,T)=>Math.abs(w)<.2*T;let g=n.x-c,f=n.y-d;c>p(s.h,n.x)&&(g+=s.h),d>p(s.v,n.y)&&(f+=s.v);const v=(t.left||t.right)&&!m(n.x,s.h)?g:0,b=(t.top||t.bottom)&&!m(n.y,s.v)?f:0;return{x:v*(t.left?-1:1),y:b*(t.top?-1:1)}}_getMovingSides(e){const t=u(e.target),n=t.hasClass("dx-resizable-handle-corner-top-left"),s=t.hasClass("dx-resizable-handle-corner-top-right"),o=t.hasClass("dx-resizable-handle-corner-bottom-left"),r=t.hasClass("dx-resizable-handle-corner-bottom-right");return{top:t.hasClass("dx-resizable-handle-top")||n||s,left:t.hasClass("dx-resizable-handle-left")||n||o,bottom:t.hasClass("dx-resizable-handle-bottom")||o||r,right:t.hasClass("dx-resizable-handle-right")||s||r}}_getArea(){let{area:e}=this.option();return L(e)&&(e=e.call(this)),J(e)?this._getAreaFromObject(e):this._getAreaFromElement(e)}_getAreaScrollOffset(){const{area:e}=this.option(),t=!L(e)&&!J(e),n={scrollY:0,scrollX:0};if(t){const s=u(e)[0];Ve(s)&&(n.scrollX=s.pageXOffset,n.scrollY=s.pageYOffset)}return n}_getAreaFromObject(e){const t={width:e.right-e.left,height:e.bottom-e.top,offset:{left:e.left,top:e.top}};return this._correctAreaGeometry(t),t}_getAreaFromElement(e){const t=u(e);if(!t.length)return;const n={width:Zu(t),height:Ju(t),offset:I({top:0,left:0},Ve(t[0])?{}:t.offset())};return this._correctAreaGeometry(n,t),n}_correctAreaGeometry(e,t){const n=t?this._getBorderWidth(t,"left"):0,s=t?this._getBorderWidth(t,"top"):0;e.offset.left+=n+this._getBorderWidth(this.$element(),"left"),e.offset.top+=s+this._getBorderWidth(this.$element(),"top"),e.width-=Ue(this.$element())-Zu(this.$element()),e.height-=He(this.$element())-Ju(this.$element())}_dragEndHandler(e){var t;const n=this.$element();(t=this._resizeEndAction)===null||t===void 0||t.call(this,{event:e,width:Ue(n),height:He(n),handles:this._movingSides}),this._toggleResizingClass(!1)}_renderWidth(e){const{minWidth:t,maxWidth:n}=this.option();this.option("width",at(e,t,n))}_renderHeight(e){const{minHeight:t,maxHeight:n}=this.option();this.option("height",at(e,t,n))}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"disabled":this._toggleEventHandlers(!n),super._optionChanged(e);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":te()&&this._renderWidth(Ue(this.$element()));break;case"minHeight":case"maxHeight":te()&&this._renderHeight(He(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:super._optionChanged(e)}}_clean(){this.$element().find(".dx-resizable-handle").remove()}_useTemplates(){return!1}}ve(ta,P_);const LT={getSwatchContainer:i=>{const t=u(i).closest('[class^="dx-swatch-"], [class*=" dx-swatch-"]'),n=Xn();if(!t.length)return n;const s=new RegExp("(\\s|^)(dx-swatch-.*?)(\\s|$)"),o=t[0].className.match(s)[2];let r=n.children(`.${o}`);return r.length||(r=u("<div>").addClass(o).appendTo(n)),r}},FT=ot.getWindow(),$_={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},B_={h:0,v:0},HT=i=>le(i);class V_{constructor(e){const{properties:t,elements:n}=e,{container:s,position:o,visualContainer:r}=t,{$root:a,$content:l,$wrapper:c}=n;this._properties=t,this._$root=a,this._$content=l,this._$wrapper=c,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(s),this.updatePosition(o),this.updateVisualContainer(r)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(e){this._properties._fixWrapperPosition=e,this.styleWrapperPosition()}set restorePosition(e){this._properties.restorePosition=e}updatePosition(e){this._properties.position=e,this._position=this._normalizePosition(e),this.updateVisualContainer()}updateContainer(e){const t=e??this._properties.container;y(e)&&(this._properties.container=t),t?this._$markupContainer=u(t):this._$root&&(this._$markupContainer=LT.getSwatchContainer(this._$root)),this.updateVisualContainer(this._properties.visualContainer)}updateVisualContainer(e){y(e)&&(this._properties.visualContainer=e),this._$visualContainer=this._getVisualContainer()}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){const e=!!this._properties.restorePosition;this.restorePositionOnNextRender(e)}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(rt(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&Js.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var e,t;const o=Ve((e=this.$visualContainer)===null||e===void 0?void 0:e.get(0))||this._properties._fixWrapperPosition?"fixed":"absolute";(t=this._$wrapper)===null||t===void 0||t.css("position",o)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=Li(this._$content)}_renderContentInitialPosition(){var e,t,n;this._renderBoundaryOffset(),lr(this._$content);const s=((e=this._$wrapper)===null||e===void 0?void 0:e.css("overflow"))??"";if((t=this._$wrapper)===null||t===void 0||t.css("overflow","hidden"),!this._properties._skipContentPositioning){const o=Js.setup(this._$content,this._position);this._initialPosition=o}(n=this._$wrapper)===null||n===void 0||n.css("overflow",s),this.detectVisualPositionChange()}_raisePositionedEvents(e){var t,n;const s=this._previousVisualPosition,o=this._visualPosition,r=s?.top===o?.top,a=s?.left===o?.left;if(!(r&&a)){var c,d;(c=(d=this._properties).onVisualPositionChanged)===null||c===void 0||c.call(d,{event:e,previousPosition:s,position:o})}(t=(n=this._properties).onPositioned)===null||t===void 0||t.call(n,{position:this._initialPosition})}_renderBoundaryOffset(){var e,t;const n=((e=this._position)===null||e===void 0?void 0:e.boundaryOffset)??B_,{v:s,h:o}=n;s&&o&&((t=this._$content)===null||t===void 0||t.css("margin",`${n.v}px ${n.h}px`))}_getVisualContainer(){var e,t,n;const s=this._properties.container,o=this._properties.visualContainer,r=du((e=this._properties.position)===null||e===void 0?void 0:e.of)?(t=this._properties.position)===null||t===void 0||(t=t.of)===null||t===void 0?void 0:t.target:(n=this._properties.position)===null||n===void 0?void 0:n.of;return u(o||s||r||FT)}_normalizePosition(e){const t={boundaryOffset:B_};if(y(e)){const n=this._positionToObject(e);return I(!0,{},t,n)}return t}_positionToObject(e){return HT(e)?C({},$_[e]):e}}let ia=1500,qi=[];const NT=i=>(ia=Be(i,ia),ia),L_=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ia;const{length:e}=qi,t=(e?qi[e-1]:i)+1;return qi.push(t),t},ed=i=>{const e=qi.indexOf(i);e>=0&&qi.splice(e,1)},WT=i=>qi.length?qi[qi.length-1]===i:!1,zT=ti.add,ds=ot.getWindow(),F_=cr,td=[];zT((()=>{_.subscribeGlobal(D.getDocument(),Ae.down,(i=>{for(let n=td.length-1;n>=0;n-=1){var e,t;if(!((e=(t=td[n])._proxiedDocumentDownHandler)!==null&&e!==void 0&&e.call(t,i)))return}}))}));class us extends jt{_supportedKeys(){return C({},super._supportedKeys(),{escape(){this.hide()}})}_getDefaultOptions(){return C({},super._getDefaultOptions(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:C({},$_.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},hideOnOutsideClick:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1,_loopFocus:!1,_ignorePreventScrollEventsDeprecation:!1,hideTopOverlayHandler:()=>{this.hide()}})}_defaultOptionsRules(){return[...super._defaultOptionsRules(),{device:()=>!ot.hasWindow(),options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}]}_setOptionsByReference(){super._setOptionsByReference(),this._optionsByReference=C({},this._optionsByReference,{animation:!0})}$wrapper(){return this._$wrapper}_eventBindingTarget(){return this._$content}ctor(e,t){super.ctor(e,t),t&&"preventScrollEvents"in t&&!t._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo()}_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})}_init(){super._init(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=u("<div>").addClass("dx-overlay-wrapper"),this._$content=u("<div>").addClass("dx-overlay-content"),this._initInnerOverlayClass(),this.$element().addClass("dx-overlay"),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0);const{hideTopOverlayHandler:t}=this.option();this._initHideTopOverlayHandler(t),this._parentsScrollSubscriptionInfo={handler:n=>{this._hideOnParentsScrollHandler(n)}},this.warnPositionAsFunction()}warnPositionAsFunction(){const{position:e}=this.option();L(e)&&he.log("W0018")}_initInnerOverlayClass(){const{innerOverlay:e}=this.option();this._$content.toggleClass("dx-inner-overlay",e)}_initHideTopOverlayHandler(e){e&&(this._hideTopOverlayHandler=e)}_getActionsList(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]}_initActions(){this._actions={};const e=this._getActionsList();S(e,((t,n)=>{this._actions&&(this._actions[n]=this._createActionByOption(n,{excludeValidators:["disabled","readOnly"]})||M)}))}_initHideOnOutsideClickHandler(){this._proxiedDocumentDownHandler=e=>this._documentDownHandler(e)}_initMarkup(){super._initMarkup(),this._renderWrapperAttributes(),this._initPositionController()}_documentDownHandler(e){this._showAnimationProcessing&&this._stopAnimation();const{target:t}=e,n=u(t),s=xi.contains(ds.document,t),o=u(ds.document).is(n)||s,r=u(n).closest(".dx-inner-overlay").length,a=this._$content.is(n),l=xi.contains(this._$content.get(0),t);o&&!r&&!(a||l)&&this._shouldHideOnOutsideClick(e)&&this._outsideClickHandler(e);const{propagateOutsideClick:d}=this.option();return!!d}_shouldHideOnOutsideClick(e){const{hideOnOutsideClick:t}=this.option();return L(t)?t(e):!!t}_outsideClickHandler(e){const{shading:t}=this.option();t&&e.preventDefault(),this.hide()}_getAnonymousTemplateName(){return"content"}_initTemplates(){this._templateManager.addDefaultTemplates({content:new ts}),super._initTemplates()}_isTopOverlay(){const e=this._overlayStack();for(let t=e.length-1;t>=0;t-=1){const n=e[t]._findTabbableBounds();if(n.$first||n.$last)return e[t]===this}return!1}_overlayStack(){return td}_zIndexInitValue(){return us.baseZIndex()}_toggleViewPortSubscription(e){this._viewPortChangeHandle&&F_.remove(this._viewPortChangeHandle),e&&(this._viewPortChangeHandle=()=>{this._viewPortChangeHandler()},F_.add(this._viewPortChangeHandle))}_viewPortChangeHandler(){const{container:e}=this.option();this._positionController.updateContainer(e),this._refresh()}_renderWrapperAttributes(){const{wrapperAttr:e}=this.option(),t=C({},e),n=t.class;delete t.class;const s=this.$wrapper();s.attr(t),this._customWrapperClass&&s.removeClass(this._customWrapperClass),s.addClass(n),this._customWrapperClass=n}_renderVisibilityAnimate(e){return this._stopAnimation(),e?this._show():this._hide()}_getAnimationConfig(){return this._getOptionValue("animation",this)??{}}_toggleBodyScroll(e){}_animateShowing(){const e=this._getAnimationConfig(),t=this._normalizeAnimation(e.show,"to"),n=t?.start??M,s=t?.complete??M;this._animate(t,((o,r)=>{var a,l;if(this._isAnimationPaused)return;const{focusStateEnabled:c}=this.option();c&&_.trigger(this._focusTarget(),"focus"),s.call(this,o,r),this._showAnimationProcessing=!1,this._isHidden=!1,(a=this._actions)===null||a===void 0||(l=a.onShown)===null||l===void 0||l.call(a),this._toggleSafariScrolling(),this._showingDeferred.resolve()}),((o,r)=>{this._isAnimationPaused||(n.call(this,o,r),this._showAnimationProcessing=!0)}))}_processShowingHidingCancel(e,t,n){Ri(e)?e.then((s=>{s?n():t()})).catch((()=>t())):e?n():t()}_show(){return this._showingDeferred=A(),this._parentHidden=this._isParentHidden(),this._showingDeferred.done((()=>{delete this._parentHidden})),this._parentHidden?(this._isHidden=!0,this._showingDeferred.resolve()):this._currentVisible?A().resolve().promise():(this._currentVisible=!0,this._isHidingActionCanceled?(delete this._isHidingActionCanceled,this._showingDeferred.reject()):(()=>{var t,n;this._stopAnimation();const{enableBodyScroll:s}=this.option();this._toggleBodyScroll(s),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass("dx-state-invisible",!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();const o={cancel:!1};(t=this._actions)===null||t===void 0||(n=t.onShowing)===null||n===void 0||n.call(t,o),this._processShowingHidingCancel(o.cancel,(()=>{this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing()}),(()=>{this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass("dx-state-invisible",!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this._toggleBodyScroll(!0),this.option("visible",!1),this._showingDeferred.resolve()}))})(),this._showingDeferred.promise())}_normalizeAnimation(e,t){if(!e)return;const n=C({type:"slide",skipElementInitialStyles:!0},e);return X(n[t])&&I(n[t],{position:this._positionController.position}),n}_animateHiding(){const e=this._getAnimationConfig(),t=this._normalizeAnimation(e.hide,"from"),n=t?.start??M,s=t?.complete??M;this._animate(t,((o,r)=>{var a,l;this._$content.css("pointerEvents",""),this._renderVisibility(!1),s.call(this,o,r),this._hideAnimationProcessing=!1,(a=this._actions)===null||a===void 0||(l=a.onHidden)===null||l===void 0||l.call(a),this._hidingDeferred.resolve()}),((o,r)=>{this._$content.css("pointerEvents","none"),n.call(this,o,r),this._hideAnimationProcessing=!0}))}_hide(){if(!this._currentVisible)return A().resolve().promise();this._currentVisible=!1,this._hidingDeferred=A();const e={cancel:!1};if(this._isShowingActionCanceled)delete this._isShowingActionCanceled,this._hidingDeferred.reject();else{var t,n;(t=this._actions)===null||t===void 0||(n=t.onHiding)===null||n===void 0||n.call(t,e),this._toggleSafariScrolling(),this._toggleBodyScroll(!0);const s=()=>{this._isHidingActionCanceled=!0;const{enableBodyScroll:r}=this.option();this._toggleBodyScroll(r),this.option("visible",!0),this._hidingDeferred.resolve()},o=()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._animateHiding()};this._processShowingHidingCancel(e.cancel,o,s)}return this._hidingDeferred.promise()}_forceFocusLost(){const e=D.getActiveElement();!!this._$content.find(e).length&&xi.resetActiveElement()}_animate(e,t,n){if(e){const s=n??e.start??M,o=C({},e,{start:s,complete:t});Te.animate(this._$content.get(0),o)}else t()}_stopAnimation(){Te.stop(this._$content.get(0),!0)}_renderVisibility(e){e&&this._isParentHidden()||(this._currentVisible=e,this._stopAnimation(),e||qS(this._$content),e?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),uc(this._$content),Bt(this._$content)):(this._toggleVisibility(e),this._$content.toggleClass("dx-state-invisible",!e),this._updateZIndexStackPosition(e),this._moveFromContainer()),this._toggleShading(e),this._toggleSubscriptions(e))}_updateZIndexStackPosition(e){const t=this._overlayStack(),n=t.indexOf(this);e?(n===-1&&(this._zIndex=L_(this._zIndexInitValue()),t.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):n!==-1&&(t.splice(n,1),ed(this._zIndex))}_toggleShading(e){const{shading:t,shadingColor:n}=this.option();this._$wrapper.toggleClass("dx-overlay-shader",e&&t),this._$wrapper.css("backgroundColor",t?n??"":""),this._toggleTabTerminator(!!(e&&t))}_initTabTerminatorHandler(){this._proxiedTabTerminatorHandler=e=>{this._tabKeyHandler(e)}}_toggleTabTerminator(e){const{_loopFocus:t}=this.option(),n=k("keydown",this.NAME);t||e?_.on(D.getDocument(),n,this._proxiedTabTerminatorHandler):this._destroyTabTerminator()}_destroyTabTerminator(){const e=k("keydown",this.NAME);_.off(D.getDocument(),e,this._proxiedTabTerminatorHandler)}_findTabbableBounds(){const e=this._$wrapper.find("*"),t=e.length-1;let n=null,s=null;for(let o=0;o<=t;o+=1){const r=e.eq(o),a=e.eq(t-o);if(!n&&r.is(Gp.tabbable)&&(n=r),!s&&a.is(Gp.tabbable)&&(s=a),n&&s)break}return{$first:n,$last:s}}_tabKeyHandler(e){if(tt(e)!=="tab"||!this._isTopOverlay())return;const t=this._$wrapper.get(0),n=D.getActiveElement(t),{$first:s,$last:o}=this._findTabbableBounds(),r=!e.shiftKey&&n===o?.get(0),a=e.shiftKey&&n===s?.get(0),l=!xi.contains(t,n);if(r||a||l){e.preventDefault();const d=e.shiftKey?o:s;_.trigger(d,"focusin"),_.trigger(d,"focus")}}_toggleSubscriptions(e){ot.hasWindow()&&(this._toggleHideTopOverlayCallback(e),this._toggleHideOnParentsScrollSubscription(e))}_toggleHideTopOverlayCallback(e){this._hideTopOverlayHandler&&(e?lp.add(this._hideTopOverlayHandler):lp.remove(this._hideTopOverlayHandler))}_toggleHideOnParentsScrollSubscription(e){const t=k("scroll",this.NAME),n=this._parentsScrollSubscriptionInfo??{},{prevTargets:s,handler:o}=n;_.off(s,t,o);const{hideOnParentScroll:r}=this.option();if(e&&r){let a=this._getHideOnParentScrollTarget().parents();B.real().deviceType==="desktop"&&(a=a.add(ds)),_.on(a,t,o),this._parentsScrollSubscriptionInfo=C({},n,{prevTargets:a})}}_hideOnParentsScrollHandler(e){let t=!1;const{hideOnParentScroll:n}=this.option();L(n)&&(t=n(e)),!t&&!this._showAnimationProcessing&&this.hide()}_getHideOnParentScrollTarget(){const{_hideOnParentScrollTarget:e}=this.option(),t=u(e);return t.length?t:this._$wrapper}_render(){super._render(),this._appendContentToElement(),this._renderVisibilityAnimate(this._isVisible())}_appendContentToElement(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())}_renderContent(){const{deferRendering:e}=this.option(),t=!this._currentVisible&&e;if(this._isVisible()&&this._isParentHidden()){this._isHidden=!0;return}this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),super._renderContent())}_isParentHidden(){const{_checkParentVisibility:e}=this.option();if(!e)return!1;if(this._parentHidden!==void 0)return this._parentHidden;const t=this.$element().parent();if(t.is(":visible"))return!1;let n=!1;return t.add(t.parents()).each(((s,o)=>{if(u(o).css("display")==="none")return n=!0,!1})),n||!D.getBody().contains(t.get(0))}_renderContentImpl(){const{contentTemplate:e}=this.option(),t=A(),n=this._getTemplate(e),s=this._templateManager.anonymousTemplateName===e;n?.render({container:ae(this.$content()),noModel:!0,transclude:s,onRendered:()=>{t.resolve();const{templatesRenderAsynchronously:r}=this.option();r&&this._dimensionChanged()}});const{preventScrollEvents:o}=this.option();return this._toggleWrapperScrollEventsSubscription(o),t.done((()=>{this._processContentRendering()})),t.promise()}_processContentRendering(){this._isVisible()&&this._moveToContainer()}_getPositionControllerConfig(){var e,t;const{container:n,visualContainer:s,restorePosition:o,_fixWrapperPosition:r,_skipContentPositioning:a}=this.option(),l={container:n,visualContainer:s,restorePosition:o,_fixWrapperPosition:r,_skipContentPositioning:a,onPositioned:(e=this._actions)===null||e===void 0?void 0:e.onPositioned,onVisualPositionChanged:(t=this._actions)===null||t===void 0?void 0:t.onVisualPositionChanged},c={$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper};return{properties:l,elements:c}}_initPositionController(){this._positionController=new V_(this._getPositionControllerConfig())}_toggleWrapperScrollEventsSubscription(e){const t=k(qc,this.NAME);if(_.off(this._$wrapper,t),e){const n=o=>{const{originalEvent:r}=o.originalEvent,{type:a}=r??{},l=a==="wheel",c=a==="mousemove",d=l&&ut(o);o._cancelPreventDefault=!0,r&&o.cancelable!==!1&&!(c||d)&&o.preventDefault()},s={validate:()=>!0,getDirection:()=>"both",_toggleGestureCover(o){o||this._toggleGestureCoverImpl(o)},_clearSelection:M,isNative:!0};_.on(this._$wrapper,t,s,n)}}_moveFromContainer(){this._$content.appendTo(this.$element()),this._$wrapper.detach()}_checkContainerExists(){const e=this._positionController.$container;if(e===void 0)return;e.length>0||Ne.log("W1021",this.NAME)}_moveToContainer(){const e=this._positionController.$container;e!==void 0&&this._$wrapper.appendTo(e),this._$content.appendTo(this._$wrapper)}_renderGeometry(){this._isVisible()&&ot.hasWindow()&&(this._stopAnimation(),this._renderGeometryImpl())}_renderGeometryImpl(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()}_renderPosition(e){this._positionController.positionContent()}_isAllWindowCovered(){var e;const{shading:t}=this.option(),n=(e=this._positionController.$visualContainer)===null||e===void 0?void 0:e.get(0);return Ve(n)&&!!t}_toggleSafariScrolling(){const e=this._isVisible(),t=u(D.getBody()),n=B.real().platform==="ios"&&Rt.safari,s=this._isAllWindowCovered(),o=t.hasClass("dx-prevent-safari-scrolling"),r=!o&&e&&s,a=o&&(!e||!s||this._disposed);n&&(a?(t.removeClass("dx-prevent-safari-scrolling"),ds.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):r&&(this._cachedBodyScrollTop=ds.pageYOffset,t.addClass("dx-prevent-safari-scrolling")))}_renderWrapper(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()}_renderWrapperDimensions(){const{$visualContainer:e}=this._positionController,t=D.getDocumentElement(),n=Ve(e?.get(0)),s=n?t.clientWidth:Ue(e),o=n?ds.innerHeight:He(e);this._$wrapper.css({width:s,height:o})}_renderDimensions(){const e=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",e),maxWidth:this._getOptionValue("maxWidth",e),minHeight:this._getOptionValue("minHeight",e),maxHeight:this._getOptionValue("maxHeight",e),width:this._getOptionValue("width",e),height:this._getOptionValue("height",e)})}_focusTarget(){return this._$content}_attachKeyboardEvents(){this._keyboardListenerId=ao.on(this._$content,null,(e=>this._keyboardHandler(e)))}_keyboardHandler(e,t){const n=e.originalEvent,s=u(n.target),{ignoreChildEvents:o}=this.option();(s.is(this._$content)||!o)&&super._keyboardHandler(e,t)}_isVisible(){return!!this.option("visible")}_visibilityChanged(e){e?this._isVisible()&&this._renderVisibilityAnimate(e):this._renderVisibilityAnimate(e)}_dimensionChanged(){this._renderGeometry()}_clean(){this._contentAlreadyRendered||this.$content().empty(),this._renderVisibility(!1),this._cleanFocusState()}_dispose(){Te.stop(this._$content.get(0),!1),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._actions={},this._parentsScrollSubscriptionInfo=void 0,super._dispose(),this._toggleSafariScrolling(),this._isVisible()&&ed(this._zIndex),this._$wrapper.remove(),this._$content.remove(),this._destroyTabTerminator()}_toggleRTLDirection(e){this._$content.toggleClass("dx-rtl",e)}_optionChanged(e){const{value:t,name:n}=e;if(this._getActionsList().includes(n)){this._initActions();return}switch(n){case"animation":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"_loopFocus":case"shading":this._toggleShading(this._isVisible()),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this._isVisible());break;case"width":case"height":case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":{const{position:s}=this.option();this._positionController.updatePosition(s),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break}case"visible":this._renderVisibilityAnimate(!!t).done((()=>{var s;return(s=this._animateDeferred)===null||s===void 0?void 0:s.resolveWith(this)})).fail((()=>{var s;return(s=this._animateDeferred)===null||s===void 0?void 0:s.reject()}));break;case"container":this._positionController.updateContainer(t),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(t),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(t),this._toggleHideTopOverlayCallback(this._isVisible());break;case"hideOnParentScroll":case"_hideOnParentScrollTarget":this._toggleHideOnParentsScrollSubscription(this._isVisible());break;case"rtlEnabled":this._contentAlreadyRendered=!1,super._optionChanged(e);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=t;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=t;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(t);break;default:super._optionChanged(e)}}toggle(e){const t=this._isVisible(),n=e??!t,s=A();if(n===t)return s.resolveWith(this,[n]).promise();const o=A();return this._animateDeferred=o,this.option("visible",n),o.promise().done((()=>{delete this._animateDeferred,s.resolveWith(this,[this._isVisible()])})).fail((()=>{delete this._animateDeferred,s.reject()})),s.promise()}$content(){return this._$content}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}content(){return ae(this._$content)}repaint(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Bt(this._$content)):super.repaint()}static baseZIndex(e){return NT(e)}}ve("dxOverlay",us);class GT{constructor(e){this.init(e)}init(e){let{dragEnabled:t,handle:n,draggableElement:s,positionController:o}=e;this._positionController=o,this._draggableElement=s,this._handle=n,this._dragEnabled=t,this.unsubscribe(),t&&this.subscribe()}moveDown(e){this._moveTo(5,0,e)}moveUp(e){this._moveTo(-5,0,e)}moveLeft(e){this._moveTo(0,-5,e)}moveRight(e){this._moveTo(0,5,e)}subscribe(){const e=this._getEventNames();_.on(this._handle,e.startEventName,(t=>{this._dragStartHandler(t)})),_.on(this._handle,e.updateEventName,(t=>{this._dragUpdateHandler(t)})),_.on(this._handle,e.endEventName,(t=>{this._dragEndHandler(t)}))}unsubscribe(){const e=this._getEventNames();_.off(this._handle,e.startEventName),_.off(this._handle,e.updateEventName),_.off(this._handle,e.endEventName)}_getEventNames(){const e=k(M_,"overlayDrag"),t=k(qc,"overlayDrag"),n=k(R_,"overlayDrag");return{startEventName:e,updateEventName:t,endEventName:n}}_dragStartHandler(e){const t=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=t.top,e.maxBottomOffset=t.bottom,e.maxLeftOffset=t.left,e.maxRightOffset=t.right}_dragUpdateHandler(e){const t={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(t),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,t,n){if(!this._dragEnabled)return;n.preventDefault(),n.stopPropagation();const s=this._fitOffsetIntoAllowedRange(e,t);this._moveByOffset(s),this._dragEndHandler(n)}_fitOffsetIntoAllowedRange(e,t){const n=this._getAllowedOffsets();return{top:at(e,-n.top,n.bottom),left:at(t,-n.left,n.right)}}_getContainerDimensions(){const e=D.getDocument(),t=this._positionController.$dragResizeContainer.get(0);let n=Ue(t),s=He(t);return Ve(t)&&(s=Math.max(e.body.clientHeight,s),n=Math.max(e.body.clientWidth,n)),{width:n,height:s}}_getContainerPosition(){const e=this._positionController.$dragResizeContainer.get(0);return Ve(e)?{top:0,left:0}:nl(e)}_getElementPosition(){return nl(this._draggableElement)}_getInnerDelta(){const e=this._getContainerDimensions(),t=this._getElementDimensions();return{x:e.width-t.width,y:e.height-t.height}}_getOuterDelta(){const{width:e,height:t}=this._getElementDimensions(),{outsideDragFactor:n}=this._positionController;return{x:e*n,y:t*n}}_getFullDelta(){const e=this._getInnerDelta(),t=this._getOuterDelta();return{x:e.x+t.x,y:e.y+t.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){const e=this._getFullDelta();if(!(e.y>=0&&e.x>=0))return{top:0,bottom:0,left:0,right:0};const n=this._getElementPosition(),s=this._getContainerPosition(),o=this._getOuterDelta();return{top:n.top-s.top+o.y,bottom:-n.top+s.top+e.y,left:n.left-s.left+o.x,right:-n.left+s.left+e.x}}_moveByOffset(e){const t=Li(this._draggableElement),n={left:t.left+e.left,top:t.top+e.top};rt(this._draggableElement,n)}}const KT={setOverflow:M,restoreOverflow:M},UT=()=>{if(!ot.hasWindow())return KT;const i=ot.getWindow(),{documentElement:e}=D.getDocument(),t=D.getBody(),n=B.real().platform==="ios",s={overflow:null,overflowX:null,overflowY:null,paddingRight:null,position:null,top:null,left:null};return{setOverflow:n?()=>{if(y(s.position)||t.style.position==="fixed")return;const{scrollY:o,scrollX:r}=i;s.position=t.style.position,s.top=t.style.top,s.left=t.style.left,t.style.setProperty("position","fixed"),t.style.setProperty("top",-o+"px"),t.style.setProperty("left",-r+"px")}:()=>{(()=>{const o=i.innerWidth-e.clientWidth;if(s.paddingRight||o<=0)return;const r=i.getComputedStyle(t).getPropertyValue("padding-right"),a=parseInt(r,10);s.paddingRight=a,t.style.setProperty("padding-right",`${a+o}px`)})(),!(s.overflow||t.style.overflow==="hidden")&&(s.overflow=t.style.overflow,s.overflowX=t.style.overflowX,s.overflowY=t.style.overflowY,t.style.setProperty("overflow","hidden"))},restoreOverflow:n?()=>{if(!y(s.position))return;const o=-parseInt(t.style.top,10),r=-parseInt(t.style.left,10);["position","top","left"].forEach((a=>{s[a]?t.style.setProperty(a,s[a]):t.style.removeProperty(a)})),i.scrollTo(r,o),s.position=null}:()=>{y(s.paddingRight)&&(s.paddingRight?t.style.setProperty("padding-right",`${s.paddingRight}px`):t.style.removeProperty("padding-right"),s.paddingRight=null),["overflow","overflowX","overflowY"].forEach((o=>{if(!y(s[o]))return;const r=o.replace(/(X)|(Y)/,(a=>`-${a.toLowerCase()}`));s[o]?t.style.setProperty(r,s[o]):t.style.removeProperty(r),s[o]=null}))}}},id=ot.getWindow();class jT extends V_{constructor(e){super(e);const t=this._properties,{properties:n}=e,{fullScreen:s,forceApplyBindings:o,dragOutsideBoundary:r,dragAndResizeArea:a,outsideDragFactor:l}=n;this._properties=C({},t,{fullScreen:s,forceApplyBindings:o,dragOutsideBoundary:r,dragAndResizeArea:a,outsideDragFactor:l}),this._$dragResizeContainer=void 0,this._updateDragResizeContainer()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._properties.dragOutsideBoundary?1:this._properties.outsideDragFactor}set outsideDragFactor(e){this._properties.outsideDragFactor=e}set fullScreen(e){this._properties.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}set dragAndResizeArea(e){this._properties.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._properties.dragOutsideBoundary=e,this._updateDragResizeContainer()}updateContainer(e){super.updateContainer(e),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._properties.fullScreen)rt(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var e,t;(e=(t=this._properties).forceApplyBindings)===null||e===void 0||e.call(t),super.positionContent()}}_normalizePosition(e){const t=super._normalizePosition(e);return this._properties.fullScreen&&(t.of="window"),t}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){return this._properties.dragOutsideBoundary?u(id):this._properties.dragAndResizeArea?u(this._properties.dragAndResizeArea):Qh().get(0)||this._properties.container?this._$markupContainer:u(id)}_getVisualContainer(){return this._properties.fullScreen?u(id):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1)}_fullScreenDisabled(){this.restorePositionOnNextRender(!0)}}const qT=ot.getWindow(),H_=["cancel","clear","done"],Yi={static:"",inherit:"dx-popup-inherit-height",flex:"dx-popup-flex-height"},YT=i=>{const e=B.current(),{platform:t}=e;let n="bottom",s="before";if(t==="ios")switch(i){case"cancel":n="top";break;case"clear":n="top",s="after";break;case"done":s="after"}else if(t==="android")switch(i){case"cancel":case"done":s="after"}return{toolbar:n,location:s}},XT=i=>i.toLowerCase()==="done"?"OK":Ps(i,!0),ZT=(i,e)=>i===Yi.flex?-e:0;class N_ extends us{_supportedKeys(){return C({},super._supportedKeys(),{upArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveUp(e)},downArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveDown(e)},leftArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveLeft(e)},rightArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveRight(e)}})}_getDefaultOptions(){return C({},super._getDefaultOptions(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,enableBodyScroll:!0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:e=>B.real().deviceType==="desktop"&&e.platform==="generic",options:{dragEnabled:!0}},{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>si(ke()),options:{useFlatToolbarButtons:!0}},{device:()=>wt(ke()),options:{useDefaultToolbarButtons:!0,showCloseButton:!1}}])}_iosAnimation(){return{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}}}_androidAnimation(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}}_init(){const{_wrapperClassExternal:e}=this.option(),t=e?`dx-popup-wrapper ${e}`:"dx-popup-wrapper";super._init(),this._createBodyOverflowManager(),this._updateResizeCallbackSkipCondition(),this.$element().addClass("dx-popup"),this.$wrapper().addClass(t),this._$popupContent=this._$content.wrapInner(u("<div>").addClass("dx-popup-content")).children().eq(0),this._toggleContentScrollClass(),this.$overlayContent().attr("role","dialog")}_render(){const e=!!this.option("fullScreen");this._toggleFullScreenClass(e),super._render()}_createBodyOverflowManager(){this._bodyOverflowManager=UT()}_toggleFullScreenClass(e){this.$overlayContent().toggleClass("dx-popup-fullscreen",e).toggleClass("dx-popup-normal",!e)}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({title:new ts,bottom:new ts})}_getActionsList(){return super._getActionsList().concat(["onResizeStart","onResize","onResizeEnd"])}_contentResizeHandler(e){this._shouldSkipContentResize(e)||this._renderGeometry({shouldOnlyReposition:!0})}_isShowAnimationResizing(){const e=this.option("animation");return["to","from"].some((t=>{var n;const s=e==null||(n=e.show)===null||n===void 0?void 0:n[t];return X(s)&&("width"in s||"height"in s)}))}_updateResizeCallbackSkipCondition(){const e=this._isShowAnimationResizing();this._shouldSkipContentResize=t=>e&&this._showAnimationProcessing||this._areContentDimensionsRendered(t)}_observeContentResize(e){if(!this.option("useResizeObserver"))return;const t=this._$content.get(0);e?ni.observe(t,(n=>{this._contentResizeHandler(n)})):ni.unobserve(t)}_areContentDimensionsRendered(e){var t,n,s;const o=(t=e.contentBoxSize)===null||t===void 0?void 0:t[0];if(o){var r,a;return parseInt(o.inlineSize,10)===((r=this._renderedDimensions)===null||r===void 0?void 0:r.width)&&parseInt(o.blockSize,10)===((a=this._renderedDimensions)===null||a===void 0?void 0:a.height)}const{contentRect:l}=e;return parseInt(l.width,10)===((n=this._renderedDimensions)===null||n===void 0?void 0:n.width)&&parseInt(l.height,10)===((s=this._renderedDimensions)===null||s===void 0?void 0:s.height)}_renderContent(){super._renderContent(),this._observeContentResize(!0)}_processContentRendering(){this._renderTopToolbar(),this._renderBottomToolbar(),this._renderResize(),super._processContentRendering()}_getTopToolbarItems(){const{showTitle:e,title:t}=this.option(),{ios:n}=B.current(),s=this._getToolbarItems("top");return e&&t&&s.unshift({location:n?"center":"before",text:t}),s}_renderTopToolbar(){const{showTitle:e}=this.option(),t=this._getTopToolbarItems();if(e||t.length>0){var s;this._$topToolbar?this._updateToolbarOptions("top",{items:t}):this._renderTopToolbarImpl(),(s=this._$topToolbar)===null||s===void 0||s.toggleClass("dx-has-close-button",this._hasCloseButton())}else{var o;(o=this._$topToolbar)===null||o===void 0||o.remove(),this._$topToolbar=void 0}this._toggleAriaLabel()}_renderTopToolbarImpl(){var e;(e=this._$topToolbar)===null||e===void 0||e.remove();const t=this._getTopToolbarItems(),n=u("<div>").addClass("dx-popup-title").addClass(Rr).insertBefore(this.$content());this._$topToolbar=this._renderToolbar("titleTemplate",t,n,{onInitialized:s=>{this._topToolbar=s.component}}),this._$topToolbar.addClass("dx-popup-title"),this._renderDrag(),this._executeTitleRenderAction(this._$topToolbar)}_renderBottomToolbar(){const e=this._getToolbarItems("bottom");if(!e.length){var t;(t=this._$bottomToolbar)===null||t===void 0||t.remove(),this._$bottomToolbar=void 0;return}this._$bottomToolbar?this._updateToolbarOptions("bottom",{items:e}):this._renderBottomToolbarImpl(),this._toggleClasses()}_renderBottomToolbarImpl(){var e;(e=this._$bottomToolbar)===null||e===void 0||e.remove();const t=this._getToolbarItems("bottom"),n=u("<div>").addClass("dx-popup-bottom").addClass(Rr).insertAfter(this.$content());this._$bottomToolbar=this._renderToolbar("bottomTemplate",t,n,{compactMode:!0,onInitialized:s=>{this._bottomToolbar=s.component}}),this._$bottomToolbar.addClass("dx-popup-bottom")}_triggerToolbarResizeEvent(){[this._$topToolbar,this._$bottomToolbar].forEach((e=>{e&&(Bt(e),Bt(e))}))}_renderToolbar(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=this._getTemplateByOption(e);return o instanceof ts?this._renderByPolymorphicTemplate(t,n,s):this._renderByTemplate(o,n)}_renderByPolymorphicTemplate(e,t,n){const{disabled:s,rtlEnabled:o,useDefaultToolbarButtons:r,useFlatToolbarButtons:a}=this.option(),l=I({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),c=I(n,{disabled:s,rtlEnabled:o,items:e,useDefaultButtons:r,useFlatButtons:a,integrationOptions:l});this._getTemplate("dx-polymorph-widget").render({container:t,model:{widget:this._getToolbarName(),options:c}});const h=t.children("div");return t.replaceWith(h),h}_renderByTemplate(e,t){const n=u(e.render({container:ae(t)}));return n.hasClass("dx-template-wrapper")&&(t.replaceWith(n),t=n),t}_updateToolbarOptions(e,t){const n=e==="top"?this._topToolbar:this._bottomToolbar;n?.option(t)}_toggleAriaLabel(){var e;const{title:t,showTitle:n}=this.option(),o=n&&!!t?new $e().toString():null;(e=this._$topToolbar)===null||e===void 0||e.find(".dx-toolbar-label").eq(0).attr("id",o),this.$overlayContent().attr("aria-labelledby",o)}_animateShowing(){this._triggerToolbarResizeEvent(),super._animateShowing()}_renderVisibilityAnimate(e){return super._renderVisibilityAnimate(e)}_hide(){return this._observeContentResize(!1),super._hide()}_executeTitleRenderAction(e){this._getTitleRenderAction()({titleElement:ae(e)})}_getTitleRenderAction(){return this._titleRenderAction??this._createTitleRenderAction()}_createTitleRenderAction(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]}),this._titleRenderAction}_getCloseButton(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}}_getCloseButtonRenderer(){return(e,t,n)=>{const s=u("<div>").addClass("dx-closebutton");this._createComponent(s,Dt,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),u(n).append(s)}}_getToolbarItems(e){const{platform:t}=B.current(),{toolbarItems:n}=this.option(),s=[];this._toolbarItemClasses=[];let o=0;return S(n,((r,a)=>{const l=y(a.shortcut),c=l?YT(a.shortcut):a;if(l&&t==="ios"&&o<2&&(c.toolbar="top",o++),c.toolbar=a.toolbar||c.toolbar||"top",c&&c.toolbar===e){l&&I(c,{location:a.location},this._getToolbarItemByAlias(a));const d=t==="generic";a.shortcut==="done"&&d||a.shortcut==="cancel"&&!d?s.unshift(c):s.push(c)}})),e==="top"&&this._hasCloseButton()&&s.push(this._getCloseButton()),s}_hasCloseButton(){const{showCloseButton:e,showTitle:t}=this.option();return e&&t}_getToolbarButtonStylingMode(e){return oi(ke())?e==="done"?"contained":"outlined":this.option("useFlatToolbarButtons")?"text":"contained"}_getToolbarButtonType(e){return oi(ke())&&e==="done"||this.option("useDefaultToolbarButtons")?"default":"normal"}_getToolbarItemByAlias(e){const t=e.shortcut;if(!H_.includes(t))return!1;const n=I({text:F.format(XT(t)),onClick:this._createToolbarItemAction(e.onClick),integrationOptions:{},type:this._getToolbarButtonType(t),stylingMode:this._getToolbarButtonStylingMode(t)},e.options||{}),s=`dx-popup-${t}`;return this._toolbarItemClasses.push(s),{template:(o,r,a)=>{const l=u("<div>").addClass(s).appendTo(a);this._createComponent(l,Dt,n)}}}_createToolbarItemAction(e){return this._createAction(e,{afterExecute(t){t.component.hide()}})}_getToolbarName(){return"dxToolbarBase"}_toggleDisabledState(e){super._toggleDisabledState(...arguments),this.$content().toggleClass("dx-state-disabled",!!e)}_toggleClasses(){S(H_,((t,n)=>{var s;const o=`dx-popup-${n}`,r=this._toolbarItemClasses.includes(o);this.$wrapper().toggleClass(`${o}-visible`,r),(s=this._$bottomToolbar)===null||s===void 0||s.toggleClass(o,r)}))}_toggleFocusClass(e,t){if(super._toggleFocusClass(e,t),e&&!WT(this._zIndex)){const n=L_(this._zIndexInitValue());ed(this._zIndex),this._zIndex=n,this._$wrapper.css("zIndex",n),this._$content.css("zIndex",n)}}_toggleContentScrollClass(){const e=!this.option("preventScrollEvents");this.$content().toggleClass("dx-popup-content-scrollable",e)}_getPositionControllerConfig(){const e=super._getPositionControllerConfig(),{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:s,dragAndResizeArea:o,outsideDragFactor:r}=this.option(),a=C({},e.properties,{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:s,dragAndResizeArea:o,outsideDragFactor:r}),l=C({},e.elements);return{properties:a,elements:l}}_initPositionController(){this._positionController||(this._positionController=new jT(this._getPositionControllerConfig()))}_getDragTarget(){return this.topToolbar()}_renderGeometry(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{visible:t,useResizeObserver:n}=this.option(),{forceStopAnimation:s,shouldOnlyReposition:o,isDimensionChange:r}=e;if(t&&ot.hasWindow()){const l=this._showAnimationProcessing&&!s&&n;this._isAnimationPaused=l||void 0,this._stopAnimation(),o?this._renderPosition(!1):this._renderGeometryImpl(r),l&&(this._animateShowing(),this._isAnimationPaused=void 0)}}_cacheDimensions(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(me(this._$content),10),height:parseInt(Oe(this._$content),10)})}_renderGeometryImpl(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||this._resetContentHeight(),super._renderGeometryImpl(),this._cacheDimensions(),this._setContentHeight()}_resetContentHeight(){this._getOptionValue("height")==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})}_renderDrag(){const e=this._getDragTarget(),{dragEnabled:t}=this.option();if(!e)return;const n={dragEnabled:t,handle:e.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(n):this._drag=new GT(n),this.$overlayContent().toggleClass("dx-popup-draggable",t)}_renderResize(){this._resizable=this._createComponent(this._$content,P_,{handles:this.option("resizeEnabled")?"all":"none",onResizeStart:e=>{var t,n;this._observeContentResize(!1),(t=this._actions)===null||t===void 0||(n=t.onResizeStart)===null||n===void 0||n.call(t,e)},onResize:e=>{var t,n;this._setContentHeight(),(t=this._actions)===null||t===void 0||(n=t.onResize)===null||n===void 0||n.call(t,e)},onResizeEnd:e=>{this._resizeEndHandler(e),this._observeContentResize(!0)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})}_resizeEndHandler(e){var t,n;const s=this._resizable.option("width"),o=this._resizable.option("height");s&&this._setOptionWithoutOptionChange("width",s),o&&this._setOptionWithoutOptionChange("height",o),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(e.event),(t=this._actions)===null||t===void 0||(n=t.onResizeEnd)===null||n===void 0||n.call(t,e)}_setContentHeight(){const{forceApplyBindings:e}=this.option();(e??M)();const t=this.$overlayContent().get(0),n=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(n,t)),this._setHeightClasses(this.$overlayContent(),n)}_chooseHeightStrategy(e){const t=e.style.width==="auto"||e.style.width==="";let n=Yi.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(t?n=Yi.inherit:n=Yi.flex),n}_getHeightCssStyles(e,t){let n={};const s=this._getOptionValue("maxHeight",t),o=this._getOptionValue("minHeight",t),r=this._splitPopupHeight(),a=ZT(e,r.popupVerticalPaddings),l=r.header+r.footer+r.contentVerticalOffsets+r.popupVerticalOffsets+a;if(e===Yi.static){if(!this._isAutoHeight()||s||o){const d=(this.option("fullScreen")?Math.min(Fi(t).height,ot.getWindow().innerHeight):Fi(t).height)-l;n={height:Math.max(0,d),minHeight:"auto",maxHeight:"auto"}}}else{const c=u(this._positionController.$visualContainer).get(0),d=Xx(s,-l,c);n={height:"auto",minHeight:Zx(o,-l,c),maxHeight:d}}return n}_setHeightClasses(e,t){let n="";for(const s in Yi)Yi[s]!==t&&(n+=` ${Yi[s]}`);e.removeClass(n).addClass(t)}_isAutoHeight(){return this.$overlayContent().get(0).style.height==="auto"}_splitPopupHeight(){const e=this.topToolbar(),t=this.bottomToolbar();return{header:Xu(e?.get(0)),footer:Xu(t?.get(0)),contentVerticalOffsets:tl(this.$overlayContent().get(0),!0),popupVerticalOffsets:tl(this.$content().get(0),!0),popupVerticalPaddings:tl(this.$content().get(0),!1)}}_isAllWindowCovered(){const{fullScreen:e}=this.option();return super._isAllWindowCovered()||!!e}_renderDimensions(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):super._renderDimensions(),ot.hasWindow()&&this._renderFullscreenWidthClass()}_dimensionChanged(){this._renderGeometry({isDimensionChange:!0})}_clean(){super._clean(),this._observeContentResize(!1)}_dispose(){super._dispose(),this._toggleBodyScroll(!0)}_renderFullscreenWidthClass(){const e=Ue(this.$overlayContent())===me(qT);this.$overlayContent().toggleClass("dx-popup-fullscreen-width",e)}_toggleSafariScrolling(){this.option("enableBodyScroll")&&super._toggleSafariScrolling()}_toggleBodyScroll(e){if(!this._bodyOverflowManager)return;const{setOverflow:t,restoreOverflow:n}=this._bodyOverflowManager;e?n():t()}refreshPosition(){this._renderPosition()}_optionChanged(e){var t;const{value:n,name:s}=e;switch(s){case"rtlEnabled":case"disabled":{super._optionChanged(e);const r={[s]:!!n};this._updateToolbarOptions("top",r),this._updateToolbarOptions("bottom",r);break}case"animation":this._updateResizeCallbackSkipCondition();break;case"enableBodyScroll":this.option("visible")&&this._toggleBodyScroll(n);break;case"showTitle":case"title":this._renderTopToolbar(),this._renderGeometry(),Bt(this.$overlayContent());break;case"titleTemplate":this._renderTopToolbarImpl(),this._renderGeometry(),Bt(this.$overlayContent());break;case"bottomTemplate":this._renderBottomToolbarImpl(),this._renderGeometry(),Bt(this.$overlayContent());break;case"container":if(super._optionChanged(e),this.option("resizeEnabled")){var o;(o=this._resizable)===null||o===void 0||o.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":super._optionChanged(e),(t=this._resizable)===null||t===void 0||t.option(s,n);break;case"onTitleRendered":this._createTitleRenderAction();break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":this._renderTopToolbar(),this._renderBottomToolbar(),this._renderGeometry(),this._triggerToolbarResizeEvent();break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=n,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=n,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=n;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),Bt(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=n,this._toggleFullScreenClass(!!n),this._toggleSafariScrolling(),this._renderGeometry(),Bt(this.$overlayContent());break;case"showCloseButton":this._renderTopToolbar();break;case"preventScrollEvents":super._optionChanged(e),this._toggleContentScrollClass();break;default:super._optionChanged(e)}}bottomToolbar(){return this._$bottomToolbar}topToolbar(){return this._$topToolbar}$content(){return this._$popupContent}content(){return ae(this.$content())}$overlayContent(){return this._$content}getFocusableElements(){return this.$wrapper().find("[tabindex]").filter(((e,t)=>t.getAttribute("tabindex")>=0))}}ve("dxPopup",N_);const JT="dx-loadindicator-content";var kn;(function(i){i.Circle="circle",i.Sparkle="sparkle"})(kn||(kn={}));const QT={[kn.Circle]:"dx-loadindicator-content-circle",[kn.Sparkle]:"dx-loadindicator-content-sparkle"};class Mn extends jt{_getDefaultOptions(){return C({},super._getDefaultOptions(),{_animatingSegmentCount:1,_animatingSegmentInner:!1,_animationType:kn.Circle,activeStateEnabled:!1,hoverStateEnabled:!1,indicatorSrc:""})}_defaultOptionsRules(){const e=ke();return super._defaultOptionsRules().concat([{device:()=>si(e),options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:()=>aw(e),options:{_animatingSegmentCount:7}}])}_useTemplates(){return!1}_init(){super._init(),this.$element().addClass("dx-loadindicator");const t={role:"alert",label:F.format("Loading")};this.setAria(t)}_initMarkup(){super._initMarkup(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()}_renderWrapper(){this._$wrapper=u("<div>").addClass("dx-loadindicator-wrapper"),this.$element().append(this._$wrapper)}_getAnimationTypeContentClass(){const{_animationType:e}=this.option();return QT[e]}_renderIndicatorContent(){const e=this._getAnimationTypeContentClass()??"",t=[JT,e].join(" ");this._$content=u("<div>").addClass(t),this._$wrapper.append(this._$content)}_renderMarkup(){const{indicatorSrc:e}=this.option(),t=Mt.animation();e?this._renderImageMarkup():t&&this._renderAnimationMarkup()}_getSegmentParams(){const{_animationType:e,_animatingSegmentCount:t,_animatingSegmentInner:n}=this.option();switch(e){case kn.Sparkle:return{segmentCount:2,segmentInner:!1};case kn.Circle:default:return{segmentCount:t??0,segmentInner:!!n}}}_renderAnimationMarkup(){this._$indicator=u("<div>").addClass("dx-loadindicator-icon"),this._$content.append(this._$indicator);const e=this._getSegmentParams();this._renderSegments(e)}_renderSegments(e){const{segmentCount:t,segmentInner:n}=e;for(let o=t;o>=0;o-=1){var s;const r=u("<div>").addClass("dx-loadindicator-segment").addClass(`dx-loadindicator-segment${o}`);if(n){const a=u("<div>").addClass("dx-loadindicator-segment-inner");r.append(a)}(s=this._$indicator)===null||s===void 0||s.append(r)}}_renderImageMarkup(){const{indicatorSrc:e}=this.option();this._$wrapper.addClass("dx-loadindicator-image"),this._$wrapper.css("backgroundImage",`url(${e})`)}_renderDimensions(){super._renderDimensions(),this._updateContentSizeForAnimation()}_updateContentSizeForAnimation(){if(!this._$indicator)return;let{width:e,height:t}=this.option();if(e||t){e=me(this.$element()),t=Oe(this.$element());const n=Math.min(t,e);this._$wrapper.css({height:n,width:n,fontSize:n})}}_clean(){super._clean(),this._removeMarkupForAnimation(),this._removeMarkupForImage()}_removeMarkupForAnimation(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)}_removeMarkupForImage(){this._$wrapper.css("backgroundImage","none")}_optionChanged(e){switch(e.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"_animationType":case"indicatorSrc":this._invalidate();break;default:super._optionChanged(e)}}}ve("dxLoadIndicator",Mn);const na="dx-invalid-message",eA="dx-invalid-message-auto",tA="dx-invalid-message-always",iA="dx-invalid-message-content";let nd=class extends us{_getDefaultOptions(){return C({},super._getDefaultOptions(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),mode:"auto",preventScrollEvents:!1,positionSide:"top",offset:{h:0,v:0}})}_init(){super._init(),this.updateMaxWidth(),this._updatePosition()}_initMarkup(){super._initMarkup(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()}_updatePositionByTarget(){const{target:e}=this.option();this.option("position.of",e)}_ensureMessageNotEmpty(){this._textMarkup=this._getTextMarkup();const e=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(e)}_toggleVisibilityClasses(e){e?(this.$element().addClass(na),this.$wrapper().addClass(na)):(this.$element().removeClass(na),this.$wrapper().removeClass(na))}_updateContentId(){const{container:e,contentId:t}=this.option(),n=t??u(e).attr("aria-describedby");this.$content().addClass(iA).attr("id",n)}_renderInnerHtml(e){const t=e&&u(e);t?.html(this._textMarkup)}_getTextMarkup(){const e=this.option("validationErrors")??[];let t="";return e.forEach((n=>{t+=(t?"<br />":"")+X0(n?.message??"")})),t}_toggleModeClass(){const{mode:e}=this.option();this.$wrapper().toggleClass(eA,e==="auto").toggleClass(tA,e==="always")}updateMaxWidth(){const e=this.option("target"),t=Ue(e);let n="100%";t&&(n=Math.max(t,100)),this.option({maxWidth:n})}_getPositionsArray(e,t){switch(e){case"top":return[`${t} bottom`,`${t} top`];case"left":return["right","left"];case"right":return["left","right"];default:return[`${t} top`,`${t} bottom`]}}_updatePosition(){const{positionSide:e,rtlEnabled:t,offset:n,boundary:s}=this.option(),o=rp(t),r=this._getPositionsArray(e,o),a=C({},n);this.$element().addClass(`dx-invalid-message-${e}`),t&&e!=="left"&&e!=="right"&&(a.h=-a.h),e==="top"&&(a.v=-a.v),e==="left"&&(a.h=-a.h),this.option("position",{offset:a,boundary:s,my:r[0],at:r[1],collision:"none flip"})}_optionChanged(e){const{name:t,value:n,previousValue:s}=e;switch(t){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),super._optionChanged(e);break;case"boundary":this.option("position.boundary",n);break;case"mode":this._toggleModeClass();break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass(`dx-invalid-message-${s}`),this._updatePosition();break;case"container":this._updateContentId(),super._optionChanged(e);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:super._optionChanged(e)}}};ve("dxValidationMessage",nd);const W_="dx-invalid-message-auto",nA="dx-show-invalid-badge",z_="dx-validation-target",sA=["outlined","filled","underlined"],G_={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"};let Xi=class M0 extends jt{static isEditor(e){return e instanceof M0}ctor(e,t){this.showValidationMessageTimeout=void 0,this.validationRequest=Ee(),super.ctor(e,t)}_createElement(e){super._createElement(e);const t=this.$element();t&&Pe(t[0],z_,this)}_initOptions(e){super._initOptions(e),this.option(Ce.initValidationOptions(e))}_init(){this._initialValue=this.option("value"),super._init();const{validationTooltipOptions:e}=this.option();this._options.cache("validationTooltipOptions",e),this.$element().addClass(nA)}_getDefaultOptions(){return C({},super._getDefaultOptions(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:"valid",validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_showValidationMessage:!0,isDirty:!1})}_shouldAttachKeyboardEvents(){const{readOnly:e}=this.option();return!e}_attachKeyboardEvents(){this._shouldAttachKeyboardEvents()&&super._attachKeyboardEvents()}_setOptionsByReference(){super._setOptionsByReference(),I(this._optionsByReference,{validationError:!0})}_createValueChangeAction(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_suppressValueChangeAction(){this._valueChangeActionSuppressed=!0}_resumeValueChangeAction(){this._valueChangeActionSuppressed=!1}_initMarkup(){this._toggleReadOnlyState();const{name:e,_onMarkupRendered:t}=this.option();this._setSubmitElementName(e),super._initMarkup(),this._renderValidationState(),t?.()}_raiseValueChangeAction(e,t){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(e,t))}_valueChangeArgs(e,t){return{value:e,previousValue:t,event:this._valueChangeEventInstance}}_saveValueChangeEvent(e){this._valueChangeEventInstance=e}_focusInHandler(e){const{validationMessageMode:t}=this.option(),n=t==="auto";if(this._canValueBeChangedByClick()&&n){var s;const o=(s=this._validationMessage)===null||s===void 0?void 0:s.$wrapper();o?.removeClass(W_),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout((()=>o?.addClass(W_)),150)}super._focusInHandler(e)}_canValueBeChangedByClick(){return!1}_getStylingModePrefix(){return"dx-editor-"}_renderStylingMode(){const{stylingMode:e}=this.option(),t=this._getStylingModePrefix(),n=sA.map((o=>t+o));n.forEach((o=>this.$element().removeClass(o)));let s=t+String(e);if(!n.includes(s)){const o="stylingMode",r=this._getDefaultOptions()[o],a=this._convertRulesToOptions(this._defaultOptionsRules())[o];s=t+(a??r)}this.$element().addClass(s)}_getValidationErrors(){let{validationErrors:e}=this.option();const{validationError:t}=this.option();return!e&&t&&(e=[t]),e}_disposeValidationMessage(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)}_toggleValidationClasses(e){this.$element().toggleClass("dx-invalid",e),this.setAria("invalid",e||void 0)}_renderValidationState(){const{validationStatus:e,_showValidationMessage:t}=this.option(),n=this.option("isValid")&&e!=="invalid",s=this._getValidationErrors(),o=this.$element();if(this._toggleValidationClasses(!n),!(!te()||!t)&&(this._disposeValidationMessage(),!n&&s)){const{validationMessageMode:r,validationMessageOffset:a,validationBoundary:l,rtlEnabled:c}=this.option();this._$validationMessage=u("<div>").appendTo(o);const d=`dx-${new $e}`;this.setAria("describedby",d),this._validationMessage=new nd(this._$validationMessage,I({validationErrors:s,rtlEnabled:c,target:this._getValidationMessageTarget(),visualContainer:o,mode:r,positionSide:this._getValidationMessagePosition(),offset:a,boundary:l,contentId:d},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}}_getValidationMessagePosition(){const{validationMessagePosition:e}=this.option();return e}_getValidationMessageTarget(){return this.$element()}_toggleReadOnlyState(){const{readOnly:e}=this.option();this._toggleBackspaceHandler(e),this.$element().toggleClass("dx-state-readonly",!!e),this._setAriaReadonly(e)}_setAriaReadonly(e){this.setAria("readonly",e||void 0)}_toggleBackspaceHandler(e){const t=this._keyboardEventBindingTarget(),n=k("keydown","editorReadOnly");_.off(t,n),e&&_.on(t,n,(s=>{tt(s)==="backspace"&&s.preventDefault()}))}_dispose(){const e=this.$element()[0];Pe(e,z_,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),super._dispose()}_setSubmitElementName(e){const t=this._getSubmitElement();t&&(e&&e.length>0?t.attr("name",e):t.removeAttr("name"))}_getSubmitElement(){return null}_setValidationMessageOption(e){var t;let{name:n,value:s}=e;const o=G_[String(n)]?G_[String(n)]:n;(t=this._validationMessage)===null||t===void 0||t.option(o,s)}_hasActiveElement(){return!1}_optionChanged(e){var t;const{name:n,value:s,previousValue:o}=e;switch(n){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":s!=o&&(this.option("isDirty",this._initialValue!==s),this.validationRequest.fire({value:s,editor:this})),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(s,o),this._saveValueChangeEvent(void 0));break;case"width":super._optionChanged(e),(t=this._validationMessage)===null||t===void 0||t.updateMaxWidth();break;case"name":this._setSubmitElementName(s);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Ce.synchronizeValidationOptions(e,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(e);break;case"rtlEnabled":this._setValidationMessageOption(e),super._optionChanged(e);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,e);break;case"_showValidationMessage":case"isDirty":break;default:super._optionChanged(e)}}_resetToInitialValue(){this.option("value",this._initialValue)}blur(){this._hasActiveElement()&&xi.resetActiveElement()}clear(){const e=this._getDefaultOptions();this.option("value",e.value)}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=e),this._resetToInitialValue(),this.option("isDirty",!1),this.option("isValid",!0)}};class sa{constructor(e,t,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=t,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=u("<div>").appendTo(e)}_addToContainer(e){const{$placeMarker:t,$container:n}=this;t?t.replaceWith(e):e.appendTo(n)}_attachEvents(e,t){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){const{editor:e,options:t}=this;return t.visible||!e.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){const{instance:e,$placeMarker:t}=this;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),t?.remove()}render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){const{instance:t,$element:n}=this._create();this.instance=t,this._attachEvents(t,n)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}}const oA=Ae.down;class rA extends sa{_create(){const e=u("<span>").addClass("dx-clear-button-area").append(u("<span>").addClass("dx-icon").addClass("dx-icon-clear"));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){const{editor:e}=this;return e._isClearButtonVisible()}_attachEvents(e,t){const{editor:n}=this,s=n.NAME;_.on(t,k(oA,s),(o=>{o.preventDefault(),o.pointerType!=="mouse"&&n._clearValueHandler(o)})),_.on(t,k(ft,s),(o=>n._clearValueHandler(o)))}_legacyRender(e,t){e.toggleClass("dx-show-clear-button",t)}update(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||super.update();const{editor:t,instance:n}=this,s=t.$element(),o=this._isVisible();n&&n.toggleClass("dx-state-invisible",!o),this._legacyRender(s,o)}}class aA{constructor(e){this.NAME="dxLabel",this._props=e,this._id=`dx-texteditor-label-${new $e}`,this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=u("<div>").addClass("dx-label-before"),this._$labelSpan=u("<span>"),this._$label=u("<div>").addClass("dx-label").append(this._$labelSpan),this._$after=u("<div>").addClass("dx-label-after"),this._$root=u("<div>").addClass("dx-texteditor-label").attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){const e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach(),this._attachEvents()}_attachEvents(){const e=k(ft,this.NAME),t=k(oo,this.NAME),n=k(cE,this.NAME);_.off(this._$labelSpan,e),_.off(this._$labelSpan,t),_.off(this._$labelSpan,n),this._isVisible()&&this._isOutsideMode()&&(_.on(this._$labelSpan,e,(s=>{we().getSelection().toString()===""&&(this._props.onClickHandler(),s.preventDefault())})),_.on(this._$labelSpan,t,(s=>{this._props.onHoverHandler(s)})),_.on(this._$labelSpan,n,(s=>{this._props.onActiveHandler(s)})))}_updateEditorLabelClass(e){if(this._props.$editor.removeClass("dx-texteditor-with-floating-label").removeClass("dx-texteditor-label-outside").removeClass("dx-texteditor-with-label"),e){const t=this._props.mode==="floating"?"dx-texteditor-with-floating-label":"dx-texteditor-with-label";this._props.$editor.addClass(t),this._isOutsideMode()&&this._props.$editor.addClass("dx-texteditor-label-outside")}}_isOutsideMode(){return this._props.mode==="outside"}_updateEditorBeforeButtonsClass(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass("dx-texteditor-with-before-buttons"),e){const t=this._props.containsButtonsBefore?"dx-texteditor-with-before-buttons":"";this._props.$editor.addClass(t)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){if(this._isVisible()){const e=this._props.beforeWidth??this._props.getBeforeWidth();this._$before.css({width:e}),this._updateLabelTransform()}}_updateLabelTransform(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(this._$labelSpan.css("transform",""),this._isVisible()&&this._isOutsideMode()){const n=(this._props.rtlEnabled?1:-1)*(me(this._$before)+e);this._$labelSpan.css("transform",`translateX(${n}px)`)}}_updateMaxWidth(){if(this._isVisible()&&!this._isOutsideMode()){const e=this._props.containerWidth??this._props.getContainerWidth();this._$label.css({maxWidth:e})}}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}}class lA extends sa{_attachEvents(e,t){const{editor:n}=this;_.on(t,oo,(()=>{n.$element().addClass("dx-custom-button-hovered")})),_.on(t,Dr,(()=>{n.$element().removeClass("dx-custom-button-hovered")})),_.on(t,ft,(s=>{s.stopPropagation()}))}_create(){const{editor:e}=this,t=u("<div>");this._addToContainer(t);const n=e._createComponent(t,Dt,C({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)}));return{$element:t,instance:n}}_prepareIntegrationOptions(e){return C({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){const e=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){const{visible:e}=this.editor.option();return!!e}_isDisabled(){if(this.options.disabled!==void 0)return this.instance?this.instance.option("disabled"):this.options.disabled;const{readOnly:t}=this.editor.option();return t}}function cA(i){(()=>{if(!i||typeof i!="object"||Array.isArray(i))throw Ne.Error("E1053")})(),(()=>{if(!("name"in i))throw Ne.Error("E1054")})(),(()=>{const{name:e}=i;if(typeof e!="string")throw Ne.Error("E1055")})(),(()=>{const{location:e}=i;"location"in i&&e!=="after"&&e!=="before"&&(i.location="after")})()}function K_(i,e){if(i.includes(e))throw Ne.Error("E1055",e);i.push(e)}function dA(i,e){return!!e.find((t=>t.name===i))}class uA{constructor(e,t){this.buttons=[],this.defaultButtonsInfo=t,this.editor=e}_compileButtonInfo(e){const t=[];return e.map((n=>{const s=typeof n=="string";if(s||cA(n),s||dA(n.name,this.defaultButtonsInfo)){const a=this.defaultButtonsInfo.find((l=>{let{name:c}=l;return c===n||c===n.name}));if(!a)throw Ne.Error("E1056",this.editor.NAME,n);return K_(t,n),a}const{name:r}=n;return K_(t,r),C({},n,{Ctor:lA})}))}_createButton(e){const{Ctor:t,options:n,name:s}=e,o=new t(s,this.editor,n);return this.buttons.push(o),o}_renderButtons(e,t,n){let s=null;return(e?this._compileButtonInfo(e):this.defaultButtonsInfo).forEach((r=>{const{location:a="after"}=r;a===n&&this._createButton(r).render((s=s??u("<div>").addClass("dx-texteditor-buttons-container"),n==="before"?t.prepend(s):t.append(s),s))})),s}clean(){this.buttons.forEach((e=>e.dispose())),this.buttons=[]}getButton(e){const t=this.buttons.find((n=>{let{name:s}=n;return s===e}));return t?.instance}renderAfterButtons(e,t){return this._renderButtons(e,t,"after")}renderBeforeButtons(e,t){return this._renderButtons(e,t,"before")}updateButtons(e){this.buttons.forEach((t=>{(!e||e.includes(t.name))&&t.update()}))}}const hA="dx-texteditor",pA="dx-texteditor-input",oa=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],mA=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"];let fA=aA;function U_(i){if(y(i)&&!Array.isArray(i))throw Ne.Error("E1053")}class _A extends Xi{ctor(e,t){t&&U_(t.buttons),this._buttonCollection=new uA(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,super.ctor(e,t)}_getDefaultOptions(){return C({},super._getDefaultOptions(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:e=>y(e)&&e!==!1?e:"",stylingMode:ce().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device(){const e=ke();return wt(e)},options:{labelMode:"floating",stylingMode:ce().editorStylingMode||"filled"}},{device(){const e=ke();return oi(e)},options:{labelMode:"outside"}}])}_getDefaultButtons(){return[{name:"clear",Ctor:rA}]}_isClearButtonVisible(){return this.option("showClearButton")&&!this.option("readOnly")}_input(){return this.$element().find(".dx-texteditor-input").first()}_isFocused(){return Jn(this._input())||super._isFocused()}_inputWrapper(){return this.$element()}_buttonsContainer(){return this._inputWrapper().find(".dx-texteditor-buttons-container").eq(0)}_isControlKey(e){return mA.includes(e)}_renderStylingMode(){super._renderStylingMode();const{stylingMode:e}=this.option();this._updateButtonsStyling(e)}_initMarkup(){this.$element().addClass("dx-texteditor"),this._renderInput(),this._renderButtonContainers(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),super._initMarkup(),this._renderValue(),this._renderLabel()}_render(){super._render(),this._refreshValueChangeEvent(),this._refreshEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()}_renderInput(){this._$textEditorContainer=u("<div>").addClass("dx-texteditor-container").appendTo(this.$element()),this._$textEditorInputContainer=u("<div>").addClass("dx-texteditor-input-container").appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput())}_getInputContainer(){return this._$textEditorInputContainer}_renderPendingIndicator(){this.$element().addClass("dx-validation-pending");const e=this._getInputContainer(),t=u("<div>").addClass("dx-pending-indicator").appendTo(e);this._pendingIndicator=this._createComponent(t,Mn,{})}_disposePendingIndicator(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass("dx-validation-pending"))}_renderValidationState(){super._renderValidationState(),this.option("validationStatus")==="pending"?(this._pendingIndicator||this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),this._toggleValidMark()}_getButtonsContainer(){return this._$textEditorContainer}_renderButtonContainers(){const{buttons:e}=this.option(),t=this._getButtonsContainer();this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(e,t),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(e,t)}_cleanButtonContainers(){var e,t;(e=this._$beforeButtonsContainer)===null||e===void 0||e.remove(),(t=this._$afterButtonsContainer)===null||t===void 0||t.remove(),this._buttonCollection.clean()}_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,super._clean()}_createInput(){const e=u("<input>");return this._applyInputAttributes(e,this.option("inputAttr")),e}_setSubmitElementName(e){const{inputAttr:t}=this.option();super._setSubmitElementName(e||t?.name||"")}_applyInputAttributes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=I(this._getDefaultAttributes(),t);e.attr(n).addClass("dx-texteditor-input"),this._setInputMinHeight(e)}_setInputMinHeight(e){e.css("minHeight",this.option("height")?"0":"")}_getPlaceholderAttr(){const{ios:e,mac:t}=B.real(),{placeholder:n}=this.option();return n||(e||t?" ":null)}_getDefaultAttributes(){return{autocomplete:"off",placeholder:this._getPlaceholderAttr()}}_updateButtons(e){this._buttonCollection.updateButtons(e)}_updateButtonsStyling(e){S(this.option("buttons"),((t,n)=>{let{options:s,name:o}=n;if(s&&!s.stylingMode&&this.option("visible")){const r=this.getButton(o);r!=null&&r.option&&r.option("stylingMode",e==="underlined"?"text":"contained")}}))}_renderValue(){return this._renderInputValue().promise()}_renderInputValue(e){e=e??this.option("value");const{text:t,displayValue:n,displayValueFormatter:s}=this.option();let o=t;return n!==void 0&&e!==null?o=s?.(n):y(o)||(o=s?.(e)),this.option("text",o),this._input().val()!==(y(o)?o:"")?this._renderDisplayText(o):this._toggleEmptinessEventHandler(),A().resolve()}_renderDisplayText(e){this._input().val(e),this._toggleEmptinessEventHandler()}_isValueValid(){if(this._input().length){const{validity:e}=this._input().get(0);if(e)return e.valid}return!0}_toggleEmptiness(e){this.$element().toggleClass("dx-texteditor-empty",e),this._togglePlaceholder(e)}_togglePlaceholder(e){this.$element().find(".dx-placeholder").eq(0).toggleClass("dx-state-invisible",!e)}_renderProps(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()}_toggleDisabledState(e){super._toggleDisabledState(e),this._input().prop("disabled",e)}_toggleTabIndex(){const e=this._input(),t=this.option("disabled"),n=this.option("focusStateEnabled");t||!n?e.attr("tabIndex",-1):e.removeAttr("tabIndex")}_toggleReadOnlyState(){this._input().prop("readOnly",this._readOnlyPropValue()),super._toggleReadOnlyState()}_readOnlyPropValue(){const{readOnly:e}=this.option();return!!e}_toggleSpellcheckState(){const{spellcheck:e}=this.option();this._input().prop("spellcheck",e)}_unobserveLabelContainerResize(){this._labelContainerElement&&(ni.unobserve(this._labelContainerElement),this._labelContainerElement=null)}_getLabelContainer(){return this._input()}_getLabelContainerWidth(){return me(this._getLabelContainer())}_getLabelBeforeWidth(){return(this._$beforeButtonsContainer&&me(this._$beforeButtonsContainer))??0}_updateLabelWidth(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())}_getFieldElement(){return this._getLabelContainer()}_setFieldAria(e){var t;const n=this.option("inputAttr"),s=n?.["aria-label"],o=(t=this._label)===null||t===void 0?void 0:t.getId(),r=s?void 0:o;if(r||e){const a={labelledby:r,label:s};this.setAria(a,this._getFieldElement())}}_renderLabel(){this._unobserveLabelContainerResize(),this._labelContainerElement=u(this._getLabelContainer()).get(0);const{label:e,labelMode:t,labelMark:n,rtlEnabled:s}=this.option(),o={onClickHandler:()=>{this.focus()},onHoverHandler:r=>{r.stopPropagation()},onActiveHandler:r=>{r.stopPropagation()},$editor:this.$element(),text:e,mark:n,mode:t,rtlEnabled:s,containsButtonsBefore:!!this._$beforeButtonsContainer,getContainerWidth:()=>this._getLabelContainerWidth(),getBeforeWidth:()=>this._getLabelBeforeWidth()};this._label=new fA(o),this._setFieldAria(),this._labelContainerElement&&ni.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))}_renderPlaceholder(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()}_renderPlaceholderMarkup(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);const e=this._input(),t=this.option("placeholder"),n={id:t?`dx-${new $e}`:void 0,"data-dx_placeholder":t},s=this._$placeholder=u("<div>").attr(n);s.insertAfter(e),s.addClass("dx-placeholder")}_attachPlaceholderEvents(){const e=k(Ae.up,this.NAME);_.on(this._$placeholder,e,(()=>{_.trigger(this._input(),"focus")})),this._toggleEmptinessEventHandler()}_placeholder(){return this._$placeholder??u()}_clearValueHandler(e){const t=this._input();e.stopPropagation(),this._saveValueChangeEvent(e),this._clearValue(),this._isFocused()||_.trigger(t,"focus"),_.trigger(t,"input")}_clearValue(){this.clear()}_renderEvents(){const e=this._input();S(oa,((t,n)=>{if(this.hasActionSubscription(`on${n}`)){const s=this._createActionByOption(`on${n}`,{excludeValidators:["readOnly"]});_.on(e,k(n.toLowerCase(),this.NAME),(o=>{this._disposed||s({event:o})}))}}))}_refreshEvents(){const e=this._input();S(oa,((t,n)=>{_.off(e,k(n.toLowerCase(),this.NAME))})),this._renderEvents()}_keyPressHandler(e){this.option("text",this._input().val())}_keyDownHandler(e){const t=this._input(),n=e.ctrlKey&&tt(e)==="enter",{value:s}=this.option(),o=t.val()!==s;n&&o&&_.trigger(t,"change")}_getValueChangeEventOptionName(){return"valueChangeEvent"}_renderValueChangeEvent(){const e=k(this._renderValueEventName(),`${this.NAME}TextChange`),t=k(this.option(this._getValueChangeEventOptionName()),`${this.NAME}ValueChange`),n=k("keydown",`${this.NAME}TextChange`),s=this._input();_.on(s,e,this._keyPressHandler.bind(this)),_.on(s,t,this._valueChangeEventHandler.bind(this)),_.on(s,n,this._keyDownHandler.bind(this))}_cleanValueChangeEvent(){const e=`.${this.NAME}ValueChange`,t=`.${this.NAME}TextChange`;_.off(this._input(),e),_.off(this._input(),t)}_refreshValueChangeEvent(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()}_renderValueEventName(){return"input change keypress"}_focusTarget(){return this._input()}_focusEventTarget(){return this.element()}_isInput(e){return e===this._input().get(0)}_preventNestedFocusEvent(e){if(e.isDefaultPrevented())return!0;let t=this._isNestedTarget(e.relatedTarget);return e.type==="focusin"?t=t&&this._isNestedTarget(e.target)&&!this._isInput(e.target):t||this._toggleFocusClass(!1,this.$element()),t&&e.preventDefault(),t}_isNestedTarget(e){return!!this.$element().find(e).length}_focusClassTarget(e){return this.$element()}_focusInHandler(e){this._preventNestedFocusEvent(e),super._focusInHandler(e)}_focusOutHandler(e){this._preventNestedFocusEvent(e),super._focusOutHandler(e)}_toggleFocusClass(e,t){super._toggleFocusClass(e,this._focusClassTarget(t))}_hasFocusClass(e){return super._hasFocusClass(u(e||this.$element()))}_renderEmptinessEvent(){const e=this._input();_.on(e,"input blur",this._toggleEmptinessEventHandler.bind(this))}_toggleEmptinessEventHandler(){const e=this._input().val(),t=(e===""||e===null)&&this._isValueValid();this._toggleEmptiness(t)}_valueChangeEventHandler(e,t){this.option("readOnly")||(this._saveValueChangeEvent(e),this.option("value",arguments.length>1?t:this._input().val()),this._saveValueChangeEvent(void 0))}_renderEnterKeyAction(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),_.off(this._input(),"keyup.onEnterKey.dxTextEditor"),_.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))}_enterKeyHandlerUp(e){if(!this._disposed&&tt(e)==="enter"){var t;(t=this._enterKeyAction)===null||t===void 0||t.call(this,{event:e})}}_updateValue(){this._options.silent("text",null),this._renderValue()}_dispose(){this._enterKeyAction=void 0,super._dispose()}_getSubmitElement(){return this._input()}_hasActiveElement(){return this._input().is(D.getActiveElement(this._input()[0]))}_optionChanged(e){const{name:t,fullName:n,value:s}=e,o=t.replace("on","");if(oa.includes(o)){this._refreshEvents();return}switch(t){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":super._optionChanged(e),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria(!0),this._input().attr({placeholder:this._getPlaceholderAttr()});break;case"label":this._label.updateText(s),this._setFieldAria(!0);break;case"labelMark":this._label.updateMark(s);break;case"labelMode":this._label.updateMode(s),this._setFieldAria();break;case"width":super._optionChanged(e),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),super._optionChanged(e);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":case"showValidationMark":break;case"value":this._updateValue(),super._optionChanged(e);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(t));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":{n===t&&U_(s),this._cleanButtonContainers(),this._renderButtonContainers();const{stylingMode:r}=this.option();this._updateButtonsStyling(r),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break}case"visible":if(super._optionChanged(e),s&&this.option("buttons")){this._cleanButtonContainers(),this._renderButtonContainers();const{stylingMode:r}=this.option();this._updateButtonsStyling(r)}break;case"displayValueFormatter":this._invalidate();break;default:super._optionChanged(e)}}_renderInputType(){this._setInputType(this.option("mode"))}_setInputType(e){const t=this._input();e==="search"&&(e="text");try{t.prop("type",e)}catch{t.prop("type","text")}}getButton(e){return this._buttonCollection.getButton(e)}focus(){_.trigger(this._input(),"focus")}clear(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());const e=this._getDefaultOptions();this.option("value")===e.value?(this._options.silent("text",""),this._renderValue()):this.option("value",e.value)}_resetInputText(){this._options.silent("text",this._initialValue),this._renderValue()}_isValueEqualToInitial(){const{value:e}=this.option(),t=this._initialValue;return e===t}_resetToInitialValue(){this._isValueEqualToInitial()?this._resetInputText():super._resetToInitialValue(),this._disposePendingIndicator(),this._showValidMark=!1,this._toggleValidMark()}_toggleValidMark(){this.$element().toggleClass("dx-valid",!!this._showValidMark)}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length?super.reset(e):super.reset()}on(e,t){const n=super.on(e,t),s=e.charAt(0).toUpperCase()+e.substr(1);return oa.includes(s)&&this._refreshEvents(),n}}class j_{constructor(e){this._value=" ",I(this,e)}next(e){if(!arguments.length)return this._next;this._next=e}_prepareHandlingArgs(e,t){t=t||{};const n=Object.prototype.hasOwnProperty.call(e,"value")?"value":"text";return e[n]=t.str??e[n],e.start=t.start??e.start,e.length=t.length??e.length,e.index+=1,e}first(e){return e=e||0,this.next().first(e+1)}isAccepted(e){return!1}adjustedCaret(e,t,n){return t?this._adjustedForward(e,0,n):this._adjustedBackward(e,0,n)}_adjustedForward(e,t,n){}_adjustedBackward(e,t,n){}isValid(e){}reset(){}clear(e){}text(){}value(){}rawValue(){}handle(e){}}class gA extends j_{next(){}handle(){return 0}text(){return""}value(){return""}first(){return 0}rawValue(){return""}adjustedCaret(){return 0}isValid(){return!0}}class q_ extends j_{text(){return(this._value!==" "?this._value:this.maskChar)+this.next().text()}value(){return this._value+this.next().value()}rawValue(){return this._value+this.next().rawValue()}handle(e){const t=Object.prototype.hasOwnProperty.call(e,"value")?e.value:e.text;if(!t||!t.length||!e.length)return 0;if(e.start)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1}));const n=t[0],s=t.substring(1);return this._tryAcceptChar(n,e),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:s,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:s,length:e.length-1}))}clear(e){this._tryAcceptChar(" ",e),this.next().clear(this._prepareHandlingArgs(e))}reset(){this._accepted(!1),this.next().reset()}_tryAcceptChar(e,t){if(this._accepted(!1),!this._isAllowed(e,t))return;const n=e===" "?this.maskChar:e;t.fullText=t.fullText.substring(0,t.index)+n+t.fullText.substring(t.index+1),this._accepted(!0),this._value=e}_accepted(e){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!e}first(e){return this._value===" "?e||0:super.first(e)}_isAllowed(e,t){return e===" "?!0:this._isValid(e,t)}_isValid(e,t){const{allowedChars:n}=this;return n instanceof RegExp?n.test(e):L(n)?n(e,t.index,t.fullText):Array.isArray(n)?n.includes(e):n===e}isAccepted(e){return e===0?this._accepted():this.next().isAccepted(e-1)}_adjustedForward(e,t,n){return t>=e?t:this.next()._adjustedForward(e,t+1,n)||t+1}_adjustedBackward(e,t){return t>=e-1?e:this.next()._adjustedBackward(e,t+1)||t+1}isValid(e){return this._isValid(this._value,e)&&this.next().isValid(this._prepareHandlingArgs(e))}}class Y_ extends q_{value(){return this.next().value()}handle(e){const t=Object.prototype.hasOwnProperty.call(e,"value"),n=t?e.value:e.text;if(!n.length||!e.length)return 0;if(e.start||t)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1}));const s=n[0],o=n.substring(1);this._tryAcceptChar(s);const r=this._isAllowed(s)?this._prepareHandlingArgs(e,{str:o,length:e.length-1}):e;return this.next().handle(r)+1}clear(e){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(e))}_tryAcceptChar(e){this._accepted(this._isValid(e))}_isValid(e){return e===this.maskChar}first(e){return e=e||0,this.next().first(e+1)}_adjustedForward(e,t,n){return t>=e&&n===this.maskChar?t:e===t+1&&this._accepted()?e:this.next()._adjustedForward(e,t+1,n)}_adjustedBackward(e,t){return t>=e-1?0:this.next()._adjustedBackward(e,t+1)}isValid(e){return this.next().isValid(this._prepareHandlingArgs(e))}}const vA="blur beforedeactivate",xA=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],yA=["historyUndo","historyRedo"],CA=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function bA(i){return" ".repeat(i)}class SA{constructor(e){this.editor=e}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}_attachChangeEventHandler(){if(!this._editorOption("valueChangeEvent").split(" ").includes("change"))return;const e=this._editorInput(),t=k(vA,"dxMask");_.on(e,t,(n=>{this.editor._changeHandler(n)}))}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(e){const{originalEvent:t}=e;if(!t)return;const{inputType:n}=t;if(yA.includes(n))this._handleHistoryInputEvent();else if(xA.includes(n))this._handleBackwardDeleteInputEvent();else{const s=this._editorCaret();if(!s.end)return;this._clearSelectedText(),this._autoFillHandler(t),this._editorCaret(s),this._handleInsertTextInputEvent(t.data)}this._editorOption("text")===this._previousText&&e.stopImmediatePropagation()}_handleHistoryInputEvent(){const e=this._editorCaret();this._updateEditorMask({start:e.start,length:e.end-e.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText(!0);const e=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret(),this._editorCaret().start!==e.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(e){const n=this._prevCaret&&this._prevCaret.end-this._prevCaret.start||Number(e),s=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:s.start,length:n,text:bA(n)}))}_handleInsertTextInputEvent(e){var t;const n=e??"";this.editor.setForwardDirection(),this._updateEditorMask({start:((t=this._prevCaret)===null||t===void 0?void 0:t.start)??0,length:n.length||1,text:n})||this._editorCaret(this._prevCaret)}_updateEditorMask(e){const t=e.text.length,n=this.editor._handleChain(e);if(this.editor._displayMask(),this.editor.isForwardDirection()){const{start:s,end:o}=this._editorCaret(),r=n-t;n>1&&t===1&&this._editorCaret({start:s+r,end:o+r}),this.editor._adjustCaret()}return!!n}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{const e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout((()=>{this._editorCaret({start:e,end:e})}),0)}}_focusOutHandler(e){this.editor._changeHandler(e),this._editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(e){const{editor:t}=this;t._maskKeyHandler(e,(()=>{t._hasSelection()||t._handleKey(" ")}))}_cutHandler(e){const t=this._editorCaret(),n=this._editorInput().val().substring(t.start,t.end);this.editor._maskKeyHandler(e,(()=>Ir(e,n)))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout((()=>{const e=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",e)}))}_pasteHandler(e){const{editor:t}=this;if(this._editorOption("disabled"))return;const n=this._editorCaret();t._maskKeyHandler(e,(()=>{const s=Ir(e),o=t._maskRulesChain.text().substring(n.end),r=t._handleChain({text:s,start:n.start,length:s.length}),a=n.start+r;t._handleChain({text:o,start:a,length:o.length}),t._caret({start:a,end:a})}))}_autoFillHandler(e){const{editor:t}=this,n=this._editorInput().val();this._inputHandlerTimer=setTimeout((()=>{this._isAutoFill()&&(t._maskKeyHandler(e,(()=>{t._handleChain({text:n,start:0,length:n.length})})),t._validateMask())}))}_isAutoFill(){const e=this._editorInput();if(Rt.webkit){const t=e.get(0);return t?.matches(":-webkit-autofill")??!1}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}_clearTimers(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}getHandler(e){return t=>{var n;(n=this[`_${e}Handler`])===null||n===void 0||n.call(this,t)}}attachEvents(){const e=this._editorInput();CA.forEach((t=>{const n=k(t.toLowerCase(),"dxMask");_.on(e,n,this.getHandler(t))})),this._attachChangeEventHandler()}detachEvents(){this._clearTimers(),_.off(this._editorInput(),".dxMask")}clean(){this._clearTimers()}}const{ios:EA,mac:IA}=B.real(),wA=EA||IA,DA=i=>{let e;try{e={start:i.selectionStart,end:i.selectionEnd}}catch{e={start:0,end:0}}return e},TA=(i,e)=>{const t=D.getBody();if(!(!t.contains(i)&&!t.contains(i.getRootNode().host)))try{i.selectionStart=e.start,i.selectionEnd=e.end}catch{}},X_=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(i=u(i).get(0),!y(e))return DA(i);!t&&wA&&D.getActiveElement(i)!==i||TA(i,e)},AA={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:i=>ra(i),l:i=>ra(i)||J_(i),C:/\S/,c:/./,A:i=>ra(i)||Z_(i),a:i=>ra(i)||Z_(i)||J_(i)};function Z_(i){return/[0-9]/.test(i)}function ra(i){const e=i.charCodeAt();return e>64&&e<91||e>96&&e<123||e>127}function J_(i){return i===" "}class sd extends _A{_getDefaultOptions(){return C({},super._getDefaultOptions(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:F.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})}_supportedKeys(){const e=this,t={del:e._maskStrategy.getHandler("del"),enter:e._changeHandler},n=super._supportedKeys();return S(t,((s,o)=>{const r=n[s];n[s]=function(a){e.option("mask")&&o.call(e,a),r&&r(a)}})),n}_getSubmitElement(){return this.option("mask")?this._$hiddenElement:super._getSubmitElement()}_init(){super._init(),this._initMaskStrategy()}_initMaskStrategy(){this._maskStrategy=new SA(this)}_initMarkup(){this._renderHiddenElement(),super._initMarkup()}_attachMouseWheelEventHandlers(){if(!this._hasMouseWheelHandler())return;const e=this._input(),t=k(yr,this.NAME),n=this._createAction((s=>{const{event:o}=s;Jn(e)&&!ut(o)&&(this._onMouseWheel(o),o.preventDefault(),o.stopPropagation())}));_.off(e,t),_.on(e,t,(s=>{n({event:s})}))}_hasMouseWheelHandler(){return!1}_onMouseWheel(e){}_useMaskBehavior(){return!!this.option("mask")}_attachDropEventHandler(){if(!this._useMaskBehavior())return;const t=k("drop",this.NAME),n=this._input();_.off(n,t),_.on(n,t,(s=>s.preventDefault()))}_render(){this._attachMouseWheelEventHandlers(),this._renderMask(),super._render(),this._attachDropEventHandler()}_renderHiddenElement(){this.option("mask")&&(this._$hiddenElement=u("<input>").attr("type","hidden").appendTo(this._inputWrapper()))}_removeHiddenElement(){this._$hiddenElement&&this._$hiddenElement.remove()}_renderMask(){this.$element().removeClass("dx-texteditor-masked"),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass("dx-texteditor-masked"),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())}_changeHandler(e){const t=this._input(),n=t.val();if(n===this._changedValue)return;this._changedValue=n;const s=Gl(e,{type:"change"});_.trigger(t,s)}_parseMask(){this._maskRules=I({},AA,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)}_parseMaskRule(e){const{mask:t}=this.option();if(e>=t.length)return new gA;const n=t[e],s=n==="\\",o=s?new Y_({maskChar:t[e+1]}):this._getMaskRule(n);return o.next(this._parseMaskRule(e+1+s)),o}_getMaskRule(e){let t;return S(this._maskRules,((n,s)=>{if(n===e)return t={pattern:n,allowedChars:s},!1})),y(t)?new q_(I({maskChar:this.option("maskChar")||" "},t)):new Y_({maskChar:e})}_renderMaskedValue(){if(!this._maskRulesChain)return;const e=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());const t={length:e.length};t[this._isMaskedValueMode()?"text":"value"]=e,this._handleChain(t),this._displayMask()}_replaceSelectedText(e,t,n){if(n===void 0)return e;const s=e.slice(0,t.start),o=e.slice(t.end);return s+n+o}_isMaskedValueMode(){return this.option("useMaskedValue")}_displayMask(e){e=e||this._caret(),this._renderValue(),this._caret(e)}_isValueEmpty(){return $a(this._value)}_shouldShowMask(){const{showMaskMode:e}=this.option();return e==="onFocus"?Jn(this._input())||!this._isValueEmpty():!0}_showMaskPlaceholder(){if(this._shouldShowMask()){const e=this._maskRulesChain.text();this.option("text",e);const{showMaskMode:t}=this.option();t==="onFocus"&&this._renderDisplayText(e)}}_renderValue(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){const e=this._maskRulesChain.value(),t=$a(e)?"":this._getPreparedValue();this._$hiddenElement.val(t)}return super._renderValue()}_getPreparedValue(){return this._convertToValue().replace(/\s+$/,"")}_valueChangeEventHandler(e,t){if(!this._maskRulesChain){super._valueChangeEventHandler.apply(this,arguments);return}this._saveValueChangeEvent(e),this.option("value",this._getPreparedValue())}_isControlKeyFired(e){return this._isControlKey(tt(e))||ut(e)}_handleChain(e){const t=this._maskRulesChain.handle(this._normalizeChainArguments(e));return this._updateMaskInfo(),t}_normalizeChainArguments(e){return e=e||{},e.index=0,e.fullText=this._maskRulesChain.text(),e}_convertToValue(e){return this._isMaskedValueMode()?e=this._replaceMaskCharWithEmpty(e||this._textValue||""):e=e||this._value||"",e}_replaceMaskCharWithEmpty(e){const{maskChar:t}=this.option();return e.replace(new RegExp(t,"g")," ")}_maskKeyHandler(e,t){if(this.option("readOnly"))return;this.setForwardDirection(),e.preventDefault(),this._handleSelection();const n=this._input().val(),s=()=>{n!==this._input().val()&&_.trigger(this._input(),"input")},o=t();o?o.then(s):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),s())}_handleKey(e,t){this._direction(t||"forward"),this._adjustCaret(e),this._handleKeyChain(e),this._moveCaret()}_handleSelection(){if(!this._hasSelection())return;const e=this._caret(),t=new Array(e.end-e.start+1).join(" ");this._handleKeyChain(t)}_handleKeyChain(e){const t=this._caret(),n=this.isForwardDirection()?t.start:t.start-1,s=this.isForwardDirection()?t.end:t.end-1,o=n===s?1:s-n;this._handleChain({text:e,start:n,length:o})}_tryMoveCaretBackward(){this.setBackwardDirection();const e=this._caret().start;return this._adjustCaret(),!e||e!==this._caret().start}_adjustCaret(e){const t=this._caret().start,n=this.isForwardDirection(),s=this._maskRulesChain.adjustedCaret(t,n,e);this._caret({start:s,end:s})}_moveCaret(){const e=this._caret().start,t=e+(this.isForwardDirection()?0:-1),n=this._maskRulesChain.isAccepted(t)?e+(this.isForwardDirection()?1:-1):e;this._caret({start:n,end:n})}_caret(e,t){const n=this._input();if(n.length){if(!arguments.length)return X_(n);X_(n,e,t)}}_hasSelection(){const e=this._caret();return e.start!==e.end}_direction(e){if(!arguments.length)return this._typingDirection;this._typingDirection=e}setForwardDirection(){this._direction("forward")}setBackwardDirection(){this._direction("backward")}isForwardDirection(){return this._direction()==="forward"}_updateMaskInfo(){this._textValue=this._maskRulesChain.text(),this._value=this._maskRulesChain.value()}_clean(){this._maskStrategy&&this._maskStrategy.clean(),super._clean()}_validateMask(){if(!this._maskRulesChain)return;const e=$a(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}_updateHiddenElement(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement());const{name:e}=this.option();this._setSubmitElementName(e)}_updateMaskOption(){this._updateHiddenElement(),this._renderMask(),this._validateMask(),this._refreshValueChangeEvent()}_processEmptyMask(e){if(e)return;const t=this.option("value");this.option({text:t,isValid:!0,validationError:null}),this.validationRequest.fire({value:t,editor:this}),this._renderValue()}_optionChanged(e){switch(e.name){case"mask":this._updateMaskOption(),this._processEmptyMask(e.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),super._optionChanged(e),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:super._optionChanged(e)}}clear(){const{value:e}=this._getDefaultOptions();this.option("value")===e&&this._renderMaskedValue(),super.clear()}}const OA=we(),kA=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"];class Q_ extends sd{ctor(e,t){t&&(this._showClearButton=t.showClearButton),super.ctor(e,t)}_getDefaultOptions(){return C({},super._getDefaultOptions(),{value:"",mode:"text",maxLength:null})}_initMarkup(){this.$element().addClass("dx-textbox"),super._initMarkup(),this.setAria("role","textbox")}_renderInputType(){super._renderInputType(),this._renderSearchMode()}_useTemplates(){return!1}_renderProps(){super._renderProps(),this._toggleMaxLengthProp()}_toggleMaxLengthProp(){const e=this._getMaxLength();e&&e>0?this._input().attr("maxLength",e):this._input().removeAttr("maxLength")}_renderSearchMode(){const{mode:e}=this.option();if(e==="search"){if(this.$element().addClass("dx-searchbox"),this._renderSearchIcon(),this._showClearButton===void 0){const{showClearButton:t}=this.option();this._showClearButton=t,this.option("showClearButton",!0)}}else this.$element().removeClass("dx-searchbox"),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton}_renderSearchIcon(){const e=u("<div>").addClass("dx-icon").addClass("dx-icon-search");e.prependTo(this._input().parent()),this._$searchIcon=e}_getLabelContainerWidth(){if(this._$searchIcon){const e=this._input().parent();return me(e)-this._getLabelBeforeWidth()}return super._getLabelContainerWidth()}_getLabelBeforeWidth(){let e=super._getLabelBeforeWidth();return this._$searchIcon&&(e+=Ue(this._$searchIcon)),e}_optionChanged(e){switch(e.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":super._optionChanged(e),this._updateLabelWidth();break;case"mask":super._optionChanged(e),this._toggleMaxLengthProp();break;default:super._optionChanged(e)}}_onKeyDownCutOffHandler(e){const t=this._getMaxLength();if(t&&!e.ctrlKey&&!this._hasSelection()){const n=u(e.target),s=tt(e);return this._cutOffExtraChar(n),n.val().length<t||kA.includes(s)||OA.getSelection().toString()!==""}return!0}_onChangeCutOffHandler(e){const t=u(e.target);this.option("maxLength")&&this._cutOffExtraChar(t)}_cutOffExtraChar(e){const t=this._getMaxLength(),n=e.val();t&&n.length>t&&e.val(n.substr(0,t))}_getMaxLength(){const{mask:e,maxLength:t}=this.option();return!!e?null:t}}ve("dxTextBox",Q_);const MA="dx-dropdowneditor-button-visible",RA="dxDropDownEditor-selectLabel";class PA extends sa{constructor(e,t,n){super(e,t,n),this.currentTemplate=null}_attachEvents(e){const{editor:t}=this;e.option("onClick",(n=>{var s;if((s=t._shouldCallOpenHandler)!==null&&s!==void 0&&s.call(t)){t._openHandler(n);return}!t.option("openOnFieldClick")&&t._openHandler(n)})),_.on(e.$element(),"mousedown",(n=>{t.$element().is(".dx-state-focused")&&n.preventDefault()}))}_create(){const{editor:e}=this,t=u("<div>"),n=this._getOptions();this._addToContainer(t);const s=e._createComponent(t,Dt,I({},n,{elementAttr:{"aria-label":F.format(RA)}}));return this._legacyRender(e.$element(),t,n.visible),{$element:t,instance:s}}_getOptions(){const{editor:e}=this,t=this._isVisible(),s={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:e.option("readOnly"),visible:t};return this._addTemplate(s),s}_isVisible(){const{editor:e}=this;return super._isVisible()&&e.option("showDropDownButton")}_legacyRender(e,t,n){e.toggleClass(MA,n),t&&t.removeClass("dx-button").removeClass("dx-button-mode-contained").addClass("dx-dropdowneditor-button")}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(e){this._isSameTemplate()||(e.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){if(super.update()){const{editor:t,instance:n}=this,s=t.$element(),o=this._getOptions();n?.option(o),this._legacyRender(s,n?.$element(),o.visible)}}}const eg=function(i){if(te())return Ue(i)},tg=function(i){return i===null&&(i=void 0),typeof i=="function"&&(i=i()),i},$A="dx-dropdowneditor",ig="dx-dropdowneditor-input-wrapper",aa="dx-dropdowneditor-overlay",BA="dx-dropdowneditor-overlay-flipped",VA="dx-dropdowneditor-active",LA="dx-dropdowneditor-field-clickable",FA="dx-dropdowneditor-field-template-wrapper",ng=B.current().platform==="ios";function sg(){return u("<div>").addClass(FA)}class od extends Q_{_supportedKeys(){return C({},super._supportedKeys(),{tab:e=>{if(!this.option("opened"))return;if(!this._popup.getFocusableElements().length){this.close();return}const t=e.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();t&&(_.trigger(t,"focus"),t.select()),e.preventDefault()},escape:e=>(this.option("opened")&&e.preventDefault(),this.close(),!0),upArrow:e=>!ut(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)?(this.close(),!1):!0,downArrow:e=>!ut(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)?(this._validatedOpening(),!1):!0,enter:e=>(this.option("opened")&&(e.preventDefault(),this._valueChangeEventHandler(e)),!0)})}_getDefaultButtons(){return super._getDefaultButtons().concat([{name:"dropDown",Ctor:PA}])}_getDefaultOptions(){return C({},super._getDefaultOptions(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:F.format("OK"),cancelButtonText:F.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto",_userDropDownOptions:{}})}_useTemplates(){return!0}_getDefaultPopupPosition(e){const t=rp(e);return{offset:{h:0,v:-1},my:`${t} top`,at:`${t} bottom`,collision:"flip flip"}}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device(e){return e.platform==="generic"},options:{popupPosition:{offset:{v:0}}}}])}_inputWrapper(){return this.$element().find(`.${ig}`).first()}_init(){super._init(),this._initVisibilityActions(),this._initPopupInitializedAction();const{rtlEnabled:e,dropDownOptions:t}=this.option();this._updatePopupPosition(e),this._cacheUserDropDownOptions(t)}_updatePopupPosition(e){const{my:t,at:n}=this._getDefaultPopupPosition(e),s=this.option("popupPosition");this.option("popupPosition",I({},s,{my:t,at:n}))}_initVisibilityActions(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})}_initPopupInitializedAction(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})}_initMarkup(){this._renderSubmitElement(),super._initMarkup(),this.$element().addClass("dx-dropdowneditor"),this.setAria("role",this._getAriaRole())}_render(){this._detachFocusEvents(),super._render(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()}_renderContentImpl(){this.option("deferRendering")||this._createPopup()}_renderInput(){super._renderInput(),this._renderTemplateWrapper(),this._wrapInput(),this._setDefaultAria()}_wrapInput(){this._$container=this.$element().wrapInner(u("<div>").addClass(ig)).children().eq(0)}_getAriaHasPopup(){return"true"}_getAriaAutocomplete(){return"none"}_getAriaRole(){return"combobox"}_setDefaultAria(){this.setAria({haspopup:this._getAriaHasPopup(),autocomplete:this._getAriaAutocomplete(),role:this._getAriaRole()})}_readOnlyPropValue(){return!this._isEditable()||super._readOnlyPropValue()}_cleanFocusState(){super._cleanFocusState(),this.option("fieldTemplate")&&this._detachFocusEvents()}_getFieldTemplate(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")}_renderMask(){this.option("fieldTemplate")||super._renderMask()}_renderField(){const e=this._getFieldTemplate();e&&this._renderTemplatedField(e,this._fieldRenderData())}_renderPlaceholder(){!!this._getFieldTemplate()||super._renderPlaceholder()}_renderValue(){return this.option("useHiddenSubmitElement")&&this._setSubmitValue(),super._renderValue().always(this._renderField.bind(this))}_getButtonsContainer(){return this._getFieldTemplate()?this._$container:this._$textEditorContainer}_renderTemplateWrapper(){this._getFieldTemplate()&&(this._$templateWrapper||(this._$templateWrapper=sg().prependTo(this.$element())))}_renderTemplatedField(e,t){const n=Jn(this._input());this._detachKeyboardEvents(),this._detachFocusEvents(),this._$textEditorContainer.remove();const s=sg();this._$templateWrapper.replaceWith(s),this._$templateWrapper=s;const o=Symbol("renderContext");this._activeRenderContext=o,e.render({model:t,container:ae(this._$templateWrapper),onRendered:()=>{if(this._activeRenderContext!==o)return;const r=this._input();if(!r.length)throw Ne.Error("E1010");this._integrateInput(),n&&(Rt.mozilla?r.get(0).focus({preventScroll:!0}):_.trigger(r,"focus"))}})}_integrateInput(){const{isValid:e}=this.option();this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent(),this._setDefaultAria(),this._setFieldAria(),this._toggleValidationClasses(!e);const{_onMarkupRendered:t}=this.option();t?.()}_refreshEmptinessEvent(){_.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()}_fieldRenderData(){return this.option("value")}_initTemplates(){this._templateManager.addDefaultTemplates({dropDownButton:new lo((e=>{const t=u("<div>").addClass("dx-dropdowneditor-icon");u(e.container).append(t)}))}),super._initTemplates()}_renderOpenHandler(){const e=this._inputWrapper(),t=k(ft,this.NAME),{openOnFieldClick:n}=this.option();_.off(e,t),_.on(e,t,this._getInputClickHandler(n)),this.$element().toggleClass(LA,n),n&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))}_attachFocusOutHandler(){ng&&(this._detachFocusOutEvents(),_.on(this._inputWrapper(),k("focusout",this.NAME),(e=>{const t=e.relatedTarget;t&&this.option("opened")&&this._isTargetOutOfComponent(t)&&this.close()})))}_isTargetOutOfComponent(e){const t=this.content?u(this.content()).closest(`.${aa}`):this._$popup;return u(e).closest(`.${aa}`,t).length===0}_detachFocusOutEvents(){ng&&_.off(this._inputWrapper(),k("focusout",this.NAME))}_getInputClickHandler(e){return e?t=>{this._executeOpenAction(t)}:()=>{this._focusInput()}}_openHandler(){this._toggleOpenState()}_executeOpenAction(e){var t;(t=this._openOnFieldClickAction)===null||t===void 0||t.call(this,{event:e})}_keyboardEventBindingTarget(){return this._input()}_focusInput(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!Jn(this._input())&&(this._resetCaretPosition(),_.trigger(this._input(),"focus")),!0)}_resetCaretPosition(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=this._input().get(0);if(t){const{value:n}=t,s=y(n)&&(e||this._isEditable())?n.length:0;this._caret({start:s,end:s},!0)}}_isEditable(){const{acceptCustomValue:e}=this.option();return e}_toggleOpenState(e){this._focusInput()&&(this.option("readOnly")||(e=arguments.length?e:!this.option("opened"),this.option("opened",e)))}_getControlsAria(){return this._popup&&this._popupContentId}_renderOpenedState(){const e=this.option("opened");e&&this._createPopup(),this.$element().toggleClass(VA,e),this._setPopupOption("visible",e);const t={expanded:e,controls:this._getControlsAria()};this.setAria(t),this.setAria("owns",e?this._popupContentId:void 0,this.$element())}_createPopup(){this._$popup||(this._$popup=u("<div>").addClass(aa).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent(),this._setPopupAriaLabel())}_setPopupAriaLabel(){const e=this._popup.$overlayContent();this.setAria("label","Dropdown",e)}_renderPopupContent(){}_renderPopup(){const e=I(this._popupConfig(),this.option("_userDropDownOptions"));this._popup=this._createComponent(this._$popup,N_,e),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._attachPopupKeyHandler(),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")}_attachPopupKeyHandler(){_.on(this._popup.$overlayContent(),k("keydown",this.NAME),(e=>this._popupKeyHandler(e)))}_popupKeyHandler(e){switch(tt(e)){case"tab":this._popupTabHandler(e);break;case"escape":this._popupEscHandler()}}_popupTabHandler(e){const t=u(e.target),n=e.shiftKey&&t.is(this._getFirstPopupElement());(!e.shiftKey&&t.is(this._getLastPopupElement())||n)&&(_.trigger(this.field(),"focus"),e.preventDefault())}_popupEscHandler(){_.trigger(this._input(),"focus"),this.close()}_setPopupContentId(e){this._popupContentId=`dx-${new $e}`,this.setAria("id",this._popupContentId,e)}_contentReadyHandler(){}_popupConfig(){return{onInitialized:this._getPopupInitializedHandler(),position:I(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>eg(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:e=>this._closeOutsideDropDownHandler(e),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_hideOnParentScrollTarget:this.$element(),_wrapperClassExternal:aa,_ignorePreventScrollEventsDeprecation:!0}}_popupInitializedHandler(){}_getPopupInitializedHandler(){const{onPopupInitialized:e}=this.option();return t=>{this._popupInitializedHandler(),e&&this._popupInitializedAction({popup:t.component})}}_dimensionChanged(){if(te()&&!this.$element().is(":visible")){this.close();return}this._updatePopupWidth()}_updatePopupWidth(){tg(this.option("dropDownOptions.width"))===void 0&&this._setPopupOption("width",(()=>eg(this.$element())))}_popupPositionedHandler(e){var t;const{labelMode:n,stylingMode:s}=this.option();if(!this._popup)return;const o=this._popup.$overlayContent(),r=(t=e.position)===null||t===void 0||(t=t.v)===null||t===void 0?void 0:t.flip,a=n!=="hidden"&&n!=="outside"&&s==="outlined";if(e.position&&o.toggleClass(BA,r),r&&a&&this._label.isVisible()){const l=this._label.$element();rt(o,{top:Li(o).top-parseInt(l.css("fontSize"))})}}_popupShowingHandler(){}_popupHidingHandler(){this.option("opened",!1)}_popupShownHandler(){var e;this._openAction(),(e=this._validationMessage)===null||e===void 0||e.option("positionSide",this._getValidationMessagePositionSide())}_popupHiddenHandler(){var e;this._closeAction(),(e=this._validationMessage)===null||e===void 0||e.option("positionSide",this._getValidationMessagePositionSide())}_getValidationMessagePositionSide(){var e;const{validationMessagePosition:t}=this.option();if(t!=="auto")return t;let n="bottom";if((e=this._popup)!==null&&e!==void 0&&e.option("visible")){const{top:s}=Js.setup(this.$element()),{top:o}=Js.setup(this._popup.$content());n=s+this.option("popupPosition").offset.v>o?"bottom":"top"}return n}_closeOutsideDropDownHandler(e){const{target:t}=e,n=u(t),s=this.getButton("dropDown"),o=s?.$element(),r=!!n.closest(this.$element()).length,a=!!n.closest(o).length;return!r&&!a}_clean(){delete this._openOnFieldClickAction,delete this._$templateWrapper,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),super._clean()}_setPopupOption(e,t){this._setWidgetOption("_popup",arguments)}_validatedOpening(){this.option("readOnly")||this._toggleOpenState(!0)}_getPopupToolbarItems(){const{applyValueMode:e}=this.option();return e==="useButtons"?this._popupToolbarItemsConfig():[]}_getFirstPopupElement(){return u(this._popup.getFocusableElements()).first()}_getLastPopupElement(){return u(this._popup.getFocusableElements()).last()}_popupToolbarItemsConfig(){const e=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText")}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText")}}];return this._applyButtonsLocation(e)}_applyButtonsLocation(e){const{buttonsLocation:t}=this.option(),n=e;if(t!=="default"){const s=zn(t);S(n,((o,r)=>{I(r,{toolbar:s[0],location:s[1]})}))}return n}_applyButtonHandler(e){this.close(),this.option("focusStateEnabled")&&this.focus()}_cancelButtonHandler(){this.close(),this.option("focusStateEnabled")&&this.focus()}_popupOptionChanged(e){const t=jt.getOptionsFromContainer(e);this._setPopupOption(t);const n=Object.keys(t);(n.includes("width")||n.includes("height"))&&this._dimensionChanged()}_cacheUserDropDownOptions(e){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"dropDownOptions").replace("dropDownOptions","_userDropDownOptions");this.option(n,e)}_renderSubmitElement(){this.option("useHiddenSubmitElement")&&(this._$submitElement=u("<input>").attr("type","hidden").appendTo(this.$element()))}_setSubmitValue(){const{value:e}=this.option();this._getSubmitElement().val(e)}_getSubmitElement(){return this.option("useHiddenSubmitElement")?this._$submitElement:super._getSubmitElement()}_dispose(){this._detachFocusOutEvents(),super._dispose()}_optionChanged(e){var t;const{name:n,fullName:s,value:o}=e;switch(n){case"width":case"height":super._optionChanged(e),(t=this._popup)===null||t===void 0||t.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(e),this._cacheUserDropDownOptions(o,s);break;case"_userDropDownOptions":case"popupPosition":break;case"deferRendering":te()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(o),super._optionChanged(e);break;default:super._optionChanged(e)}}open(){this.option("opened",!0)}close(){this.option("opened",!1)}field(){return ae(this._input())}content(){return this._popup?this._popup.content():null}}ve("dxDropDownEditor",od);const HA="dx-form",rd="dx-form-group",NA="dx-form-group-caption",WA="dx-form-group-custom-caption",og="dx-col-",rg="dx-field-item",ag="dx-layout-manager-one-col",lg="dx-field-item-label-content",zA="dx-layout-manager",cg="dx-field-item-label",ad="dx-field-item-content",GA="dx-single-column-item-content",dg="dx-root-simple-item",KA="dx-form-group-content",UA="dx-field-item-has-group",jA="dx-field-item-has-tabs",qA="dx-form-group-with-caption",ug="dx-field-item-tab",hg="dx-group-colcount-",pg="group-col-count",YA="dx-form-validation-summary",XA="dx-form-styling-mode-underlined",ld="simple",ZA=["dxTagBox","dxRangeSlider","dxDateRangeBox"],JA=["dxRangeSlider","dxDateRangeBox"],QA=["dxRangeSlider","dxSlider"],eO=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"],tO=["dxSelectBox","dxDropDownBox","dxTagBox","dxLookup","dxAutocomplete","dxColorBox","dxDateBox","dxDateRangeBox"];function iO(i){return i?.some((e=>e.type==="required"))}function nO(i,e){let{showRequiredMark:t,requiredMark:n,showOptionalMark:s,optionalMark:o}=i;return{showRequiredMark:t&&e,requiredMark:n,showOptionalMark:s&&!e,optionalMark:o}}function sO(i){let{item:e,id:t,isRequired:n,managerMarkOptions:s,showColonAfterLabel:o,labelLocation:r,labelTemplate:a,formLabelMode:l,onLabelTemplateRendered:c}=i;const d=eO.includes(e.editorType),h=I({showColon:o,location:r,id:t,visible:l==="outside"||d&&l!=="hidden",isRequired:n},e?e.label:{},{markOptions:nO(s,n),labelTemplate:a,onLabelTemplateRendered:c});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor","dxDateRangeBox"].includes(e.editorType)&&(h.labelID=`dx-label-${new $e}`),!h.text&&e.dataField&&(h.text=ih(e.dataField)),h.text&&(h.textWithoutColon=h.text,h.text+=h.showColon?":":""),h}function oO(i,e,t){return tO.includes(e)?{onPopupInitialized:s=>{let{component:o,popup:r}=s;const{openOnFieldClick:a}=o.option(),{hideOnOutsideClick:l}=r.option();if(a&&L(l)){const c=d=>{const h=u(d.target),p=i.find(`label[for="${t}"]`);return!!!h.closest(p).length&&l(d)};o.option("dropDownOptions",{hideOnOutsideClick:c}),r.option({hideOnOutsideClick:c})}}}:{}}function rO(i){let{$parent:e,editorType:t,defaultEditorName:n,editorValue:s,canAssignUndefinedValueToEditor:o,externalEditorOptions:r,editorInputId:a,editorValidationBoundary:l,editorStylingMode:c,formLabelMode:d,labelText:h,labelMark:p}=i;const m={};(s!==void 0||o)&&(m.value=s),ZA.includes(t)&&(m.value=m.value||[]);let g=r?.labelMode;y(g)||(g=d==="outside"?"hidden":d);const f=r?.stylingMode||c,v=QA.includes(t),b=oO(e,t,a),w=I(!0,m,r,b,{inputAttr:{id:a},validationBoundary:l,stylingMode:f,label:v?r?.label:h,labelMode:g,labelMark:p});if(r&&(w.dataSource&&(w.dataSource=r.dataSource),w.items&&(w.items=r.items)),n){if(JA.includes(t))return t==="dxRangeSlider"&&(w.startName||(w.startName=`${n}Start`),w.endName||(w.endName=`${n}End`)),t==="dxDateRangeBox"&&(w.startDateName||(w.startDateName=`${n}Start`),w.endDateName||(w.endDateName=`${n}End`)),w;w.name||(w.name=n)}return w}function aO(i){let{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:s,item:o,template:r,labelTemplate:a,name:l,formLabelLocation:c,requiredMessageTemplate:d,validationGroup:h,editorValue:p,canAssignUndefinedValueToEditor:m,editorValidationBoundary:g,editorStylingMode:f,showColonAfterLabel:v,managerLabelLocation:b,itemId:w,managerMarkOptions:T,labelMode:H,onLabelTemplateRendered:N}=i;const Y=y(o.isRequired)?o.isRequired:!!iO(o.validationRules),z=o.itemType===ld,be=o.helpText?`dx-${new $e}`:null,q=sO({item:o,id:w,isRequired:Y,managerMarkOptions:T,showColonAfterLabel:v,labelLocation:b,formLabelMode:H,labelTemplate:a,onLabelTemplateRendered:N}),de=!!q.visible&&!!(q.text||q.labelTemplate&&z),{location:Z,labelID:Re}=q,it=Z!=="top"&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(o.editorType??""),j=rO({$parent:e,editorType:o.editorType,editorValue:p,defaultEditorName:o.dataField,canAssignUndefinedValueToEditor:m,externalEditorOptions:o.editorOptions,editorInputId:w,editorValidationBoundary:g,editorStylingMode:f,formLabelMode:H,labelText:q.textWithoutColon,labelMark:q.markOptions.showRequiredMark?" "+q.markOptions.requiredMark:""}),R=q.markOptions.showOptionalMark&&!q.visible&&j.labelMode!=="hidden"&&!y(o.helpText)?q.markOptions.optionalMark:o.helpText;return{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:s,labelOptions:q,labelNeedBaselineAlign:it,labelLocation:Z,needRenderLabel:de,item:o,isSimpleItem:z,isRequired:Y,template:r,helpID:be,labelID:Re,name:l,helpText:R,formLabelLocation:c,requiredMessageTemplate:d,validationGroup:h,editorOptions:j}}function lO(i){let{showRequiredMark:e,requiredMark:t,showOptionalMark:n,optionalMark:s}=i;return!e&&!n?"":" "+(e?t:s)}function cO(i){const e=lO(i);if(e==="")return u();const t=i.showRequiredMark?"dx-field-item-required-mark":"dx-field-item-optional-mark";return u("<span>").addClass(t).text(e)}function dO(i){let{text:e,id:t,location:n,alignment:s,labelID:o=null,markOptions:r={},labelTemplate:a,labelTemplateData:l,onLabelTemplateRendered:c}=i;if((!y(e)||e.length<=0)&&!y(a))return null;const d=u("<label>").addClass(`${cg} dx-field-item-label-location-${n}`).attr("for",t).attr("id",o).css("textAlign",s),h=u("<span>").addClass(lg);let p=u("<span>").addClass("dx-field-item-label-text");return p.text(e),a&&(p=u("<div>").addClass("dx-field-item-custom-label-content"),l.text=e,a.render({container:ae(p),model:l,onRendered(){c?.()}})),d.append(h.append(p).append(cO(r)))}function uO(i){let e=0;const t=i.children.length;for(let n=0;n<t;n+=1){const s=i.children[n];e+=s.offsetWidth}return e}function hO(i,e){const t=`${e} > .${cg}:not(.dx-field-item-label-location-top) > .${lg}`,n=i.find(t),s=n.length;let o=0,r=0;for(let a=0;a<s;a+=1)o=uO(n[a]),o>r&&(r=o);for(let a=0;a<s;a+=1)n[a].style.width=`${r}px`}class Rn{constructor(e){this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){ee.abstract()}}const cd=(i,e)=>`${e?"tabs":"items"}[${i}]`,mg=(i,e)=>y(i)&&y(e)?`${i}.${e}`:i||e,dd=i=>i?i.replace(/\s/g,""):void 0,pO=(i,e)=>i?i.dataField===e||i.name===e||dd(i.title)===e||i.itemType==="group"&&dd(i.caption)===e:!1,Do=(i,e)=>`${i}.${e}`,fg=i=>{const e=i.split(".");return e[e.length-1].replace(/\[\d+]/,"")},_g=i=>i.includes("tabs"),mO=i=>{const e=i.split("."),t=[...e];for(let n=e.length-1;n>=0;n-=1){if(_g(e[n]))return t.join(".");t.splice(n,1)}return""},gg=(i,e,t)=>{if(!e)return"";const n=i.indexOf(e);if(n>-1)return cd(n,t);for(let s=0;s<i.length;s+=1){const o=i[s],r=o.tabs??o.items;if(r){const a=gg(r,e,!!o.tabs);if(a)return mg(cd(s,t),a)??""}}return""};function fO(i){let{form:e,$formElement:t,formOptions:n,items:s,validationGroup:o,extendedLayoutManagerOptions:r,onFieldDataChanged:a,onContentReady:l,onDisposing:c,onFieldItemRendered:d}=i;const h={form:e,items:s,$formElement:t,validationGroup:o,onFieldDataChanged:a,onContentReady:l,onDisposing:c,onFieldItemRendered:d,validationBoundary:n.scrollingEnabled?t:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode};return I(h,{isRoot:r.isRoot,colCount:r.colCount,alignItemLabels:r.alignItemLabels,cssItemClass:r.cssItemClass,colCountByScreen:r.colCountByScreen,onLayoutChanged:r.onLayoutChanged,width:r.width})}class _O extends Rn{tryExecute(){const{value:e}=this._options,t=this.findInstance();return t?(t.option(e),!0):!1}}class vg extends Rn{tryExecute(){const e=this.findInstance();if(e){const{optionName:t,item:n,value:s}=this._options,o=this._itemsRunTimeInfo.findItemIndexByItem(n)??-1;if(o>=0)return e.option(Do(`items[${o}]`,t),s),!0}return!1}}class gO extends Rn{tryExecute(){return!1}}class vO extends Rn{tryExecute(){const e=this.findPreparedItem();return e!=null&&e._prepareGroupItemTemplate&&e._renderGroupContentTemplate?(e._prepareGroupItemTemplate(this._options.item.template),e._renderGroupContentTemplate(),!0):!1}}class xO extends Rn{tryExecute(){const e=this.findInstance();if(e){const{value:t}=this._options;return e.option("dataSource",t),!0}return!1}}class yO extends Rn{tryExecute(){const{item:e}=this._options,t=this.findInstance(),n=t&&Pe(t.$element()[0],"dxValidator");if(n&&e){const s=a=>a.type==="required",o=(n.option("validationRules")||[]).some(s),r=(e.validationRules??[]).some(s);if(o===r)return n.option("validationRules",e.validationRules),!0}return!1}}class CO extends Rn{tryExecute(){const e=this.findItemContainer();if(e.length){const{previousValue:t="",value:n=""}=this._options;return e.removeClass(t).addClass(n),!0}return!1}}const bO=(i,e)=>{switch(i){case"editorOptions":case"buttonOptions":return new _O(e);case"validationRules":return new yO(e);case"cssClass":return new CO(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return e.optionName=i,new vg(e);case"tabs":return new xO(e);case"template":{var t,n;const s=(e==null||(t=e.item)===null||t===void 0?void 0:t.itemType)??((n=e.itemsRunTimeInfo.findPreparedItemByItem(e?.item))===null||n===void 0?void 0:n.itemType);return s==="simple"?new gO(e):s==="group"?new vO(e):(e.optionName=i,new vg(e))}default:return null}};class xg{constructor(){this._map={}}_findWidgetInstance(e){let t;return S(this._map,((n,s)=>{let{widgetInstance:o,item:r}=s;return e(r)?(t=o,!1):!0})),t}_findFieldByCondition(e,t){let n;return S(this._map,((s,o)=>e(o)?(n=t==="guid"?s:o[t],!1):!0)),n}clear(){this._map={}}removeItemsByItems(e){S(e.getItems(),(t=>this.removeItemByKey(t)))}removeItemByKey(e){delete this._map[e]}add(e){const t=e.guid??new $e().toString();return this._map[t]=e,t}addItemsOrExtendFrom(e){e.each(((t,n)=>{this._map[t]?(n.widgetInstance&&(this._map[t].widgetInstance=n.widgetInstance),this._map[t].$itemContainer=n.$itemContainer):this.add({item:n.item,widgetInstance:n.widgetInstance,guid:t,$itemContainer:n.$itemContainer})}))}extendRunTimeItemInfoByKey(e,t){this._map[e]&&(this._map[e]=I(this._map[e],t))}findWidgetInstanceByItem(e){return this._findWidgetInstance((t=>t===e))}findGroupOrTabLayoutManagerByPath(e){return this._findFieldByCondition((t=>{let{path:n}=t;return n===e}),"layoutManager")}findKeyByPath(e){return this._findFieldByCondition((t=>{let{path:n}=t;return n===e}),"guid")}findWidgetInstanceByName(e){return this._findWidgetInstance((t=>e===t.name))}findWidgetInstanceByDataField(e){return this._findWidgetInstance((t=>e===(le(t)?t:t.dataField)))}findItemContainerByItem(e){for(const t in this._map)if(this._map[t].item===e)return this._map[t].$itemContainer??u();return u()}findItemIndexByItem(e){return this._findFieldByCondition((t=>{let{item:n}=t;return n===e}),"itemIndex")}findPreparedItemByItem(e){return this._findFieldByCondition((t=>{let{item:n}=t;return n===e}),"preparedItem")}getItems(){return this._map}each(e){S(this._map,((t,n)=>{e(t,n)}))}removeItemsByPathStartWith(e){Object.keys(this._map).filter((s=>{if(this._map[s].path){var o;return(o=this._map[s].path)===null||o===void 0?void 0:o.includes(e,0)}return!1})).forEach((s=>this.removeItemByKey(s)))}}const yg="dxdblclick",Cg=k(ft,"dxDblClick"),SO=ee.inherit({ctor(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick(){this._firstClickTarget=null,this._lastClickTimeStamp=-300},add(){this._handlerCount<=0&&_.on(D.getDocument(),Cg,this._clickHandler.bind(this)),this._handlerCount+=1},_clickHandler(i){const e=i.timeStamp||Date.now(),t=e-this._lastClickTimeStamp;!(t<0)&&t<300?(Hi({type:"dxdblclick",target:pm(this._firstClickTarget,i.target),originalEvent:i}),this._forgetLastClick()):(this._firstClickTarget=i.target,this._lastClickTimeStamp=e,clearTimeout(this._lastClickClearTimeout),this._lastClickClearTimeout=setTimeout((()=>{this._forgetLastClick()}),600))},remove(){this._handlerCount-=1,this._handlerCount<=0&&(this._forgetLastClick(),_.off(D.getDocument(),Cg,void 0),clearTimeout(this._lastClickClearTimeout),this._handlerCount=0)}}),EO=new SO;Ot(yg,EO),ve("dxTextEditor",sd);const IO="dx-numberbox-spin",wO="dx-numberbox-spin-button",bg="dxNumberBox",Sg=k(Ae.up,bg),Eg=k(Ae.cancel,bg);class hs extends jt{_getDefaultOptions(){return C({},super._getDefaultOptions(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})}_initMarkup(){super._initMarkup();const{direction:e}=this.option(),t=`${IO}-${e}`;this.$element().addClass(wO).addClass(t),this._spinIcon=u("<div>").addClass(`${t}-icon`).appendTo(this.$element())}_render(){super._render();const e=k(Ae.down,this.NAME),t=this.$element();_.off(t,e),_.on(t,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")}_spinDownHandler(e){e.preventDefault(),this._clearTimer(),_.on(this.$element(),no.name,(()=>{this._feedBackDeferred=A(),dE(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:e})}));const t=D.getDocument();_.on(t,Sg,this._clearTimer.bind(this)),_.on(t,Eg,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})}_dispose(){this._clearTimer(),super._dispose()}_clearTimer(){_.off(this.$element(),no.name);const e=D.getDocument();_.off(e,Sg),_.off(e,Eg),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)}_optionChanged(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:super._optionChanged(e)}}}const DO="dx-numberbox-spin",TO="dx-numberbox-spin-container",AO="dx-numberbox-spin-touch-friendly";class OO extends sa{_attachEvents(e,t){const{editor:n}=this,s=k(Ae.down,n.NAME),o=t.children(),r=n._createAction((a=>n._spinButtonsPointerDownHandler(a)));_.off(t,s),_.on(t,s,(a=>r({event:a}))),hs.getInstance(o.eq(0)).option("onChange",(a=>n._spinUpChangeHandler(a))),hs.getInstance(o.eq(1)).option("onChange",(a=>n._spinDownChangeHandler(a)))}_create(){const{editor:e}=this,t=u("<div>").addClass(TO),n=u("<div>").appendTo(t),s=u("<div>").appendTo(t),o=this._getOptions();return this._addToContainer(t),e._createComponent(n,hs,I({direction:"up"},o)),e._createComponent(s,hs,I({direction:"down"},o)),this._legacyRender(e.$element(),this._isTouchFriendly(),o.visible),{instance:t,$element:t}}_getOptions(){const{editor:e}=this,t=this._isVisible(),n=e.option("disabled");return{visible:t,disabled:n}}_isVisible(){const{editor:e}=this;return super._isVisible()&&e.option("showSpinButtons")}_isTouchFriendly(){const{editor:e}=this;return e.option("showSpinButtons")&&e.option("useLargeSpinButtons")}_legacyRender(e,t,n){e.toggleClass(AO,t),e.toggleClass(DO,n)}update(){if(super.update()){const{editor:t,instance:n}=this,s=t.$element(),o=this._isVisible(),r=this._isTouchFriendly(),a=n.children(),l=hs.getInstance(a.eq(0)),c=hs.getInstance(a.eq(1)),d=this._getOptions();l.option(d),c.option(d),this._legacyRender(s,r,o)}}}const kO=Math,MO="dx-numberbox",RO=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"];class PO extends sd{_supportedKeys(){return C({},super._supportedKeys(),{upArrow(e){ut(e)||(e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler(e))},downArrow(e){ut(e)||(e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler(e))},enter(){}})}_getDefaultOptions(){return C({},super._getDefaultOptions(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:F.format("dxNumberBox-invalidValueMessage"),buttons:void 0})}_useTemplates(){return!1}_getDefaultButtons(){return super._getDefaultButtons().concat([{name:"spins",Ctor:OO}])}_isSupportInputMode(){const e=parseFloat(Rt.version);return Rt.chrome&&e>=66||Rt.safari&&e>=12}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>B.real().generic&&!B.isSimulator(),options:{useLargeSpinButtons:!1}},{device:(function(){return B.real().deviceType!=="desktop"&&!this._isSupportInputMode()}).bind(this),options:{mode:"number"}}])}_initMarkup(){this._renderSubmitElement(),this.$element().addClass(MO),super._initMarkup(),this._toggleTabIndex()}_getDefaultAttributes(){const e=super._getDefaultAttributes();return e.inputmode="decimal",e}_renderContentImpl(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")}_renderSubmitElement(){this._$submitElement=u("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))}_setSubmitValue(e){this._getSubmitElement().val(wu(e))}_getSubmitElement(){return this._$submitElement}_keyPressHandler(e){super._keyPressHandler();const t=Kl(e);if(!/[\d.,eE\-+]/.test(t)){const s=tt(e);if(ut(e)||s&&RO.includes(s))return;e.preventDefault();return}this._keyPressed=!0}_hasMouseWheelHandler(){return!0}_onMouseWheel(e){e.delta>0?this._spinValueChange(1,e):this._spinValueChange(-1,e)}_renderValue(){const e=this._input().val(),t=this.option("value");(!e.length||Number(e)!==t)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());const n=y(t)?null:F.format("dxNumberBox-noDataText");return this.setAria({valuenow:Be(t,""),valuetext:n}),this.option("text",this._input().val()),this._updateButtons(),A().resolve()}_forceValueRender(){const e=this.option("value"),t=Number(e),n=isNaN(t)?"":this._applyDisplayValueFormatter(e);this._renderDisplayText(n)}_applyDisplayValueFormatter(e){const{displayValueFormatter:t}=this.option();return t?.(e)}_renderProps(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:Be(this.option("min"),""),valuemax:Be(this.option("max"),"")})}_spinButtonsPointerDownHandler(){const e=this._input();!this.option("useLargeSpinButtons")&&D.getActiveElement()!==e[0]&&_.trigger(e,"focus")}_spinUpChangeHandler(e){this.option("readOnly")||this._spinValueChange(1,e.event||e)}_spinDownChangeHandler(e){this.option("readOnly")||this._spinValueChange(-1,e.event||e)}_spinValueChange(e,t){const n=parseFloat(this.option("step"));if(n===0)return;let s=parseFloat(this._normalizeInputValue())||0;s=this._correctRounding(s,n*e);const o=this.option("min"),r=this.option("max");y(o)&&(s=Math.max(o,s)),y(r)&&(s=Math.min(r,s)),this._saveValueChangeEvent(t),this.option("value",s)}_correctRounding(e,t){const n=/[,.](.*)/,s=n.test(e),o=n.test(t);if(s||o){const r=s?n.exec(e)[0].length:0,a=o?n.exec(t)[0].length:0,l=kO.max(r,a);return e=this._round(e+t,l),e}return e+t}_round(e,t){t=t||0;const n=10**t;return e*=n,e=Math.round(e)/n,e}_renderValueChangeEvent(){super._renderValueChangeEvent();const e=k("focusout","NumberBoxForceValueChange");_.off(this.element(),e),_.on(this.element(),e,this._forceRefreshInputValue.bind(this))}_forceRefreshInputValue(){const{mode:e}=this.option();if(e==="number")return;const t=this._input(),n=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(n)}_valueChangeEventHandler(e){const t=this._input(),n=this._normalizeText(),s=this._parseValue(n),o=n!=="."&&n!=="-";if(this._isValueValid()&&!this._validateValue(s)){t.val(this._applyDisplayValueFormatter(s));return}o&&super._valueChangeEventHandler(e,isNaN(s)?null:s),this._applyValueBoundaries(n,s),this.validationRequest.fire({value:s,editor:this})}_applyValueBoundaries(e,t){const n=this._isValueIncomplete(e),s=this._isValueInRange(e);!n&&!s&&t!==null&&Number(e)!==t&&this._input().val(this._applyDisplayValueFormatter(t))}_replaceCommaWithPoint(e){return e.replace(",",".")}_inputIsInvalid(){const{mode:e}=this.option(),t=e==="number",n=this._input().get(0).validity;return t&&n?.badInput}_renderDisplayText(e){this._inputIsInvalid()||super._renderDisplayText(e)}_isValueIncomplete(e){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(e)}_isValueInRange(e){return gi(e,this.option("min"),this.option("max"))}_isNumber(e){return this._parseValue(e)!==null}_validateValue(e){const t=this._normalizeText(),n=this._isValueValid();let s=!0;const o=this._isNumber(t);return isNaN(Number(e))&&(s=!1),!e&&n?s=!0:!o&&!n&&(s=!1),this.option({isValid:s,validationError:s?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),s}_normalizeInputValue(){return this._parseValue(this._normalizeText())}_normalizeText(){const e=this._input().val().trim();return this._replaceCommaWithPoint(e)}_parseValue(e){const t=parseFloat(e);return isNaN(t)?null:at(t,this.option("min"),this.option("max"))}_clearValue(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),super._clearValue()}clear(){this.option("value")===null?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)}_optionChanged(e){switch(e.name){case"value":this._validateValue(e.value),this._setSubmitValue(e.value),super._optionChanged(e),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:super._optionChanged(e)}}}const la=function(i){let e=0,t=0;for(let n=0;n<i.length;++n)if(i[n]==="'"&&e++,i[n]==="."&&(++t,e%2===0))return{occurrence:t,index:n};return{occurrence:1,index:-1}},ud=function(i,e,t){let n=-1;for(;t--&&n++<i.length;)n=i.indexOf(e,n);return n},hd=function(i,e){return e===-1?[i]:[i.slice(0,e),i.slice(e+1)]},$O=function(i,e){return i&&gp(i/100,e/100)},ca=function(i,e){if(typeof e=="string"){const t=e.split(";"),n=Se.getSign(i,e);t[1]=t[1]||`-${t[0]}`,e=t[n<0?1:0],e=(a=>a.replace(/'([^']*)'/g,(l=>l.split("").map((()=>" ")).join("").substr(2))))(e);const o=/^[^#0.,]*/.exec(e)[0].length,r=/[^#0.,]*$/.exec(e)[0].length;return{start:o,end:i.length-r}}return{start:0,end:i.length}},Ig=function(i,e){const t=Se.getDecimalSeparator(),n=new RegExp(`[^0-9${pi(t)}]`,"g");return e.slice(0,i).replace(n,"").length},wg=function(i){return i.split("").reverse().join("")},Dg=function(i,e){if(!i)return-1;const t=/[0-9]/g;let n=1,s=null,o=t.exec(e);for(;o;){if(s=o.index,n>=i)return s;n++,o=t.exec(e)}return s===null?e.length:s},BO=function(i){return i.replace(/[^0-9e]+$/,"")},Pn=function(i,e){return i.start===void 0&&(i={start:i,end:i}),{start:i.start+e,end:i.end+e}},VO=function(i,e,t,n){t=Pn(t,0);const s=Se.getDecimalSeparator(),o=LO(i),r=la(n).occurrence,a=o?0:ud(i,s,r),l=ud(e,s,r),c=hd(i,a),d=hd(e,l);if(a!==-1&&t.start>a){const b=t.start-a-1,w=Ig(b,c[1]),T=d[1]?l+1+Dg(w,d[1])+1:e.length;return Zi(T,e,n)}const p=BO(d[0]),m=c[0].length-t.start,g=Ig(m,wg(c[0])),f=Dg(g,wg(p)),v=p.length-(f+1);return Zi(v,e,n)};function LO(i){return i.length===1&&!!i.match(/^[,.][0-9]*$/g)}const FO=function(i,e,t){i=Pn(i,0);const n=Zi(i,e,t);return i.start>=n.start&&i.end<=n.end};function Zi(i,e,t){i=Pn(i,0);const n=ca(e,t);return{start:at(i.start,n.start,n.end),end:at(i.end,n.start,n.end)}}const HO=function(i,e,t){const n=ca(i,t);return ca(e,t).start-n.start};class pd extends PO{_getDefaultOptions(){return C({},super._getDefaultOptions(),{useMaskBehavior:!0,format:null})}_isDeleteKey(e){return e==="del"}_supportedKeys(){return this._useMaskBehavior()?C({},super._supportedKeys(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)}):super._supportedKeys()}_getTextSeparatorIndex(e){const t=Se.getDecimalSeparator(),n=la(this.option("format")).occurrence;return ud(e,t,n)}_focusInHandler(e){this._preventNestedFocusEvent(e)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout((()=>{this._caretTimeout=void 0;const t=this._caret();if(t.start===t.end&&this._useMaskBehavior()){const n=this._getInputVal(),s=this._getTextSeparatorIndex(n);s>=0?this._caret({start:s,end:s}):this._moveCaretToBoundaryEventHandler(-1,e)}}),0)),super._focusInHandler(e)}_focusOutHandler(e){const t=!this._preventNestedFocusEvent(e);t&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),super._focusOutHandler(e),t&&(this._focusOutOccurs=!1)}_hasValueBeenChanged(e){const t=this._getFormatPattern(),n=this.option("value");return(this._format(n,t)||"")!==e}_updateFormattedValue(){const e=this._getInputVal();if(this._hasValueBeenChanged(e)){this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue();const{value:t}=this.option();this._parsedValue!==t&&_.trigger(this._input(),"change")}}_arrowHandler(e,t){if(!this._useMaskBehavior())return;const n=this._getInputVal(),s=this._getFormatPattern();let o=Pn(this._caret(),e);FO(o,n,s)||(o=e===1?o.end:o.start,t.preventDefault(),this._caret(Zi(o,n,s)))}_moveCaretToBoundary(e){const t=ca(this._getInputVal(),this._getFormatPattern()),n=Pn(e===1?t.start:t.end,0);this._caret(n)}_moveCaretToBoundaryEventHandler(e,t){!this._useMaskBehavior()||t!=null&&t.shiftKey||(this._moveCaretToBoundary(e),t?.preventDefault())}_shouldMoveCaret(e,t){const n=Se.getDecimalSeparator(),s=e.charAt(t.end)===n;return(this._lastKey===n||this._lastKey==="."||this._lastKey===",")&&s}_getInputVal(){return Se.convertDigits(this._input().val(),!0)}_keyboardHandler(e){if(this.clearCaretTimeout(),this._lastKey=Se.convertDigits(Kl(e),!0),this._lastKeyName=tt(e),!this._shouldHandleKey(e.originalEvent))return super._keyboardHandler(e);const t=this._getInputVal(),n=this._caret();let s;this._lastKeyName==="minus"?s="":s=e.which===110?Se.getDecimalSeparator():this._lastKey;const o=this._tryParse(t,n,s);return this._shouldMoveCaret(t,n)&&(this._moveCaret(1),e.originalEvent.preventDefault()),o===void 0?this._lastKeyName!=="minus"&&e.originalEvent.preventDefault():this._parsedValue=o,super._keyboardHandler(e)}_keyPressHandler(e){this._useMaskBehavior()||super._keyPressHandler(e)}_removeHandler(e){const t=this._caret(),n=this._getInputVal();let{start:s}=t,{end:o}=t;this._lastKey=Kl(e),this._lastKeyName=tt(e);const r=this._isDeleteKey(this._lastKeyName),a=!r;if(s===o){const h=s;if(a&&h>0||r&&h<n.length)r&&o++,a&&s--;else{e.preventDefault();return}}const l=n.slice(s,o);if(this._isStub(l)){this._moveCaret(r?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(e),this._setTextByParsedValue(),this.option("valueChangeEvent").split(" ").includes("input")&&_.trigger(this._input(),"input")),e.preventDefault();return}const c=Se.getDecimalSeparator();if(l===c){const h=n.indexOf(c);this._isNonStubAfter(h+1)&&(this._moveCaret(r?1:-1),e.preventDefault());return}if(o-s<n.length&&this._replaceSelectedText(n,{start:s,end:o},"").search(/[0-9]/)<0&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}const d=this._tryParse(n,{start:s,end:o},"");d===void 0?e.preventDefault():this._parsedValue=d}_isPercentFormat(){return this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")!==-1}_parse(e,t){const n=this.option("format"),s=L(n.parser),o=s?n.parser:Se.parse;let r=0;if(!s){const a=la(t).index,l=this._getTextSeparatorIndex(e),c=a!==-1?a:t.length,d=l!==-1?l:e.length;d>c&&t.indexOf("#")===-1&&(r=d-c)}return e=e.substr(r),o(e,t)}_format(e,t){const n=this.option("format"),s=n?.formatter||n,o=L(s)?s:Se.format;return e===null?"":o(e,t)}_getFormatPattern(){return this._currentFormat||this._updateFormat(),this._currentFormat}_updateFormat(){const{format:e}=this.option(),t=L(e?.parser),n=le(e)&&(e.includes("0")||e.includes("#")),s=e==="exponential"||e?.type==="exponential",o=t||n||s;this._currentFormat=o?e:wI((r=>{const a=this._format(r,e);return Se.convertDigits(a,!0)}))}_getFormatForSign(e){const t=this._getFormatPattern();if(le(t)){const s=t.split(";"),o=Se.getSign(e,t);return s[1]=s[1]||`-${s[0]}`,o<0?s[1]:s[0]}return Se.getSign(e)<0?"-":""}_removeStubs(e,t){const n=this._getFormatForSign(e),s=Se.getThousandsSeparator(),o=this._getStubs(n);let r=e;if(o.length){const a=o[0],l=new RegExp(`(${pi(o[1]||"")})$`,"g"),c=new RegExp(`[-${pi(t?"":s)}]`,"g");r=r.replace(a,"").replace(l,"").replace(c,"")}return r}_getStubs(e){const t=/[^']([#0.,]+)/g.exec(e),n=t&&t[0].trim();return e.split(n).map((s=>s.replace(/'/g,"")))}_truncateToPrecision(e,t){if(y(e)){const n=e.toString(),s=n.indexOf(".");if(n&&s>-1){const o=parseFloat(n.substr(0,s+t+1));return isNaN(o)?e:o}}return e}_tryParse(e,t,n){const s=t.start!==t.end,o=s&&t.start===0&&t.end===e.length,r=Se.getDecimalSeparator();if(o&&n===r)return 0;const a=this._replaceSelectedText(e,t,n),l=this._getFormatPattern();let c=this._getParsedValue(a,l);const d=!l.parser&&this._getPrecisionLimits(a).max,h=c!==this._parsedValue,p=n===r&&d===0,m=!s&&!h&&n!=="-"&&this._isStub(n);if(p||m||(this._removeStubs(a)===""&&(c=Math.abs(0*this._parsedValue)),isNaN(c)))return;const g=c===null?this._parsedValue:c;if(c=d?this._truncateToPrecision(g,d):c,!l.parser&&this._isPercentFormat()){const f=this._getIntervalFromPrecision(d);return $O(c,f)}return c}_getIntervalFromPrecision(e){return e<1?1:10**-e}_getParsedValue(e,t){const n=Se.getSign(e,t?.formatter||t),s=this._removeStubs(e,!0),o=this._parse(s,t),r=o<0?-1:1;return Le(o)&&n!==r?n*o:o}_isValueIncomplete(e){if(!this._useMaskBehavior())return super._isValueIncomplete(e);const t=this._caret(),n=Se.getDecimalSeparator(),s=this._getTextSeparatorIndex(e),o=s>=0&&s<t.start,r=this._removeStubs(e,!0).split(n);if(!o||r.length!==2)return!1;const a=r[1].length,c=!!this._getFormatPattern().parser,d=!c&&this._getPrecisionLimits(this._getFormatPattern()),h=c?!0:gi(a,d.min,d.max),p=r[1].charAt(a-1)==="0";return h&&(p||!a)}_isValueInRange(e){const t=Be(this.option("min"),-1/0),n=Be(this.option("max"),1/0);return gi(e,t,n)}_setInputText(e){const t=Se.convertDigits(e,!0),n=VO(this._getInputVal(),t,this._caret(),this._getFormatPattern());this._input().val(e),this._toggleEmptinessEventHandler(),this._formattedValue=e,this._focusOutOccurs||this._caret(n)}_useMaskBehavior(){const{useMaskBehavior:e}=this.option();return!!this.option("format")&&e}_renderInputType(){const{mode:e}=this.option(),t=e==="number",n=B.real().deviceType==="desktop";this._useMaskBehavior()&&t?this._setInputType(n||this._isSupportInputMode()?"text":"tel"):super._renderInputType()}_isChar(e){return le(e)&&e.length===1}_moveCaret(e){if(!e)return;const t=Pn(this._caret(),e),n=Zi(t,this._getInputVal(),this._getFormatPattern());this._caret(n)}_shouldHandleKey(e){const t=tt(e),n=ut(e)||e.altKey||e.shiftKey||!this._isChar(t),s=t==="minus";return this._useMaskBehavior()&&!n&&!s}_renderInput(){super._renderInput(),this._renderFormatter()}_renderFormatter(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()}_detachFormatterEvents(){_.off(this._input(),".dxNumberFormatter")}_isInputFromPaste(e){var t;const n=(t=e.originalEvent)===null||t===void 0?void 0:t.inputType;return y(n)?n==="insertFromPaste":this._isValuePasted}_attachFormatterEvents(){const e=this._input();_.on(e,k("input","dxNumberFormatter"),(t=>{this._formatValue(t),this._isValuePasted=!1})),_.on(e,k("dxclick","dxNumberFormatter"),(()=>{this._caretTimeout||(this._caretTimeout=setTimeout((()=>{this._caretTimeout=void 0,this._caret(Zi(this._caret(),this._getInputVal(),this._getFormatPattern()))}),0))})),_.on(e,yg,(()=>{this.clearCaretTimeout()}))}clearCaretTimeout(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0}_forceRefreshInputValue(){if(!this._useMaskBehavior())return super._forceRefreshInputValue()}_isNonStubAfter(e){const t=this._getInputVal().slice(e);return t&&!this._isStub(t,!0)}_isStub(e,t){const s=`^[^0-9${pi(Se.getDecimalSeparator())}]+$`;return new RegExp(s,"g").test(e)&&(t||this._isChar(e))}_parseValue(e){return this._useMaskBehavior()?this._parsedValue:super._parseValue(e)}_getPrecisionLimits(e){const t=this._getFormatForSign(e),n=la(t).index,s=(hd(t,n)[1]||"").replace(/[^#0]/g,""),o=s.replace(/^(0*)#*/,"$1").length,r=s.length;return{min:o,max:r}}_revertSign(e){if(!this._useMaskBehavior())return;const t=this._caret();if(t.start!==t.end){if(tt(e)==="minus"){this._applyRevertedSign(e,t,!0);return}this._caret(Zi(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(e,t)}_applyRevertedSign(e,t,n){const s=-1*Be(this._parsedValue,null);if((this._isValueInRange(s)||s===0)&&(this._parsedValue=s,n)){const o=this._getFormatPattern(),r=this._getInputVal();this._setTextByParsedValue(),e.preventDefault();const a=this._getInputVal(),l=HO(r,a,o);t=Pn(t,l);const c=Zi(t,a,o);this._caret(c)}}_removeMinusFromText(e,t){return this._lastKeyName==="minus"&&e.charAt(t.start-1)==="-"?this._replaceSelectedText(e,{start:t.start-1,end:t.start},""):e}_setTextByParsedValue(){const e=this._getFormatPattern(),t=this._parseValue(),n=this._format(t,e)||"";this._setInputText(n)}_formatValue(e){let t=this._getInputVal();const n=this._caret(),s=this._removeMinusFromText(t,n),o=s!==t;if(t=s,!this._isInputFromPaste(e)&&this._isValueIncomplete(s)){this._formattedValue=t,o&&this._setTextByParsedValue();return}if(Se.convertDigits(this._formattedValue,!0)!==t){const a=this._tryParse(t,n,"");y(a)&&(this._parsedValue=a)}this._setTextByParsedValue()}_renderDisplayText(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():super._renderDisplayText.apply(this,arguments)}_renderValue(){if(this._useMaskBehavior()){const{value:e}=this.option();this._parsedValue=e,this._setTextByParsedValue()}return super._renderValue()}_updateParsedValue(){const e=this._getInputVal();this._parsedValue=this._tryParse(e,this._caret())}_adjustParsedValue(){if(!this._useMaskBehavior())return;const t=this._removeStubs(this._getInputVal())?this._parseValue():null;if(!Le(t)){this._parsedValue=t;return}this._parsedValue=at(t,this.option("min"),this.option("max"))}_valueChangeEventHandler(e){if(!this._useMaskBehavior())return super._valueChangeEventHandler(e);const t=this._caret();this._saveValueChangeEvent(e),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),t&&this._caret(t)}_optionChanged(e){switch(e.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),super._optionChanged(e);break;default:super._optionChanged(e)}}_clearCache(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout}_clean(){this._clearCache(),super._clean()}}ve("dxNumberBox",pd);const NO=["size"],WO={};class Tg extends ss{constructor(e){super(e),this.state={},this.elementRef=Ht(),this.__getterCache={}}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{const{size:e}=this.props;return{fontSize:Bs("fontSize",e)}})()}get restAttributes(){const e=this.props;return fi(e,NO)}componentWillUpdate(e){this.props.size!==e.size&&(this.__getterCache.cssStyles=void 0)}render(){const{elementRef:e,cssStyles:t}=this;return ht(1,"span","dx-checkbox-icon",null,1,{style:LD(t)},null,e)}}Tg.defaultProps=WO;const zO=["dataSource","selectedRowKeys"],GO={integrationOptions:!0};function To(i,e,t){return{path:i,value:e,previousValue:t}}function Ag(i,e,t,n,s,o){if(GO[n])return;const r=gt(e),a=gt(t);if(e!==t)if(r!==a)i.push(To(n,t,e));else if(r==="object")if(!J(t))i.push(To(n,t,e));else{const l=kg(e,t,s,o);i.push(...l.map((c=>C({},c,{path:`${n}.${c.path}`}))))}else if(r==="array")if(o.some((c=>s.includes(c)))&&e!==t)i.push(To(n,t,e));else if(e.length!==t.length)i.push(To(n,t,e));else{const c=kg(e,t,s,o);[].push.apply(i,c.map((d=>C({},d,{path:`${n}${d.path}`}))))}else i.push(To(n,t,e))}const Og=i=>(e,t,n,s)=>{const o=[],r=Array.isArray(e)?a=>{Ag(o,e[a],t[a],`[${a}]`,`${n}.${a}`,s)}:a=>{Ag(o,e[a],t[a],a,`${n}.${a}`,s)};return i(e).forEach(r),Object.keys(t).filter((a=>!Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==t[a])).forEach((a=>{o.push({path:a,value:t[a],previousValue:e[a]})})),o},kg=Og((i=>Object.keys(i))),KO={key:!0,ref:!0,children:!0,style:!0},UO=Og((i=>Object.keys(i).filter((e=>!KO[e]))));function jO(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zO;return UO(i,e,"",t)}const qO=["componentProps","componentType","templateNames"],Mg=i=>Object.keys(i).reduce(((e,t)=>(i[t]!==void 0&&(e[t]=i[t]),e)),{});class YO extends Nc{constructor(e){super(e),this.state={},this.refs=null,this.widgetRef=Ht(),this.instance=null,this.prevProps=null,this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.updateWidget=this.updateWidget.bind(this)}getConfig(){const{id:e}=An;return this.context[e]?this.context[e]:An.defaultValue}render(){return Mg(ht(1,"div",this.props.componentProps.className,null,1,C({},this.getRestAttributes()),null,this.widgetRef))}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}createEffects(){return[new Xe(this.setupWidget,[]),new Xe(this.updateWidget,[this.props.componentProps,this.getConfig(),this.props.templateNames])]}updateEffects(){var e;const t=[this.props.componentProps,this.getConfig(),this.props.templateNames];(e=this._effects[1])===null||e===void 0||e.update(t)}setupWidget(){const e=this.widgetRef.current,t=new this.props.componentType(e,this.getProperties());return this.instance=t,()=>{t.dispose(),this.instance=null}}updateWidget(){if(!this.instance)return;const e=jO(this.prevProps??{},this.getProperties());e.length&&(this.instance.beginUpdate(),e.forEach((t=>{var n;const{path:s,value:o}=t;(n=this.instance)===null||n===void 0||n.option(s,o)})),this.instance.endUpdate()),this.prevProps=this.getProperties()}getRestAttributes(){const e=this.props;return fi(e,qO)}getProperties(){var e;const t=Mg(this.props.componentProps),{valueChange:n}=t,s=I({rtlEnabled:(e=this.getConfig())===null||e===void 0?void 0:e.rtlEnabled,isRenovated:!0},t);return n&&(s.onValueChanged=r=>{const{value:a}=r;return n(a)}),this.props.templateNames.forEach((r=>{zD(r,s)&&(s[r]=(a,l,c)=>{WD(this.props.componentProps[r],{item:a,index:l,container:c})})})),s}getInstance(){return this.instance}}const XO=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],ZO=C({},Kc,{mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0});class Rg extends ss{constructor(e){super(e),this.state={}}get restAttributes(){const e=this.props;return fi(e,XO)}render(){return Ki(qt(2,YO,C({componentType:nd,componentProps:this.props,templateNames:[]},this.restAttributes)))}}Rg.defaultProps=ZO;const JO=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],QO=i=>{const{classes:e,isValid:t,readOnly:n}=i,s={"dx-state-readonly":!!n,"dx-invalid":!t,[String(e)]:!!e};return On(s)},Pg=C({},y_,{readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,isDirty:!1,inputAttr:{},defaultValue:null,valueChange:()=>{}});let $g=class extends Yr{constructor(e){super(e),this.state={},this.widgetRef=Ht(),this.rootElementRef=Ht(),this.__getterCache={},this.state={validationMessageGuid:`dx-${new $e}`,isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new Xe(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),Xr()]}updateEffects(){var e;(e=this._effects)===null||e===void 0||(e=e[0])===null||e===void 0||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState((()=>({isValidationMessageVisible:this.shouldShowValidationMessage})))}onFocusIn(e){const{onFocusIn:t}=this.props;t?.(e)}get cssClasses(){return`${QO(C({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}`}get shouldShowValidationMessage(){const{isValid:e,validationStatus:t}=this.props,n=this.validationErrors??[];return!(e&&t!=="invalid")&&n.length>0}get aria(){const{isValid:e,readOnly:t}=this.props,n={readonly:t?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),C({},n,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{const{validationError:e,validationErrors:t}=this.props;let n=t&&[...t];return!n&&e&&(n=[C({},e)]),n})()}get validationMessageTarget(){var e;return(e=this.rootElementRef)===null||e===void 0?void 0:e.current}get restAttributes(){const e=this.props;return fi(e,JO)}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e){super.componentWillUpdate(),(this.props.validationError!==e.validationError||this.props.validationErrors!==e.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){return Ki(qt(2,jc,C({rootElementRef:this.rootElementRef,aria:this.aria,classes:this.cssClasses,activeStateEnabled:this.props.activeStateEnabled,focusStateEnabled:this.props.focusStateEnabled,hoverStateEnabled:this.props.hoverStateEnabled,accessKey:this.props.accessKey,className:this.props.className,rtlEnabled:this.props.rtlEnabled,hint:this.props.hint,disabled:this.props.disabled,height:this.props.height,width:this.props.width,onFocusIn:this.props.onFocusIn,onClick:this.props.onClick,onKeyDown:this.props.onKeyDown,tabIndex:this.props.tabIndex,visible:this.props.visible},this.restAttributes,{children:ns([this.props.children,this.state.isValidationMessageVisible&&qt(2,Rg,{validationErrors:this.validationErrors,mode:this.props.validationMessageMode,positionSide:this.props.validationMessagePosition,rtlEnabled:this.props.rtlEnabled,target:this.validationMessageTarget,boundary:this.validationMessageTarget,visualContainer:this.validationMessageTarget,contentId:this.state.validationMessageGuid})],0)}),null,this.widgetRef))}};$g.defaultProps=Pg;const ek=["accessKey","activeStateEnabled","aria","className","classes","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],tk=i=>{const{text:e,value:t}=i,n=t;return On({"dx-checkbox":!0,"dx-checkbox-checked":n===!0,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":n===null})},ik=C({},Pg,{text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return B.real().deviceType==="desktop"&&!B.isSimulator()},defaultValue:!1,valueChange:()=>{}});let da=class extends Yr{constructor(e){super(e),this.editorRef=Ht(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[Xr()]}onWidgetClick(e){const{enableThreeStateBehavior:t,readOnly:n,saveValueChangeEvent:s}=this.props;if(!n)if(s?.(e),t){var o,r;let c;this.setState((d=>(c=(this.props.value!==void 0?this.props.value:d.value)===null||((this.props.value!==void 0?this.props.value:d.value)?!1:null),{value:c}))),(o=(r=this.props).valueChange)===null||o===void 0||o.call(r,c)}else{var a,l;let c;this.setState((d=>(c=!((this.props.value!==void 0?this.props.value:d.value)??!1),{value:c}))),(a=(l=this.props).valueChange)===null||a===void 0||a.call(l,c)}}keyDown(e){const{onKeyDown:t}=this.props,{keyName:n,originalEvent:s,which:o}=e,r=t?.(e);if(r!=null&&r.cancel)return r;(n==="space"||o==="space")&&(s.preventDefault(),this.onWidgetClick(s))}get cssClasses(){return tk(C({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){const e=(this.props.value!==void 0?this.props.value:this.state.value)===!0,n={role:"checkbox",checked:(this.props.value!==void 0?this.props.value:this.state.value)===null?"mixed":`${e}`};return C({},n,this.props.aria)}get restAttributes(){const e=this.props;return fi(e,ek)}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){const e=this.props.value!==void 0?this.props.value:this.state.value;return Ki(qt(2,$g,C({aria:this.aria,classes:this.cssClasses,onClick:this.onWidgetClick,onKeyDown:this.keyDown,accessKey:this.props.accessKey,activeStateEnabled:this.props.activeStateEnabled,focusStateEnabled:this.props.focusStateEnabled,hoverStateEnabled:this.props.hoverStateEnabled,className:this.props.className,disabled:this.props.disabled,readOnly:this.props.readOnly,hint:this.props.hint,height:this.props.height,width:this.props.width,rtlEnabled:this.props.rtlEnabled,tabIndex:this.props.tabIndex,visible:this.props.visible,validationError:this.props.validationError,validationErrors:this.props.validationErrors,validationMessageMode:this.props.validationMessageMode,validationMessagePosition:this.props.validationMessagePosition,validationStatus:this.props.validationStatus,isValid:this.props.isValid,onFocusIn:this.props.onFocusIn},this.restAttributes,{children:ns([Ki(ht(64,"input",null,null,1,C({type:"hidden",value:`${e}`},this.props.name&&{name:this.props.name}))),ht(1,"div","dx-checkbox-container",[qt(2,Tg,{size:this.props.iconSize,isChecked:e===!0}),this.props.text&&ht(1,"span","dx-checkbox-text",this.props.text,0)],0)],4)}),null,this.editorRef))}};function nk(i){const e=["value"];return Object.keys(i).reduce(((t,n)=>{const s=i[n],o=e.some((r=>r===n))?`default${n.charAt(0).toUpperCase()}${n.slice(1)}`:n;return t[o]=s,t}),{})}da.defaultProps=ik;const Bg=[];function sk(i){Bg.push(i),da.defaultProps=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(da.defaultProps),Object.getOwnPropertyDescriptors(nk(Qn(Bg)))))}function ok(i,e){var t;return(((t=i.getRootNode)===null||t===void 0?void 0:t.call(i))??document).querySelector(e)}const Vg="dx-invalid-message-auto",Lg="dx-validation-target";class md extends Jr{getProps(){const e=super.getProps();return e.onFocusIn=()=>{if(this.option("validationMessageMode")==="auto"){const n=u(ok(this.element(),".dx-invalid-message.dx-overlay-wrapper"));n?.removeClass(Vg);const s=150;this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout((()=>{n?.addClass(Vg)}),s)}},e.saveValueChangeEvent=t=>{this._valueChangeEventInstance=t},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=Ee(),Pe(this.$element()[0],Lg,this)}_render(){var e;(e=this.option("_onMarkupRendered"))===null||e===void 0||e()}_init(){super._init(),this._initialValue=this.option("value")}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(Ce.initValidationOptions(e))}_getDefaultOptions(){return I(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,t){const n=I({},e.option()),s=()=>this._silent(t,n);s(),e.on("optionChanged",s)}_raiseValidation(e,t){const n=!y(e)&&!y(t);e!==t&&!n&&this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,t){var n;(n=this._valueChangeAction)===null||n===void 0||n.call(this,{element:this.$element(),previousValue:t,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){const{name:t,previousValue:n,value:s}=e;switch(t&&this._getActionConfigs()[t]!==void 0&&this._addAction(t),t){case"value":this._raiseValidation(s,n),this.option("isDirty",this._initialValue!==s),this._raiseValueChangeAction(s,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Ce.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}clear(){const{value:e}=this._getDefaultOptions();this.option({value:e})}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=e),this.option("value",this._initialValue),this.option("isDirty",!1),this.option("isValid",!0)}_dispose(){super._dispose(),Pe(this.element(),Lg,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}}const rk=Xi.isEditor,Fg=i=>rk(i)||i instanceof md;md.isEditor=Fg,Xi.isEditor=Fg;let ak=class extends md{_useTemplates(){return!1}_isFocused(){return this.$element()[0].classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){const e=super.getProps();return e.value!==null&&(e.value=!!e.value),e}};class ua extends ak{getProps(){const e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}blur(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","isDirty","inputAttr","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return da}}ve("dxCheckBox",ua),ua.defaultOptions=sk;const Hg=" .,:;/\\<>()-[]،",Ji=function(i){const e=i&&Se.convertDigits(i,!1).charCodeAt(0),t=Se.convertDigits("0",!1).charCodeAt(0);return t<=e&&e<t+10},lk=function(i,e,t,n){const s=i[t],o=i[t+1];if(!n&&(s==="."||s===" "&&i.slice(t-1,t+3)===". m."||s==="-"&&!Ji(o)))return!0;const r=n&&e.some((a=>i[t]!==a[t]));return Hg.indexOf(s)<0&&n===Ji(s)&&(!n||r)},ck=function(i,e){if(!Ji(i[e]))for(;e>0&&!Ji(i[e-1])&&(i[e-1]==="."||Hg.indexOf(i[e-1])<0);)e--;return e},dk=function(i,e,t,n){let s=0;const o=[],r=function(a){return i[s]!==a[s]&&(n===void 0||Ji(i[s])===n)};for(Array.isArray(e)||(e=[e]),s=0;s<i.length;s++)if(t.indexOf(s)<0&&e.filter(r).length){s=ck(i,s);do{if(n=Ji(i[s]),!o.length&&!n&&Ji(e[0][s]))break;o.push(s),t.unshift(s),s++}while(i[s]&&lk(i,e,s,n));break}return o.length===1&&(i[t[0]-1]==="0"||i[t[0]-1]==="٠")&&t.unshift(t[0]-1),o},uk=function(i,e,t,n){const s=e[0],o=s<n.length?n[s]:s;return e.forEach((function(r,a){i=i.substr(0,o+a)+(t.length>1?t[a]:t)+i.substr(o+a+1)})),e.length===1&&(i=i.replace("0"+t,t+t),i=i.replace("٠"+t,t+t)),i},hk=function(i,e,t,n){let s,o,r;if(!Ji(i[e[0]]||"0")){const a=Math.max(e.length<=3?3:4,t.length);for(;e.length>a;){for(o=e.pop(),r=n[o],n[o]=-1,s=o+1;s<n.length;s++)n[s]--;i=i.substr(0,r)+i.substr(r+1)}for(o=e[e.length-1]+1,r=o<n.length?n[o]:o;e.length<a;){for(e.push(e[e.length-1]+1),s=o;s<n.length;s++)n[s]++;i=i.substr(0,r)+" "+i.substr(r)}}return i=uk(i,e,t,n),i},Ng=function(i,e){return Array.isArray(i)?i.map((function(t){return(e(t)||"").toString()})):(e(i)||"").toString()},pk=/[a-zA-Z]/g,mk=function(i,e,t,n){const s=e.split("").map((function(o,r){return t.indexOf(r)<0&&(o.match(pk)||o==="'")?n[r]:-1}));return i=i.split("").map((function(o,r){let a=o;const l=s.indexOf(r)>=0,c=r>0&&s.indexOf(r-1)>=0,d=s.indexOf(r+1)>=0;return l&&(c||(a="'"+a),d||(a+="'")),a})).join(""),i},Wg=function(i){const e=[],t=Ng(new Date(2009,8,8,6,5,4),i),n=t.split("").map((function(a,l){return l}));let s=t;const o={},r=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(s&&(r.forEach((function(a){const l=dk(t,Ng(a.date,i),e,a.isDigit),c=a.pattern==="M"&&!o.d?"L":a.pattern;s=hk(s,l,c,n),o[c]=l.length})),s=mk(s,t,e,n),e.length))return s},Ti={3:"abbreviated",4:"wide",5:"narrow"},zg=function(i,e){return i>2?Object.keys(Ti).map((function(t){return["format","standalone"].map((function(n){return e.getMonthNames(Ti[t],n).join("|")})).join("|")})).join("|"):i===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},fk={":":function(i,e){const t=i>1?`{${i}}`:"";let n=pi(e.getTimeSeparator());return n!==":"&&(n=`${n}|:`),`${n}${t}`},y:function(i){return i===2?`[0-9]{${i}}`:"[0-9]+?"},M:zg,L:zg,Q:function(i,e){return i>2?e.getQuarterNames(Ti[i],"format").join("|"):"0?[1-4]"},E:function(i,e){return"\\D*"},a:function(i,e){return e.getPeriodNames(Ti[i<3?3:i],"format").join("|")},d:function(i){return i===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(i){return i===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(i){return i===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(i){return i===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(i){return i===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(i){return`[0-9]{1,${i}}`},w:function(i){return i===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},x:function(i){return i===3?"[+-](?:2[0-3]|[01][0-9]):(?:[0-5][0-9])|Z":"[+-](?:2[0-3]|[01][0-9])(?:[0-5][0-9])|Z"}},Ai=Number,fd=function(i,e){return i.map((t=>t.toLowerCase())).indexOf(e.toLowerCase())},Gg=function(i,e,t){return e>2?["format","standalone"].map((function(n){return Object.keys(Ti).map((function(s){const o=t.getMonthNames(Ti[s],n);return fd(o,i)}))})).reduce((function(n,s){return n.concat(s)})).filter((function(n){return n>=0}))[0]:Ai(i)-1},_k={y:function(i,e){const t=Ai(i);return e===2?t<30?2e3+t:1900+t:t},M:Gg,L:Gg,Q:function(i,e,t){return e>2?t.getQuarterNames(Ti[e],"format").indexOf(i):Ai(i)-1},E:function(i,e,t){const n=t.getDayNames(Ti[e<3?3:e],"format");return fd(n,i)},a:function(i,e,t){const n=t.getPeriodNames(Ti[e<3?3:e],"format");return fd(n,i)},d:Ai,H:Ai,h:Ai,m:Ai,s:Ai,S:function(i,e){for(e=Math.max(e,3),i=i.slice(0,3);e<3;)i+="0",e++;return Ai(i)}},ha=["y","M","d","h","m","s","S"],_d={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(i,e,t){let n=i.getHours();const s=t.h;s!==void 0&&s!==n&&n--,!e&&n===12?n=0:e&&n!==12&&(n+=12),i.setHours(n)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},gk=function(i,e){const t=i[e];if(!t)return 0;let n=0;do e++,n++;while(i[e]===t);return n},vk=function(i,e){let t="";for(let n=0;n<e;n++)t+=i;return t},Kg=function(i,e){let t="",n="",s;const o=[],r=function(){n&&(o.push(`'${n}'`),t+=`${pi(n)})`,n="")};for(let a=0;a<i.length;a++){const l=i[a],c=l==="'",d=fk[l];if(!(c&&(s=!s,i[a-1]!=="'")))if(d&&!s){const h=gk(i,a),p=vk(l,h);r(),o.push(p),t+=`(${d(h,e)})`,a+=h-1}else n||(t+="("),n+=l}return r(),yk(o)||Wo.warn(`The following format may be parsed incorrectly: ${i}.`),{patterns:o,regexp:new RegExp(`^${t}$`,"i")}},xk=["d","H","h","m","s","w","M","L","Q"],yk=function(i){const e=s=>{if(!s)return!1;const o=s[0];return["y","S"].includes(o)||xk.includes(o)&&s.length<3};let t=!0,n=0;return i.every(((s,o,r)=>(e(s)&&((a=>a[0]!=="S"&&a.length!==2)(s)&&(t=++n<2),e(r[o+1])||(n=0)),t)))},Ck=function(){return _d},bk=function(i,e,t,n,s){const o=e[0],r=_d[o],a=_k[o];if(r&&a){const l=a(t,e.length,n);s[e]=l,i[r]?i[r](l):r(i,l,s)}},Sk=function(i,e,t){const n=_d[e],s="g"+n.substr(1),o=t[s]();i[n](o)},Ek=function(i){return i.map((function(e){return e[0]==="'"?"":e[0]==="H"?"h":e[0]}))},Ik=function(i){const e=i.map((function(t){return ha.indexOf(t)}));return Math.max.apply(Math,e)},wk=function(i){const e=i.filter((function(t){return ha.indexOf(t)<0}));return ha.concat(e)},Dk=function(i,e){const t=Kg(i,e);return function(n){const s=t.regexp.exec(n);if(s){const o=new Date,r=new Date(o.getFullYear(),0,1),a=Ek(t.patterns),l=Ik(a),c=wk(a),d={};return c.forEach((function(h,p){if(!h||p<ha.length&&p>l)return;const m=a.indexOf(h);if(m>=0){const g=t.patterns[m],f=s[m+1];bk(r,g,f,e,d)}else Sk(r,h,o)})),r}return null}},Tk={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1},Ak=/[\u200E\u200F]/g,Ok=/[\u202F]/g,$n=i=>e=>{if(!i.timeZoneName){const t=e.getFullYear(),n=String(t).length<3,o=n?t+400:t,r=new Date(Date.UTC(o,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));n&&r.setFullYear(t);const a=I({timeZone:"UTC"},i);return vd(r,a)}return vd(e,i)},gd={},kk=i=>{const e=$t.locale()+"/"+JSON.stringify(i);return gd[e]||(gd[e]=new Intl.DateTimeFormat($t.locale(),i).format),gd[e]};function vd(i,e){return kk(e)(i).replace(Ak,"").replace(Ok," ")}const xd=i=>new Intl.NumberFormat($t.locale()).format(i),Mk=(()=>{const i={};return e=>{if(!(e in i)){if(xd(0)==="0")return i[e]=!1,!1;i[e]={};for(let t=0;t<10;++t)i[e][xd(t)]=t}return i[e]}})(),pa=i=>{const e=Mk($t.locale());return e?i.split("").map((t=>t in e?String(e[t]):t)).join(""):i},Ug=i=>i.replace(/(\D)0+(\d)/g,"$1$2"),Rk=(i,e)=>Ug(i)===Ug(e),yd=i=>i.replace("d’","de "),Cd={day:{day:"numeric"},date:{year:"numeric",month:"long",day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(Cd,"shortdateshorttime",{get:function(){const i=Intl.DateTimeFormat($t.locale()).resolvedOptions();return{year:i.year,month:i.month,day:i.day,hour:"numeric",minute:"numeric"}}});const Pk=i=>typeof i=="string"&&Cd[i.toLowerCase()],jg={standalone:function(i,e){const t=new Date(1999,i,13,1);return $n({month:e})(t)},format:function(i,e){const t=new Date(0,i,13,1),s=yd($n({day:"numeric",month:e})(t)).split(" ").filter((o=>o.indexOf("13")<0));return s.length===1?s[0]:s.length===2?s[0].length>s[1].length?s[0]:s[1]:jg.standalone(i,e)}},$k={engine:function(){return"intl"},getMonthNames:function(i,e){const t={wide:"long",abbreviated:"short",narrow:"narrow"}[i||"wide"];return e=e==="format"?e:"standalone",Array.apply(null,new Array(12)).map(((n,s)=>jg[e](s,t)))},getDayNames:function(i){return(t=>Array.apply(null,new Array(7)).map(((n,s)=>$n({weekday:t})(new Date(0,0,s)))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[i||"wide"])},getPeriodNames:function(){const i=$n({hour:"numeric",hour12:!0});return[1,13].map((e=>{const t=xd(1),n=i(new Date(0,0,1,e)).split(t);return n.length!==2?"":(n[0].length>n[1].length?n[0]:n[1]).trim()}))},format:function(i,e){if(!i)return;if(!e)return i;typeof e!="function"&&!e.formatter&&(e=e.type||e);const t=Pk(e);if(t)return $n(t)(i);const n=typeof e;return e.formatter||n==="function"||n==="string"?this.callBase.apply(this,arguments):$n(e)(i)},parse:function(i,e){let t;return e&&!e.parser&&typeof i=="string"&&(i=yd(i),t=n=>yd(this.format(n,e))),this.callBase(i,t||e)},_parseDateBySimpleFormat:function(i,e){i=pa(i);const t=this.getFormatParts(e),n=i.split(/\D+/).filter((r=>r.length>0));if(t.length!==n.length)return;const s=this._generateDateArgs(t,n),o=r=>{const a=((l,c)=>{const d=c?12:0;return new Date(l.year,l.month,l.day,(l.hours+d)%24,l.minutes,l.seconds)})(s,r);if(Rk(pa(this.format(a,e)),i))return a};return o(!1)||o(!0)},_generateDateArgs:function(i,e){const t=new Date,n={year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),hours:0,minutes:0,seconds:0};return i.forEach(((s,o)=>{const r=e[o];let a=parseInt(r,10);s==="month"&&(a-=1),n[s]=a})),n},formatUsesMonthName:function(i){return typeof i=="object"&&!(i.type||i.format)?i.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(i){return typeof i=="object"&&!(i.type||i.format)?i.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return pa(vd(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(i){if(typeof i=="string")return this.callBase(i);const e=I({},Cd[i.toLowerCase()]),t=new Date(2001,2,4,5,6,7);let n=$n(e)(t);return n=pa(n),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map((s=>({name:s.name,index:n.indexOf(s.value)}))).filter((s=>s.index>-1)).sort(((s,o)=>s.index-o.index)).map((s=>s.name))}},Bk=typeof Intl<"u",bd={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},Vk={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},ie=Gt({engine:function(){return"base"},_getPatternByFormat:function(i){return bd[i.toLowerCase()]},_expandPattern:function(i){return this._getPatternByFormat(i)||i},formatUsesMonthName:function(i){return this._expandPattern(i).indexOf("MMMM")!==-1},formatUsesDayName:function(i){return this._expandPattern(i).indexOf("EEEE")!==-1},getFormatParts:function(i){const e=this._getPatternByFormat(i)||i,t=[];return S(e.split(/\W+/),((n,s)=>{S(Vk,((o,r)=>{r.includes(s)&&t.push(o)}))})),t},getMonthNames:function(i){return Zn.getMonthNames(i)},getDayNames:function(i){return Zn.getDayNames(i)},getQuarterNames:function(i){return Zn.getQuarterNames(i)},getPeriodNames:function(i){return Zn.getPeriodNames(i)},getTimeSeparator:function(){return":"},is24HourFormat:function(i){const e=new Date(2017,0,20,11,0,0,0),t=new Date(2017,0,20,23,0,0,0),n=this.format(e,i),s=this.format(t,i);for(let o=0;o<n.length;o++)if(n[o]!==s[o])return!isNaN(parseInt(n[o]))},format:function(i,e){if(!i)return;if(!e)return i;let t;if(typeof e=="function")t=e;else if(e.formatter)t=e.formatter;else if(e=e.type||e,le(e))return e=bd[e.toLowerCase()]||e,Se.convertDigits(dp(e,this)(i));if(t)return t(i)},parse:function(i,e){const t=this;let n,s;if(!i)return;if(!e)return this.parse(i,"shortdate");if(e.parser)return e.parser(i);if(typeof e=="string"&&!bd[e.toLowerCase()])n=e;else{s=r=>{const a=t.format(r,e);return Se.convertDigits(a,!0)};try{n=Wg(s)}catch{}}if(n)return i=Se.convertDigits(i,!0),Dk(n,this)(i);he.log("W0012");const o=new Date(i);if(!(!o||isNaN(o.getTime())))return o},firstDayOfWeekIndex:function(){const i=$t.getValueByClosestLocale((e=>Tk[e]));return i===void 0?0:i}});Bk&&ie.inject($k);const qg="dxswipestart",Yg="dxswipe",Sd="dxswipeend",Lk={horizontal:{defaultItemSizeFunc(){return me(this.getElement())},getBounds(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio(i){return(We(i).x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,i)},isFastSwipe(i){const e=We(i);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},vertical:{defaultItemSizeFunc(){return Oe(this.getElement())},getBounds(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio(i){return(We(i).y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,i)},isFastSwipe(i){const e=We(i);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}}},Fk=wo.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor(i){this.callBase(i),this.direction="horizontal",this.elastic=!0},_getStrategy(){return Lk[this.direction]},_defaultItemSizeFunc(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init(i){this._tickData=We(i)},_start(i){this._savedEventData=We(i),i=this._fireEvent("dxswipestart",i),i.cancel||(this._maxLeftOffset=i.maxLeftOffset,this._maxRightOffset=i.maxRightOffset,this._maxTopOffset=i.maxTopOffset,this._maxBottomOffset=i.maxBottomOffset)},_move(i){const e=this._getStrategy(),t=We(i);let n=e.calcOffsetRatio.call(this,i);n=this._fitOffset(n,this.elastic),t.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=t),this._fireEvent("dxswipe",i,{offset:n}),i.cancelable!==!1&&i.preventDefault()},_end(i){const e=this._getStrategy(),t=e.calcOffsetRatio.call(this,i),n=e.isFastSwipe.call(this,i);let s=t,o=this._calcTargetOffset(t,n);s=this._fitOffset(s,this.elastic),o=this._fitOffset(o,!1),this._fireEvent("dxswipeend",i,{offset:s,targetOffset:o})},_fitOffset(i,e){const n=this._getStrategy().getBounds.call(this);return i<-n[0]?e?(-2*n[0]+i)/3:-n[0]:i>n[1]?e?(2*n[1]+i)/3:n[1]:i},_calcTargetOffset(i,e){let t;return e?(t=Math.ceil(Math.abs(i)),i<0&&(t=-t)):t=Math.round(i),t}});es({emitter:Fk,events:["dxswipestart","dxswipe","dxswipeend"]});const Xg="dxSwipeable",Hk={onStart:qg,onUpdated:Yg,onEnd:Sd,onCancel:"dxswipecancel"};class ma extends ii{_getDefaultOptions(){return C({},super._getDefaultOptions(),{elastic:!0,immediate:!1,immediateTimeout:180,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})}_render(){super._render(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()}_attachEventHandlers(){if(this._detachEventHandlers(),this.option("disabled"))return;const{NAME:e}=this;this._createEventData(),S(Hk,((t,n)=>{const s=this._createActionByOption(t,{context:this}),o=k(n,e);_.on(this.$element(),o,this._eventData,(r=>s({event:r})))}))}_createEventData(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}}_detachEventHandlers(){_.off(this.$element(),`.${Xg}`)}_optionChanged(e){switch(e.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:super._optionChanged(e)}}_useTemplates(){return!1}}Vs(ma,Xg);class Ed{constructor(e){this.calendar=e}dateValue(e,t){this.calendar._dateValue(e,t)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(e,t){this.calendar._updateAriaSelected(e,t);const{currentDate:n=new Date}=this.calendar.option();e[0]&&n.getTime()===e[0].getTime()&&this.calendar._updateAriaId(e[0])}processValueChanged(e,t){var n,s;let o=e,r=t;y(o)&&!Array.isArray(o)&&(o=[o]),y(r)&&!Array.isArray(r)&&(r=[r]),o=((n=o)===null||n===void 0?void 0:n.map((a=>this._convertToDate(a))))??[],r=((s=r)===null||s===void 0?void 0:s.map((a=>this._convertToDate(a))))??[],this._updateViewsValue(o.filter((a=>a!==null))),this.updateAriaSelected(o,r),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_isDateDisabled(e){const t=this.calendar._getDateOption("min"),n=this.calendar._getDateOption("max"),s=y(t)&&e<t&&!P.sameDate(t,e),o=y(n)&&e>n&&!P.sameDate(n,e);return this.calendar._view.isDateDisabled(e)||s||o}_getLowestDateInArray(e){return e.length?new Date(Math.min(...e.map((t=>t?.getTime()??1/0)))):null}_convertToDate(e){return this.calendar._convertToDate(e)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(e,t){this.calendar._updateViewsOption(e,t)}_updateViewsValue(e){this._updateViewsOption("value",e)}_updateCurrentDate(e){this.calendar.option("currentDate",e??new Date)}_shouldHandleWeekNumberClick(){const{selectionMode:e,selectWeekOnClick:t}=this.calendar.option();return t===!0&&e!=="single"}}class Nk extends Ed{constructor(e){super(e),this.NAME="MultiSelection"}dateOption(e){return e==="value"?this.calendar._getDateOption("value"):this.calendar._getDateOption(e)}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"multiple",onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){const n=[...this.dateOption("value")],s=n.findIndex((o=>o?.toDateString()===e.toDateString()));s>-1?n.splice(s,1):n.push(e),this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.dateValue(n,t)}updateAriaSelected(e,t){const n=e??this.dateOption("value"),s=t??[];super.updateAriaSelected(n,s)}getDefaultCurrentDate(){const t=this.dateOption("value").filter((n=>n!==null));return this._getLowestDateInArray(t)}restoreValue(){this.calendar.option("value",[])}_weekNumberClickHandler(e){let{rowDates:t,event:n}=e;const s=t.filter((o=>!this._isDateDisabled(o)));this.dateValue(s,n)}}class Wk extends jt{_getDefaultOptions(){return C({},super._getDefaultOptions(),{onClick:void 0,onCaptionClick:void 0,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>wt(ke()),options:{type:"default",stylingMode:"text"}},{device:()=>oi(ke()),options:{type:"normal",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),u(this.element()).addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()}_renderButtons(){const{rtlEnabled:e,type:t,stylingMode:n,focusStateEnabled:s}=this.option();this._prevButton=this._createComponent(u("<div>"),Dt,{focusStateEnabled:s,icon:e?"chevronright":"chevronleft",onClick:l=>{var c;(c=this._clickAction)===null||c===void 0||c.call(this,{direction:-1,event:l})},type:t,stylingMode:n,integrationOptions:{}});const o=u(this._prevButton.element()).addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent(u("<div>"),Dt,{focusStateEnabled:s,icon:e?"chevronleft":"chevronright",onClick:l=>{var c;(c=this._clickAction)===null||c===void 0||c.call(this,{direction:1,event:l})},type:t,stylingMode:n,integrationOptions:{}});const r=u(this._nextButton.element()).addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent(u("<div>").addClass("dx-calendar-caption-button"),Dt,{focusStateEnabled:s,onClick:l=>{var c;(c=this._captionClickAction)===null||c===void 0||c.call(this,{event:l})},type:t,stylingMode:n,template:(l,c)=>{const{text:d}=this.option();d.split(" - ").forEach((p=>{u(c).append(u("<span>").addClass("dx-button-text").text(p))}))},integrationOptions:{}});const a=this._caption.$element();this.$element().append(o).append(a).append(r)}_renderCaption(){var e;const{text:t}=this.option();(e=this._caption)===null||e===void 0||e.option("text",t)}toggleButton(e,t){const n=`_${e}Button`,s=this[n];s&&(s.option("disabled",t),s.$element().toggleClass("dx-calendar-disabled-navigator-link",t))}_optionChanged(e){const{name:t}=e;t==="text"?this._renderCaption():super._optionChanged(e)}}class zk extends Ed{constructor(e){super(e),this.NAME="RangeSelection"}dateOption(e){return e==="value"?this.calendar._getDateOption("value")||null:this.calendar._getDateOption(e)}getViewOptions(){const e=this._getValue(),t=this._getDaysInRange(e[0],e[1]);return{value:e,range:t,selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this),onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){const[n,s]=this._getValue();this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0;const{allowChangeSelectionOrder:o,currentSelection:r}=this.calendar.option();if(o===!0){this.calendar._valueSelected=!0;const a=this.calendar._convertToDate(e);r==="startDate"?a>(this.calendar._convertToDate(s)??new Date(0))?this.dateValue([e,null],t):this.dateValue([e,s],t):a>=(this.calendar._convertToDate(n)??new Date(0))?this.dateValue([n,e],t):this.dateValue([e,null],t)}else!n||s?this.dateValue([e,null],t):this.dateValue(n<e?[n,e]:[e,n],t)}updateAriaSelected(e,t){const n=e??this._getValue(),s=t??[];super.updateAriaSelected(n,s)}processValueChanged(e,t){super.processValueChanged(e,t);const n=this._getRange();this._updateViewsOption("range",n)}getDefaultCurrentDate(){const{allowChangeSelectionOrder:e,currentSelection:t}=this.calendar.option(),n=this.dateOption("value");if(e){if(t==="startDate"&&n[0])return n[0];if(t==="endDate"&&n[1])return n[1]}const s=n.filter((o=>o!==null));return this._getLowestDateInArray(s)}restoreValue(){this.calendar.option("value",[null,null])}_getValue(){const e=this.dateOption("value");if(!e.length)return e;let[t,n]=e;return t&&n&&t>n&&([t,n]=[n,t]),[t,n]}_getRange(){const[e,t]=this._getValue();return this._getDaysInRange(e,t)}_getDaysInRange(e,t){if(!e||!t)return[];const{currentDate:n,viewsCount:s}=this.calendar.option(),o=this.calendar._isAdditionalViewDate(n),r=P.getFirstMonthDate(n,o?-2:-1),a=P.getLastMonthDate(n,o?1:s),l=new Date(Math.max(r.getTime(),e.getTime())),c=new Date(Math.min(a.getTime(),t.getTime()));return[...P.getDatesOfInterval(l,c,864e5),c]}_cellHoverHandler(e){const t=this._isMaxZoomLevel(),[n,s]=this._getValue(),{allowChangeSelectionOrder:o,currentSelection:r}=this.calendar.option();if(t){if(n&&!s&&!(o&&r==="startDate")){if(e.value>n){this._updateViewsOption("hoveredRange",this._getDaysInRange(n,e.value));return}}else if(!n&&s&&!(o&&r==="endDate")){if(e.value<s){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,s));return}}else if(n&&s){if(r==="startDate"&&e.value<n){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,n));return}if(r==="endDate"&&e.value>s){this._updateViewsOption("hoveredRange",this._getDaysInRange(s,e.value));return}}this._updateViewsOption("hoveredRange",[])}}_weekNumberClickHandler(e){let{rowDates:t,event:n}=e;const s=t.filter((r=>!this._isDateDisabled(r))),o=s.length?[s[0],s[s.length-1]]:[null,null];this.dateValue(o,n)}}class Gk extends Ed{constructor(e){super(e),this.NAME="SingleSelection"}dateOption(e){return e==="value"?this.calendar._getDateOption("value"):this.calendar._getDateOption(e)}getViewOptions(){return{value:this.dateOption("value")??void 0,range:[],selectionMode:"single"}}selectValue(e,t){this.skipNavigate(),this.dateValue(e,t)}updateAriaSelected(e,t){const n=e??[this.dateOption("value")],s=t??[];super.updateAriaSelected(n,s)}getDefaultCurrentDate(){return this.dateOption("value")}restoreValue(){this.calendar.option("value",null)}_updateViewsValue(e){this._updateViewsOption("value",e[0])}}const Zg="td:not(.dx-calendar-week-number-cell)",Id=k(ft,"dxCalendar"),Jg=k(oo,"dxCalendar"),Kk={month:F.format("dxCalendar-currentDay"),year:F.format("dxCalendar-currentMonth"),decade:F.format("dxCalendar-currentYear"),century:F.format("dxCalendar-currentYearRange")},Bn={single:"single",multiple:"multiple",range:"range"};class fa extends jt{_getViewName(){return"base"}_getDefaultOptions(){return C({},super._getDefaultOptions(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,onWeekNumberClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})}_initMarkup(){super._initMarkup(),this._renderImpl()}_renderImpl(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents(),this._updateTableAriaLabel()}_getLocalizedWidgetName(){return F.format("dxCalendar-ariaWidgetName")}_getSingleModeAriaLabel(){const{value:e}=this.option(),t=this._getLocalizedWidgetName(),n=ie.format(e,"date"),s=F.format("dxCalendar-selectedDate",n);return`${t}. ${s}`}_getRangeModeAriaLabel(){const{value:e}=this.option(),t=this._getLocalizedWidgetName(),[n,s]=e,o=ie.format(n,"date"),r=ie.format(s,"date"),a=n&&s?F.format("dxCalendar-selectedDateRange",o,r):F.format("dxCalendar-selectedDate",o??r);return`${t}. ${a}`}_getMultipleModeAriaLabel(){const e=this._getLocalizedWidgetName(),t=this._getMultipleRangesText();return`${e}. ${t}`}_getMultipleRangesText(){const{value:e}=this.option(),t=e,n=P.getRangesByDates(t.map((a=>new Date(a))));if(n.length>2)return F.format("dxCalendar-selectedDateRangeCount",n.length);const s=F.format("dxCalendar-selectedDates"),o=n.map((a=>this._getRangeText(a))).join(", ");return`${s}: ${o}`}_getRangeText(e){const[t,n]=e,s=ie.format(t,"date"),o=ie.format(n,"date");return`${t&&n?F.format("dxCalendar-selectedMultipleDateRange",s,o):s}`}_getTableAriaLabel(){const{value:e,selectionMode:t}=this.option();if(!e||Array.isArray(e)&&!e.filter(Boolean).length)return this._getLocalizedWidgetName();switch(t){case Bn.single:return this._getSingleModeAriaLabel();case Bn.range:return this._getRangeModeAriaLabel();case Bn.multiple:return this._getMultipleModeAriaLabel();default:return this._getSingleModeAriaLabel()}}_updateTableAriaLabel(){const e=this._getTableAriaLabel();this.setAria({label:e},this._$table)}_createTable(){return this._$table=u("<table>"),this.setAria({role:"grid"},this._$table),this._$table}_renderBody(){this.$body=u("<tbody>").appendTo(this._$table);const e={cellDate:this._getFirstCellData(),prevCellDate:null,row:void 0},{rowCount:t,colCount:n}=this.option();for(let s=0,o=t;s<o;s+=1){e.row=this._createRow();for(let r=0,a=n;r<a;r+=1)this._renderCell(e,r);this._renderWeekNumberCell(e)}}_renderWeekNumberCell(e){}_createRow(){const e=D.createElement("tr");return this.setAria("role","row",u(e)),this.$body.get(0).appendChild(e),e}_createCell(e,t){const n=D.createElement("td"),s=u(n);return n.className=this._getClassNameByDate(e,t),n.setAttribute("data-value",Ye.serializeDate(e,P.getShortDateFormat())),Pe(n,"dxDateValueKey",e),this.setAria({role:"gridcell",selected:!1,label:this.getCellAriaLabel(e)},s),{cell:n,$cell:s}}_renderCell(e,t){const{cellDate:n,prevCellDate:s,row:o}=e;s&&P.fixTimezoneGap(s,n),e.prevCellDate=n;const{cell:r,$cell:a}=this._createCell(n,t),{cellTemplate:l}=this.option();u(o).append(r),l?l.render(this._prepareCellTemplateData(n,t,a)):r.innerHTML=this._getCellText(n),e.cellDate=this._getNextCellData(n)}_getClassNameByDate(e,t){let n="dx-calendar-cell";this._isTodayCell(e)&&(n+=" dx-calendar-today"),(this._isDateOutOfRange(e)||this.isDateDisabled(e))&&(n+=" dx-calendar-empty-cell"),this._isOtherView(e)&&(n+=" dx-calendar-other-view");const{selectionMode:s}=this.option();if(s===Bn.range){t===0&&(n+=" dx-calendar-cell-start-in-row");const{colCount:o}=this.option();t===o-1&&(n+=" dx-calendar-cell-end-in-row"),this._isStartDayOfMonth(e)&&(n+=" dx-calendar-cell-start"),this._isEndDayOfMonth(e)&&(n+=" dx-calendar-cell-end")}return n}_prepareCellTemplateData(e,t,n){const s=e instanceof Date,o=s?this._getCellText(e):e,r=s?e:void 0,a=this._getViewName();return{model:{text:o,date:r,view:a},container:ae(n),index:t}}_renderEvents(){this._createCellClickAction(),_.off(this._$table,Id),_.on(this._$table,Id,Zg,(t=>{u(t.currentTarget).hasClass("dx-calendar-empty-cell")||this._cellClickAction({event:t,value:u(t.currentTarget).data("dxDateValueKey")})}));const{selectionMode:e}=this.option();_.off(this._$table,Jg),e===Bn.range&&(this._createCellHoverAction(),_.on(this._$table,Jg,Zg,(t=>{u(t.currentTarget).hasClass("dx-calendar-empty-cell")||this._cellHoverAction({event:t,value:u(t.currentTarget).data("dxDateValueKey")})}))),e!==Bn.single&&(this._createWeekNumberCellClickAction(),_.on(this._$table,Id,".dx-calendar-week-number-cell",(t=>{const n=u(t.currentTarget).closest("tr"),s=n.find(".dx-calendar-cell").first().data("dxDateValueKey"),o=n.find(".dx-calendar-cell").last().data("dxDateValueKey"),r=[...P.getDatesOfInterval(s,o,864e5),o];this._weekNumberCellClickAction({event:t,rowDates:r})})))}_createCellClickAction(){this._cellClickAction=this._createActionByOption("onCellClick")}_createCellHoverAction(){this._cellHoverAction=this._createActionByOption("onCellHover")}_createWeekNumberCellClickAction(){this._weekNumberCellClickAction=this._createActionByOption("onWeekNumberClick")}_createDisabledDatesHandler(){const{disabledDates:e}=this.option();this._disabledDatesHandler=Array.isArray(e)?this._getDefaultDisabledDatesHandler(e):e??(()=>!1)}_getDefaultDisabledDatesHandler(e){return()=>!1}_isTodayCell(e){return!1}_isDateOutOfRange(e){return!1}isDateDisabled(e){const t={date:e,view:this._getViewName()};return this._disabledDatesHandler(t)}_isOtherView(e){return!1}_isStartDayOfMonth(e){return!1}_isEndDayOfMonth(e){return!1}_getCellText(e){return""}_getFirstCellData(){return new Date}_getNextCellData(e){return new Date(e)}_renderContouredDate(e){const{focusStateEnabled:t}=this.option();if(!t)return;const{contouredDate:n}=this.option(),s=e??n,o=this._getContouredCell(),r=this._getCellByDate(s);o.removeClass("dx-calendar-contoured-date"),s&&r.addClass("dx-calendar-contoured-date")}_getContouredCell(){return this._$table.find(".dx-calendar-contoured-date")}_renderValue(){if(!this.option("allowValueSelection"))return;let{value:e=[]}=this.option();Array.isArray(e)||(e=[e]),this._updateSelectedClass(e)}_updateSelectedClass(e){var t;this._isRangeMode()&&!this._isMonthView()||((t=this._$selectedCells)===null||t===void 0||t.forEach((n=>{n.removeClass("dx-calendar-selected-date")})),this._$selectedCells=e.map((n=>this._getCellByDate(n))),this._$selectedCells.forEach((n=>{n.addClass("dx-calendar-selected-date")})))}_renderRange(){var e,t,n,s,o,r,a,l;const{allowValueSelection:c,value:d=[],range:h}=this.option();!c||!this._isRangeMode()||!this._isMonthView()||((e=this._$rangeCells)===null||e===void 0||e.forEach((p=>{p.removeClass("dx-calendar-cell-in-range")})),(t=this._$hoveredRangeCells)===null||t===void 0||t.forEach((p=>{p.removeClass("dx-calendar-cell-range-hover")})),(n=this._$rangeStartHoverCell)===null||n===void 0||n.removeClass("dx-calendar-cell-range-hover-start"),(s=this._$rangeEndHoverCell)===null||s===void 0||s.removeClass("dx-calendar-cell-range-hover-end"),(o=this._$rangeStartDateCell)===null||o===void 0||o.removeClass("dx-calendar-range-start-date"),(r=this._$rangeEndDateCell)===null||r===void 0||r.removeClass("dx-calendar-range-end-date"),this._$rangeCells=h.map((p=>this._getCellByDate(p))),this._$rangeStartDateCell=this._getCellByDate(d[0]),this._$rangeEndDateCell=this._getCellByDate(d[1]),this._$rangeCells.forEach((p=>{p.addClass("dx-calendar-cell-in-range")})),(a=this._$rangeStartDateCell)===null||a===void 0||a.addClass("dx-calendar-range-start-date"),(l=this._$rangeEndDateCell)===null||l===void 0||l.addClass("dx-calendar-range-end-date"))}_renderHoveredRange(){var e,t,n,s,o;const{allowValueSelection:r,hoveredRange:a}=this.option();!r||!this._isRangeMode()||!this._isMonthView()||((e=this._$hoveredRangeCells)===null||e===void 0||e.forEach((l=>{l.removeClass("dx-calendar-cell-range-hover")})),(t=this._$rangeStartHoverCell)===null||t===void 0||t.removeClass("dx-calendar-cell-range-hover-start"),(n=this._$rangeEndHoverCell)===null||n===void 0||n.removeClass("dx-calendar-cell-range-hover-end"),this._$hoveredRangeCells=a.map((l=>this._getCellByDate(l))),this._$rangeStartHoverCell=this._getCellByDate(a[0]),this._$rangeEndHoverCell=this._getCellByDate(a[a.length-1]),this._$hoveredRangeCells.forEach((l=>{l.addClass("dx-calendar-cell-range-hover")})),(s=this._$rangeStartHoverCell)===null||s===void 0||s.addClass("dx-calendar-cell-range-hover-start"),(o=this._$rangeEndHoverCell)===null||o===void 0||o.addClass("dx-calendar-cell-range-hover-end"))}_isMonthView(){const{zoomLevel:e}=this.option();return e==="month"}_isRangeMode(){const{selectionMode:e}=this.option();return e===Bn.range}_getCurrentDateFormat(){return null}getCellAriaLabel(e){const t=this._getViewName(),n=this._isTodayCell(e),s=this._getCurrentDateFormat(),o=s?`${ie.format(e,s)}`:this._getCellText(e);return n?`${o}. ${Kk[t]}`:o}_getFirstAvailableDate(){const{date:e,min:t}=this.option(),n=P.getViewFirstCellDate(this._getViewName(),e)??e;return new Date(t&&n<t?t:n)}_getCellByDate(e){return u()}isBoundary(e){return!1}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"value":this._renderValue(),this._updateTableAriaLabel();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(n);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:super._optionChanged(e)}}}class Uk extends fa{_getViewName(){return"month"}_getCurrentDateFormat(){return"longdate"}_getDefaultOptions(){return C({},super._getDefaultOptions(),{firstDayOfWeek:0,rowCount:6,colCount:7})}_renderImpl(){super._renderImpl(),this._renderHeader()}_renderBody(){super._renderBody(),this._$table.find(".dx-calendar-other-view").addClass("dx-calendar-other-month")}_renderFocusTarget(){}_renderHeader(){const e=u("<tr>"),t=u("<thead>").append(e);this._$table.prepend(t);const{colCount:n,showWeekNumbers:s}=this.option();for(let o=0,r=n;o<r;o+=1)this._renderHeaderCell(o,e);s&&this._renderWeekHeaderCell(e)}_renderHeaderCell(e,t){const{firstDayOfWeek:n=0}=this.option(),{full:s,abbreviated:o}=this._getDayCaption(n+e),r=u("<th>").attr({scope:"col",abbr:s}).text(o);t.append(r)}_renderWeekHeaderCell(e){const t=u("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});e.prepend(t)}_renderWeekNumberCell(e){const{showWeekNumbers:t,cellTemplate:n,selectionMode:s,selectWeekOnClick:o}=this.option();if(!t)return;const r=this._getWeekNumber(e.prevCellDate),a=D.createElement("td"),l=u(a);a.className="dx-calendar-week-number-cell",s!=="single"&&o&&l.addClass("dx-calendar-week-selection"),n?n.render(this._prepareCellTemplateData(r,-1,l)):a.innerHTML=`${r}`,e.row.prepend(a),this.setAria({role:"gridcell",label:`Week ${r}`},l)}_getWeekNumber(e){const{weekNumberRule:t="auto",firstDayOfWeek:n}=this.option();return t==="auto"?P.getWeekNumber(e,n,n===1?"firstFourDays":"firstDay"):P.getWeekNumber(e,n,t)}getNavigatorCaption(){const{date:e}=this.option();return`${ie.format(e,"monthandyear")}`}_isTodayCell(e){const{_todayDate:t}=this.option();return P.sameDate(e,t())}_isDateOutOfRange(e){const t=this.option("min"),n=this.option("max");return!P.dateInRange(e,t,n,"date")}_isOtherView(e){const{date:t}=this.option();return e.getMonth()!==t.getMonth()}_isStartDayOfMonth(e){return P.sameDate(e,P.getFirstMonthDate(this.option("date")))}_isEndDayOfMonth(e){return P.sameDate(e,P.getLastMonthDate(this.option("date")))}_getCellText(e){return`${ie.format(e,"d")}`}_getDayCaption(e){const{colCount:t}=this.option(),n=e%t;return{full:ie.getDayNames()[n],abbreviated:ie.getDayNames("abbreviated")[n]}}_getFirstCellData(){const{firstDayOfWeek:e=0,date:t}=this.option(),n=P.getFirstMonthDate(t);let s=e-n.getDay();const{colCount:o}=this.option();return s>=0&&(s-=o),n.setDate(n.getDate()+s),n}_getNextCellData(e){const t=new Date(e);return t.setDate(t.getDate()+1),t}_getCellByDate(e){return this._$table.find(`td[data-value='${Ye.serializeDate(e,P.getShortDateFormat())}']`)}isBoundary(e){return P.sameMonthAndYear(e,this.option("min"))||P.sameMonthAndYear(e,this.option("max"))}_getDefaultDisabledDatesHandler(e){return t=>e.some((n=>P.sameDate(n,t.date)))}}class jk extends fa{_getViewName(){return"year"}_getCurrentDateFormat(){return"monthandyear"}_isTodayCell(e){const{_todayDate:t}=this.option();return P.sameMonthAndYear(e,t())}_isDateOutOfRange(e){return!P.dateInRange(e,P.getFirstMonthDate(this.option("min")),P.getLastMonthDate(this.option("max")))}_isOtherView(){return!1}_isStartDayOfMonth(){return!1}_isEndDayOfMonth(){return!1}_getCellText(e){return ie.getMonthNames("abbreviated")[e.getMonth()]}_getFirstCellData(){const{date:e}=this.option(),t=new Date(e);return t.setDate(1),t.setMonth(0),t}_getNextCellData(e){const t=new Date(e);return t.setMonth(t.getMonth()+1),t}_getCellByDate(e){const t=new Date(e);return t.setDate(1),this._$table.find(`td[data-value='${Ye.serializeDate(t,P.getShortDateFormat())}']`)}getNavigatorCaption(){const{date:e}=this.option();return`${ie.format(e,"yyyy")}`}isBoundary(e){return P.sameYear(e,this.option("min"))||P.sameYear(e,this.option("max"))}_renderWeekNumberCell(){}}class qk extends fa{_getViewName(){return"decade"}_isTodayCell(e){const{_todayDate:t}=this.option();return P.sameYear(e,t())}_isDateOutOfRange(e){const{min:t,max:n}=this.option();return!P.dateInRange(e.getFullYear(),t?.getFullYear(),n?.getFullYear())}_isOtherView(e){const t=new Date(e);return t.setMonth(1),!P.sameDecade(t,this.option("date"))}_isStartDayOfMonth(){return!1}_isEndDayOfMonth(){return!1}_getCellText(e){return`${ie.format(e,"yyyy")}`}_getFirstCellData(){const e=P.getFirstYearInDecade(this.option("date"))-1;return P.createDateWithFullYear(e,0,1)}_getNextCellData(e){const t=new Date(e);return t.setFullYear(t.getFullYear()+1),t}getNavigatorCaption(){const{date:e}=this.option(),t=P.getFirstYearInDecade(e),n=new Date(e),s=new Date(e);return n.setFullYear(t),s.setFullYear(t+9),`${ie.format(n,"yyyy")}-${ie.format(s,"yyyy")}`}_isValueOnCurrentView(e,t){return P.sameDecade(e,t)}_getCellByDate(e){const t=new Date(e);return t.setDate(1),t.setMonth(0),this._$table.find(`td[data-value='${Ye.serializeDate(t,P.getShortDateFormat())}']`)}isBoundary(e){return P.sameDecade(e,this.option("min"))||P.sameDecade(e,this.option("max"))}_renderWeekNumberCell(){}}class Yk extends fa{_getViewName(){return"century"}_isTodayCell(e){const{_todayDate:t}=this.option();return P.sameDecade(e,t())}_isDateOutOfRange(e){const t=P.getFirstYearInDecade(e),n=P.getFirstYearInDecade(this.option("min")),s=P.getFirstYearInDecade(this.option("max"));return!P.dateInRange(t,n,s)}_isOtherView(e){const t=new Date(e);return t.setMonth(1),!P.sameCentury(t,this.option("date"))}_isStartDayOfMonth(){return!1}_isEndDayOfMonth(){return!1}_getCellText(e){const t=ie.format(e,"yyyy"),n=new Date(e);return n.setFullYear(n.getFullYear()+9),`${t} - ${ie.format(n,"yyyy")}`}_getFirstCellData(){const e=P.getFirstDecadeInCentury(this.option("date"))-10;return P.createDateWithFullYear(e,0,1)}_getNextCellData(e){const t=new Date(e);return t.setFullYear(t.getFullYear()+10),t}_getCellByDate(e){const t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(P.getFirstYearInDecade(t)),this._$table.find(`td[data-value='${Ye.serializeDate(t,P.getShortDateFormat())}']`)}getNavigatorCaption(){const{date:e}=this.option(),t=P.getFirstDecadeInCentury(e),n=new Date(e),s=new Date(e);return n.setFullYear(t),s.setFullYear(t+99),`${ie.format(n,"yyyy")}-${ie.format(s,"yyyy")}`}isBoundary(e){return P.sameCentury(e,this.option("min"))||P.sameCentury(e,this.option("max"))}_renderWeekNumberCell(){}}const Xk={month:Uk,year:jk,decade:qk,century:Yk},Qg=k(Dr,"dxCalendar"),ps={month:3,year:2,decade:1,century:0},Me={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"},Zk={SingleSelection:Gk,MultipleSelection:Nk,RangeSelection:zk};class ev extends Xi{_activeStateUnit(){return".dx-calendar-cell"}_getDefaultOptions(){return C({},super._getDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,min:new Date(1e3,0),max:new Date(3e3,0),viewsCount:1,zoomLevel:Me.MONTH,maxZoomLevel:Me.MONTH,minZoomLevel:Me.CENTURY,selectionMode:"single",selectWeekOnClick:!0,showTodayButton:!1,todayButtonText:F.format("dxCalendar-todayButtonText"),showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}}])}_supportedKeys(){return C({},super._supportedKeys(),{rightArrow(e){e.preventDefault(),ut(e)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow(e){e.preventDefault(),ut(e)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow(e){if(e.preventDefault(),ut(e))this._navigateUp();else{if(Te.isAnimating(this._view.$element().get(0)))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow(e){if(e.preventDefault(),ut(e))this._navigateDown();else{if(Te.isAnimating(this._view.$element().get(0)))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home(e){e.preventDefault();const t=this.option("zoomLevel"),n=this.option("currentDate"),s=this._getDateOption("min");if(this._view.isDateDisabled(n))return;const o=P.sameView(t,n,s)?s:P.getViewFirstCellDate(t,n);this._moveToClosestAvailableDate(o)},end(e){e.preventDefault();const t=this.option("zoomLevel"),n=this.option("currentDate"),s=this._getDateOption("max");if(this._view.isDateDisabled(n))return;const o=P.sameView(t,n,s)?s:P.getViewLastCellDate(t,n);this._moveToClosestAvailableDate(o)},pageUp(e){e.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown(e){e.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab(){},enter:this._enterKeyHandler})}_enterKeyHandler(e){const{currentDate:t=new Date}=this.option();if(!this._isMaxZoomLevel())this._navigateDown();else if(!this._view.isDateDisabled(t)){const n=this._updateTimeComponent(t);this._selectionStrategy.selectValue(n,e)}}_getSerializationFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const{[e]:t}=this.option(),{dateSerializationFormat:n}=this.option();if(n)return n;if(Le(t))return"number";if(!(!le(t)||t===""))return Ye.getDateSerializationFormat(t)}_convertToDate(e){return Ye.deserializeDate(e)}_dateValue(e,t){if(t){if(t.type==="keydown"){const n=this._view._getContouredCell().get(0);t.target=n}this._saveValueChangeEvent(t)}this._setDateOption("value",e)}_isArrayValue(e,t){return e==="value"&&!this._isSingleMode()}_setDateOption(e,t){const n=this._getSerializationFormat(e),s=this._isArrayValue(e,t)?t.map((o=>Ye.serializeDate(o,n))):Ye.serializeDate(t,n);this.option(e,s)}_getDateOption(e){let{[e]:t}=this.option();return this._isArrayValue(e,t)?(t??[]).map((s=>this._convertToDate(s))):(t===""&&(t=null),this._convertToDate(t))}_isSingleMode(){const{selectionMode:e}=this.option();return e==="single"}_shiftDate(e,t,n,s){switch(e){case Me.MONTH:t.setDate(t.getDate()+n*s);break;case Me.YEAR:t.setMonth(t.getMonth()+n*s);break;case Me.DECADE:t.setFullYear(t.getFullYear()+n*s);break;case Me.CENTURY:t.setFullYear(t.getFullYear()+10*n*s)}}_moveCurrentDateByOffset(e){const{currentDate:t=new Date,zoomLevel:n=Me.MONTH}=this.option();let s=new Date(t);this._shiftDate(n,s,e,1);const o=this._getMaxDate(),r=this._getMinDate();let a=this._areDatesInNeighborView(n,s,t),l=gi(s,r,o)&&a;const c=new Date(s);for(;l;){if(!this._view.isDateDisabled(c)){s=c;break}this._shiftDate(n,c,e,1),a=this._areDatesInNeighborView(n,c,t),l=gi(c,r,o)&&a}if(this._view.isDateDisabled(t)||this._view.isDateDisabled(s)){const d=e>0?1:-1;(d===1?this._isNextViewDisabled():this._isPrevViewDisabled())?this._moveToClosestAvailableDate(s):this._waitRenderView(d)}else this._skipNavigate=!0,this.option("currentDate",s)}_isNextViewDisabled(){const{disabled:e}=this._navigator._nextButton.option();return e===!0}_isPrevViewDisabled(){const{disabled:e}=this._navigator._prevButton.option();return e===!0}_areDatesInSameView(e,t,n){switch(e){case Me.YEAR:return t.getFullYear()===n.getFullYear();case Me.DECADE:return Math.floor(t.getFullYear()/10)===Math.floor(n.getFullYear()/10);case Me.CENTURY:return Math.floor(t.getFullYear()/100)===Math.floor(n.getFullYear()/100);case Me.MONTH:default:return t.getMonth()===n.getMonth()}}_areDatesInNeighborView(e,t,n){switch(e){case Me.YEAR:return Math.abs(t.getFullYear()-n.getFullYear())<=1;case Me.DECADE:return Math.abs(t.getFullYear()-n.getFullYear())<=10;case Me.CENTURY:return Math.abs(t.getFullYear()-n.getFullYear())<=100;case Me.MONTH:default:return((s,o)=>{const r=Math.abs(s-o);return Math.min(r,12-r)})(t.getMonth(),n.getMonth())<=1}}_moveToClosestAvailableDate(e){const{zoomLevel:t=Me.MONTH,currentDate:n=new Date}=this.option();let s=new Date(e??n);const o=!this._isDateNotAvailable(s);let r=o,a=o,l=!0,c=!0;const d=new Date(s),h=new Date(s);do{if(r){s=d;break}if(a){s=h;break}this._shiftDate(t,d,1,1),this._shiftDate(t,h,1,-1),l=this._areDatesInSameView(t,d,e??n),c=this._areDatesInSameView(t,h,e??n),r=l&&!this._isDateNotAvailable(d),a=c&&!this._isDateNotAvailable(h)}while(l||c);this.option("currentDate",s)}_isDateNotAvailable(e){const t=this._getMaxDate(),n=this._getMinDate();return!gi(e,n,t)||this._view.isDateDisabled(e)}_init(){super._init(),this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()}_initSelectionStrategy(){const e=this._getSelectionStrategyName(),t=Zk[e];(!this._selectionStrategy||this._selectionStrategy.NAME!==e)&&(this._selectionStrategy=new t(this))}_refreshSelectionStrategy(){this._initSelectionStrategy(),this._selectionStrategy.restoreValue(),this._refresh()}_getSelectionStrategyName(){const{selectionMode:e}=this.option();switch(e){case"multiple":return"MultipleSelection";case"range":return"RangeSelection";default:return"SingleSelection"}}_correctZoomLevel(){const{minZoomLevel:e=Me.CENTURY,maxZoomLevel:t=Me.MONTH,zoomLevel:n=Me.MONTH}=this.option();if(!(ps[t]<ps[e])){if(ps[n]>ps[t]){this.option("zoomLevel",t);return}ps[n]<ps[e]&&this.option("zoomLevel",e)}}_initCurrentDate(){const{currentDate:e=new Date}=this.option(),t=this._selectionStrategy.getDefaultCurrentDate(),n=(t?this._getNormalizedDate(t):null)??this._getNormalizedDate(e);this.option("currentDate",n)}_getNormalizedDate(e){const t=P.normalizeDate(e,this._getMinDate(),this._getMaxDate());return y(t)?this._getDate(t):e}_initActions(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")}_initTemplates(){this._templateManager.addDefaultTemplates({cell:new lo((e=>{const t=e.model;u(e.container).append(u("<span>").text(t?.text||String(t)))}))}),super._initTemplates()}_updateCurrentDate(e){Te.isAnimating(this._$viewsWrapper.get(0))&&Te.stop(this._$viewsWrapper.get(0),!0);const t=this._getMinDate(),n=this._getMaxDate();if(t>n){this.option("currentDate",new Date);return}const s=this._getNormalizedDate(e);if(e.getTime()!==s.getTime()){this.option("currentDate",new Date(s));return}const{date:o}=this._view.option();let r=this._getViewsOffset(o,s);r!==0&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(r=0),this._view&&r!==0&&!this._suppressNavigation?this._additionalView?r>2||r<-1?(this._refreshViews(),this._setViewContoured(s),this._updateAriaId(s),this._renderNavigator()):r===1&&this._skipNavigate?(this._setViewContoured(s),this._updateAriaId(s)):this._navigate(r,s):this._navigate(r,s):(this._renderNavigator(),this._setViewContoured(s),this._updateAriaId(s)),this._skipNavigate=!1}_isAdditionalViewDate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return this._additionalView?e>=this._additionalView._getFirstAvailableDate():!1}_getActiveView(e){return this._isAdditionalViewDate(e)?this._additionalView:this._view}_setViewContoured(e){if(this.option("skipFocusCheck")||u(this._$viewsWrapper).is(":focus")){var t;this._view.option("contouredDate",null),(t=this._additionalView)===null||t===void 0||t.option("contouredDate",null),(this._isAdditionalViewDate(e)?this._additionalView:this._view).option("contouredDate",e)}}_getMinDate(){const{rangeMin:e}=this.option();return e||(this.min?this.min:(this.min=this._getDateOption("min")??new Date(1e3,0),this.min))}_getMaxDate(){const{rangeMax:e}=this.option();return e||(this.max?this.max:(this.max=this._getDateOption("max")??new Date(3e3,0),this.max))}_getViewsOffset(e,t){const{zoomLevel:n}=this.option();if(n===Me.MONTH)return this._getMonthsOffset(e,t);let s=1;switch(n){case Me.CENTURY:s=100;break;case Me.DECADE:s=10;break;default:s=1}return Math.floor(t.getFullYear()/s)-Math.floor(e.getFullYear()/s)}_getMonthsOffset(e,t){const n=t.getFullYear()-e.getFullYear(),s=t.getMonth()-e.getMonth();return 12*n+s}_waitRenderView(e){if(this._alreadyViewRender)return;this._alreadyViewRender=!0;const t=this._getDateByOffset(e*this._getRtlCorrection());this._moveToClosestAvailableDate(t),this._waitRenderViewTimeout=setTimeout((()=>{this._alreadyViewRender=!1}))}_getRtlCorrection(){const{rtlEnabled:e}=this.option();return e?-1:1}_getDateByOffset(e,t){const{currentDate:n=new Date}=this.option(),s=this._getDate(t??n),o=s.getDate(),r=P.getDifferenceInMonth(this.option("zoomLevel"))*e;s.setDate(1),s.setMonth(s.getMonth()+r);const a=P.getLastMonthDate(s).getDate();return s.setDate(o>a?a:o),s}_focusTarget(){return this._$viewsWrapper}_focusEventTarget(){return this.$element()}_initMarkup(){this._renderSubmitElement();const e=this.$element();e.addClass("dx-calendar");const{selectionMode:t}=this.option();e.toggleClass("dx-calendar-range",t==="range"),this._renderBody(),e.append(this.$body),this._renderViews(),this._renderNavigator(),super._initMarkup(),this._renderEvents(),e.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this._updateNavigatorLabels(),this.setAria("role","application"),this._updateAriaLabelAndRole(),this._moveToClosestAvailableDate()}_render(){super._render();const{currentDate:e=new Date}=this.option();this._setViewContoured(e)}_renderBody(){this._$viewsWrapper||(this.$body=u("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=u("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))}_updateAriaLabelAndRole(){const e=this.option("readOnly"),t=this.$element(),n={role:e?"group":void 0,label:e?F.format("dxCalendar-readOnlyLabel"):void 0};this.setAria(n,t)}_setAriaReadonly(){}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._view])}_renderViews(){const{zoomLevel:e}=this.option();this.$element().addClass(`dx-calendar-view-${e}`);const{currentDate:t=new Date,viewsCount:n}=this.option();if(this.$element().toggleClass("dx-calendar-multiview",n>1),this._view=this._renderSpecificView(t),te()){const s=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(s)?this._renderSpecificView(s):null;const o=this._getDateByOffset(n,t);o.setDate(1),this._afterView=this._isViewAvailable(o)?this._renderSpecificView(o):null}n>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,t))),this._translateViews()}_renderSpecificView(e){const{zoomLevel:t=Me.MONTH}=this.option(),n=Xk[t],s=u("<div>").appendTo(this._$viewsWrapper),o=this._viewConfig(e);return this._createComponent(s,n,o)}_viewConfig(e){const{firstDayOfWeek:t=ie.firstDayOfWeekIndex(),showWeekNumbers:n=!1,selectWeekOnClick:s,weekNumberRule:o,zoomLevel:r=Me.MONTH,focusStateEnabled:a,hoverStateEnabled:l,disabledDates:c,_todayDate:d}=this.option(),h=L(c)?this._injectComponent(c.bind(this)):c;return C({},this._selectionStrategy.getViewOptions(),{date:e,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:t,showWeekNumbers:n,selectWeekOnClick:s,weekNumberRule:o,zoomLevel:r,tabIndex:void 0,focusStateEnabled:a,hoverStateEnabled:l,disabledDates:h,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:d})}_renderEvents(){_.off(this._$viewsWrapper,Qg);const{selectionMode:e}=this.option();e==="range"&&_.on(this._$viewsWrapper,Qg,null,(()=>{this._updateViewsOption("hoveredRange",[])}))}_injectComponent(e){return t=>e(C({},t,{component:this}))}_isViewAvailable(e){const{zoomLevel:t}=this.option(),n=P.getViewMinBoundaryDate(t,this._getMinDate()),s=P.getViewMaxBoundaryDate(t,this._getMaxDate());return P.dateInRange(e,n,s)}_translateViews(){const{viewsCount:e}=this.option();rt(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,e),this._moveViewElement(this._additionalView,1)}_moveViewElement(e,t){e&&rt(e.$element(),{left:this._getViewPosition(t),top:0})}_getViewPosition(e){const t=this.option("rtlEnabled")?-1:1;return 100*e*t+"%"}_cellClickHandler(e){const t=this.option("zoomLevel"),n=P.getViewDown(t),s=this._isMaxZoomLevel();if(n&&!s)this._navigateDown(e.event.currentTarget);else{var o;const r=this._updateTimeComponent(e.value);this._selectionStrategy.selectValue(r,e.event),(o=this._cellClickAction)===null||o===void 0||o.call(this,e)}}_updateTimeComponent(e){const t=new Date(e),n=this._getDateOption("value");return n&&!this._isArrayValue("value",n)&&(t.setHours(n.getHours()),t.setMinutes(n.getMinutes()),t.setSeconds(n.getSeconds()),t.setMilliseconds(n.getMilliseconds())),t}_isMaxZoomLevel(){const{zoomLevel:e=Me.MONTH,maxZoomLevel:t}=this.option();return e===t}_navigateDown(e){const{zoomLevel:t,currentDate:n=new Date}=this.option();if(this._isMaxZoomLevel())return;const s=P.getViewDown(t);if(!s)return;const{contouredDate:o,date:r}=this._view.option();let a=o??r;e&&(a=u(e).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",a),this.option("zoomLevel",s),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(n))}_renderNavigator(){this._navigator||(this._navigator=this._createComponent(u("<div>"),Wk,this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()}_navigatorConfig(){const{focusStateEnabled:e,rtlEnabled:t}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),focusStateEnabled:e,rtlEnabled:t,tabIndex:void 0}}_navigatorClickHandler(e){const{currentDate:t,viewsCount:n}=this.option();let s=e.direction;if(n>1){const r=this._isAdditionalViewDate(t);(r&&s<0||!r&&s>0)&&(s*=2)}const o=this._getDateByOffset(s,t);this._moveToClosestAvailableDate(o)}_navigateUp(){const{zoomLevel:e=Me.MONTH,currentDate:t=new Date}=this.option(),n=P.getViewUp(e);!n||this._isMinZoomLevel(e)||(this.option("zoomLevel",n),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(t)))}_isMinZoomLevel(e){const t=this._getMinDate(),n=this._getMaxDate(),{minZoomLevel:s}=this.option();return!!P.sameView(e,t,n)||s===e}_updateButtonsVisibility(){this._navigator.toggleButton("next",!y(this._afterView)),this._navigator.toggleButton("prev",!y(this._beforeView))}_renderSwipeable(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),ma,{onStart:e=>{this._swipeStartHandler(e.event)},onUpdated:e=>{this._swipeUpdateHandler(e.event)},onEnd:e=>{this._swipeEndHandler(e.event)},itemSizeFunc:this._viewWidth.bind(this)}))}_swipeStartHandler(e){Te.stop(this._$viewsWrapper.get(0),!0);const{viewsCount:t}=this.option();this._toggleGestureCoverCursor("grabbing"),e.maxLeftOffset=this._getRequiredView("next")?1/t:0,e.maxRightOffset=this._getRequiredView("prev")?1/t:0}_toggleGestureCoverCursor(e){u(".dx-gesture-cover").css("cursor",e)}_getRequiredView(e){const{rtlEnabled:t}=this.option();return e==="prev"?t?this._afterView:this._beforeView:t?this._beforeView:this._afterView}_swipeUpdateHandler(e){const{offset:t}=e;rt(this._$viewsWrapper,{left:t*this._viewWidth(),top:0}),this._updateNavigatorCaption(t)}_swipeEndHandler(e){this._toggleGestureCoverCursor("auto");const{currentDate:t,rtlEnabled:n}=this.option(),{targetOffset:s}=e,o=s?s/Math.abs(s):0,a=this._isAdditionalViewDate(t)&&(n?o===-1:o===1);if(o===0){this._animateWrapper(0,250);return}const l=-o*this._getRtlCorrection()*(a?2:1);let c=this._getDateByOffset(l);this._isDateInInvalidRange(c)&&(o>=0?c=new Date(this._getMinDate()):c=new Date(this._getMaxDate())),this.option("currentDate",c)}_viewWidth(){if(!this._viewWidthValue){const{viewsCount:e}=this.option();this._viewWidthValue=me(this.$element())/e}return this._viewWidthValue}_updateNavigatorCaption(e){const t=e*this._getRtlCorrection(),{viewsCount:n}=this.option(),s=n>1;let o=null,r=null;t>.5&&this._beforeView?(o=this._beforeView,s&&(r=this._view)):t<-.5&&this._afterView?(o=s?this._additionalView:this._afterView,r=s?this._afterView:null):(o=this._view,r=s?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(o,r))}_getViewsCaption(e,t){let n=e.getNavigatorCaption();const{viewsCount:s}=this.option();if(s>1&&t){const o=t.getNavigatorCaption();n=`${n} - ${o}`}return n}_isDateInInvalidRange(e){if(this._view.isBoundary(e))return!1;const t=this._getMinDate(),n=this._getMaxDate(),s=P.normalizeDate(e,t,n);return s===t||s===n}_renderFooter(){const{showTodayButton:e,todayButtonText:t}=this.option();if(e){const n=this._createComponent(u("<div>"),Dt,{focusStateEnabled:this.option("focusStateEnabled"),text:t,onClick:s=>{this._toTodayView(s)},type:oi(ke())?"normal":"default",stylingMode:oi(ke())?"outlined":"text",integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=u("<div>").addClass("dx-calendar-footer").append(n),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",e)}_renderSubmitElement(){this._$submitElement=u("<input>").attr("type","hidden").appendTo(this.$element());const{value:e}=this.option();this._setSubmitValue(e)}_setSubmitValue(e){if(this._isArrayValue("value",e))return;const t=this._convertToDate(e);this._getSubmitElement().val(Ye.serializeDate(t,"yyyy-MM-dd"))}_getSubmitElement(){return this._$submitElement}_animateShowView(){Te.stop(this._view.$element().get(0),!0),this._popAnimationView(this._view,.6,1,250);const{viewsCount:e}=this.option();e>1&&(Te.stop(this._additionalView.$element().get(0),!0),this._popAnimationView(this._additionalView,.6,1,250))}_popAnimationView(e,t,n,s){return Te.animate(e.$element().get(0),{type:"pop",from:{scale:t,opacity:t},to:{scale:n,opacity:n},duration:s})}_navigate(e,t){if(e!==0&&Math.abs(e)!==1&&this._isViewAvailable(t)){const c=this._renderSpecificView(t);if(e>0){var n;(n=this._afterView)===null||n===void 0||n.$element().remove(),this._afterView=c}else{var s;(s=this._beforeView)===null||s===void 0||s.$element().remove(),this._beforeView=c}this._translateViews()}const o=this._getRtlCorrection(),r=vn(e),a=-o*r*this._viewWidth();this._$viewsWrapper.position().left!==a&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(e,t):this._animateWrapper(a,250).done(this._wrapperAnimationEndHandler.bind(this,e,t)))}_animateWrapper(e,t){return Te.animate(this._$viewsWrapper.get(0),{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:t})}_getDate(e){return new Date(e)}_toTodayView(e){const t=new Date;if(this._isMaxZoomLevel()){this._selectionStrategy.selectValue(t,e.event);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(t,e.event),this._animateShowView(),this._preventViewChangeAnimation=!1}_wrapperAnimationEndHandler(e,t){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t),this._selectionStrategy.updateAriaSelected()}_rearrangeViews(e){var t;if(e===0)return;const{viewsCount:n}=this.option();let s=-1,o="_afterView",r="_beforeView",a=n===1?"_view":"_additionalView",l="_view";if(e<0&&(s=1,o="_beforeView",r="_afterView",a="_view",l=n===1?"_view":"_additionalView"),!this[o])return;const c=this[o].option("date");(t=this[r])===null||t===void 0||t.$element().remove(),this[r]=this._renderSpecificView(this._getDateByOffset(s*n,c)),this[l].$element().remove(),n===1?this[l]=this[o]:(this[l]=this[a],this[a]=this[o]);const d=this._getDateByOffset(-s,c);this[o]=this._isViewAvailable(d)?this._renderSpecificView(d):null}_resetLocation(){rt(this._$viewsWrapper,{left:0,top:0})}_clean(){super._clean(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer}_clearViewWidthCache(){delete this._viewWidthValue}_disposeViews(){var e,t,n;this._view.$element().remove(),(e=this._beforeView)===null||e===void 0||e.$element().remove(),(t=this._additionalView)===null||t===void 0||t.$element().remove(),(n=this._afterView)===null||n===void 0||n.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate}_dispose(){clearTimeout(this._waitRenderViewTimeout),super._dispose()}_refreshViews(){this._resetActiveState(),this._disposeViews(),this._renderViews()}_visibilityChanged(){this._translateViews()}_shouldSkipFocusEvent(e){const{target:t,relatedTarget:n}=e;return!!u(t).parents(".dx-calendar").length&&!!u(n).parents(".dx-calendar").length}_focusInHandler(e){if(u(e.target).is(this._$viewsWrapper)){const{currentDate:t=new Date}=this.option();this._setViewContoured(t)}this._shouldSkipFocusEvent(e)||(super._focusInHandler.apply(this,[e]),this._toggleFocusClass(!0,this.$element()))}_focusOutHandler(e){if(u(e.target).is(this._$viewsWrapper)){var t;this._view.option("contouredDate",null),(t=this._additionalView)===null||t===void 0||t.option("contouredDate",null)}this._shouldSkipFocusEvent(e)||(super._focusOutHandler.apply(this,[e]),this._toggleFocusClass(!1,this.$element()))}_updateViewsOption(e,t){var n,s,o;this._view.option(e,t),(n=this._additionalView)===null||n===void 0||n.option(e,t),(s=this._beforeView)===null||s===void 0||s.option(e,t),(o=this._afterView)===null||o===void 0||o.option(e,t)}_setViewsMinOption(e){this._restoreViewsMinMaxOptions(),this.option("rangeMin",this._convertToDate(e)),this._updateViewsOption("min",this._getMinDate())}_setViewsMaxOption(e){this._restoreViewsMinMaxOptions(),this.option("rangeMax",this._convertToDate(e)),this._updateViewsOption("max",this._getMaxDate())}_restoreViewsMinMaxOptions(){this._resetActiveState(),this.option({rangeMin:null,rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())}_updateNavigatorLabels(){const{zoomLevel:e=Me.MONTH}=this.option(),t=e.charAt(0).toUpperCase()+e.slice(1),n=this._navigator._caption.option("text"),s=F.format(`dxCalendar-previous${t}ButtonLabel`),o=F.format(`dxCalendar-caption${t}Label`),r=F.format(`dxCalendar-next${t}ButtonLabel`);this.setAria("label",s,this._navigator._prevButton.$element()),this.setAria("label",`${n}. ${o}`,this._navigator._caption.$element()),this.setAria("label",r,this._navigator._nextButton.$element())}_updateAriaSelected(e,t){t?.forEach((s=>{s&&this.setAria("selected",!1,this._view._getCellByDate(s))})),e?.forEach((s=>{s&&this.setAria("selected",!0,this._view._getCellByDate(s))}));const{viewsCount:n}=this.option();n>1&&(t?.forEach((s=>{s&&this.setAria("selected",!1,this._additionalView._getCellByDate(s))})),e?.forEach((s=>{s&&this.setAria("selected",!0,this._additionalView._getCellByDate(s))})))}_updateAriaId(e){var t;const{currentDate:n=new Date}=this.option(),s=e??n,o=`dx-${new $e}`,a=this._getActiveView(s)._getCellByDate(s);this.setAria("id",o,a),this.setAria("activedescendant",o),(t=this._onContouredChanged)===null||t===void 0||t.call(this,o)}_suppressingNavigation(e,t){this._suppressNavigation=!0,e.apply(this,t),delete this._suppressNavigation}_optionChanged(e){const{name:t,value:n,previousValue:s}=e;switch(t){case"width":super._optionChanged(e),this._clearViewWidthCache();break;case"min":case"max":{this.min=void 0,this.max=void 0;const{currentDate:o=new Date}=this.option();this._suppressingNavigation(this._updateCurrentDate,[o]),this._refreshViews(),this._renderNavigator();break}case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"selectWeekOnClick":case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"focusStateEnabled":case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":case"todayButtonText":this._invalidate();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(s)),this._updateCurrentDate(n);break;case"zoomLevel":this.$element().removeClass(`dx-calendar-view-${s}`),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId(),this._updateNavigatorLabels();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":{P.sameDatesArrays(n,s)||this._selectionStrategy.processValueChanged(n,s),this._setSubmitValue(n),super._optionChanged(e);break}case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",n);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"readOnly":super._optionChanged(e),this._updateAriaLabelAndRole();break;case"skipFocusCheck":break;default:super._optionChanged(e)}}getContouredDate(){const{contouredDate:e}=this._view.option();return e}}ve("dxCalendar",ev);class _a extends ee.inherit({}){ctor(e){this.dateBox=e}widgetOption(e){var t;return(t=this._widget)===null||t===void 0?void 0:t.option.apply(this._widget,arguments)}_renderWidget(e){e=e||u("<div>"),this._widget=this._createWidget(e),this._widget.$element().appendTo(this._getWidgetContainer())}_createWidget(e){const t=this._getWidgetName(),n=this._getWidgetOptions();return this.dateBox._createComponent(e,t,n)}_getWidgetOptions(){ee.abstract()}_getWidgetName(){ee.abstract()}getDefaultOptions(){return{mode:"text"}}getDisplayFormat(e){ee.abstract()}supportedKeys(){}getKeyboardListener(){}customizeButtons(){}getParsedText(e,t){return ie.parse(e,t)||ie.parse(e)}renderInputMinMax(){}renderOpenedState(){this._updateValue()}popupConfig(e){ee.abstract()}_dimensionChanged(){var e;(e=this._getPopup())===null||e===void 0||e.repaint()}renderPopupContent(){const e=this._getPopup();this._renderWidget();const t=e.$content().parent();_.off(t,"mousedown"),_.on(t,"mousedown",this._preventFocusOnPopup.bind(this))}_preventFocusOnPopup(e){e.preventDefault()}_getWidgetContainer(){return this._getPopup().$content()}_getPopup(){return this.dateBox._popup}popupShowingHandler(){}popupHiddenHandler(){}_updateValue(e){var t;(t=this._widget)===null||t===void 0||t.option("value",this.dateBoxValue())}useCurrentDateByDefault(){}getDefaultDate(){return new Date}textChangedHandler(){}renderValue(){this.dateBox.option("opened")&&this._updateValue()}getValue(){return this._widget.option("value")}isAdaptivityChanged(){return!1}dispose(){const e=this._getPopup();e&&e.$content().empty()}dateBoxValue(e,t){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}class tv extends _a{ctor(e){super.ctor(e),this.NAME="Calendar"}getDefaultOptions(){return C({},super.getDefaultOptions(),{todayButtonText:this.dateBox.option("todayButtonText")??F.format("dxCalendar-todayButtonText")})}supportedKeys(){const e=function(t){return this.option("opened")?(t.preventDefault(),!0):!1};return{rightArrow(){if(this.option("opened"))return!0},leftArrow(){if(this.option("opened"))return!0},enter:(function(t){if(this.dateBox.option("opened")){if(t.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){const n=this._getContouredValue(),s=this._lastActionElement,o=this._closeDropDownByEnter();return o&&n&&s==="calendar"&&this.dateBoxValue(n,t),o&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(t),!o}return!0}this.dateBox._valueChangeEventHandler(t)}).bind(this),home:e,end:e}}getDisplayFormat(e){return e||"shortdate"}_closeDropDownByEnter(){return!0}_getWidgetName(){return ev}_getContouredValue(){return this._widget._view.option("contouredDate")}getKeyboardListener(){return this._widget}_getWidgetOptions(){const{disabledDates:e,min:t,max:n,todayButtonText:s}=this.dateBox.option();return I(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,selectionMode:"single",dateSerializationFormat:null,min:t,max:n,onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),disabledDates:L(e)?this._injectComponent(e.bind(this.dateBox)):e,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0,todayButtonText:s})}_injectComponent(e){const t=this;return function(n){return I(n,{component:t.dateBox}),e(n)}}_refreshActiveDescendant(e){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",e.actionValue)}_getTodayButtonConfig(){const e=this.dateBox.option("buttonsLocation"),n=e==="default"?["bottom","center"]:zn(e),s=wt()?"text":"outlined";return{widget:"dxButton",toolbar:n[0],location:n[1]==="after"?"before":n[1],options:{onClick:o=>{this._widget._toTodayView(o)},text:this.dateBox.option("todayButtonText"),elementAttr:{class:"dx-button-today"},stylingMode:s}}}_isCalendarVisible(){const{calendarOptions:e}=this.dateBox.option();return Jt(e)||e.visible!==!1}_getPopupToolbarItems(e){return this.dateBox.option("applyValueMode")==="useButtons"&&this._isCalendarVisible()?[this._getTodayButtonConfig(),...e]:e}popupConfig(e){return I(!0,e,{position:{collision:"flipfit flip"},width:"auto"})}_valueChangedHandler(e){const{value:t}=e,n=e.previousValue;P.sameDate(t,n)&&P.sameHoursAndMinutes(t,n)||this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue(),e.event)}_updateValue(e){this._widget&&this._widget.option("value",this.dateBoxValue())}textChangedHandler(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)}_cellClickHandler(e){const{dateBox:t}=this;t.option("applyValueMode")==="instantly"&&(t.option("opened",!1),this.dateBoxValue(this.getValue(),e.event))}}const Jk={row:"minWidth",col:"minHeight"},Qk={row:"maxWidth",col:"maxHeight"},iv={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},nv={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},eM={row:"row",col:"column"},ms=(i,e,t)=>{const n=Bs(e,t);if(i.style[hn(e)]=n,!te()){if(n===""||!y(n))return;const o=`${th(e)}: ${n};`;nh(i,o,!1)}};class tM extends En{_renderVisible(e,t){super._renderVisible(e),y(t)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:t})}}class iM{constructor(e,t){this._$element=e,this._option=t}renderBox(){this._$element.css({display:`${Jo("flexDirection")}flex`});const e=this._option("direction")??"row";ms(this._$element.get(0),"flexDirection",eM[e])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){const e=this._option("align")??"start";return e in iv?iv[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){const e=this._option("crossAlign")??"start";return e in nv?nv[e]:e}renderItems(e){const t=Jo("flexDirection"),n=this._option("direction")??"row";S(e,(function(){const s=u(this),o=s.data("dxBoxItemData");s.css({display:`${t}flex`}).css(Qk[n],o.maxSize??"none").css(Jk[n],o.minSize??"0"),ms(s.get(0),"flexBasis",o.baseSize??0),ms(s.get(0),"flexGrow",o.ratio??0),ms(s.get(0),"flexShrink",y(o.shrink)?o.shrink:1),s.children().each(((r,a)=>(u(a).css({width:"auto",height:"auto",display:`${Jo("flexDirection")}flex`,flexBasis:0}),ms(a,"flexGrow",1),ms(a,"flexDirection",u(a)[0].style.flexDirection??"column"),!0)))}))}}class Qi extends Ni{_getDefaultOptions(){return C({},super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1})}_itemClass(){return"dx-box-item"}_itemDataKey(){return"dxBoxItemData"}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("dx-box-flex"),this._initLayout(),this._initializeRenderQueue()}_initLayout(){this._layout=new iM(this.$element(),(e=>this.option(e)))}_initializeRenderQueue(){const{_queue:e}=this.option();this._queue=e??[]}_queueIsNotEmpty(){return this.option("_queue")?!1:!!this._queue.length}_pushItemToQueue(e,t){this._queue.push({$item:e,config:t})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass("dx-box"),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(e){super._renderItems(e),this._processRenderQueue(),this._layout.renderItems(this._itemElements())}_processRenderQueue(){if(this._queueIsNotEmpty()){const e=this._shiftItemFromQueue(),{itemTemplate:t,itemHoldTimeout:n,onItemHold:s,onItemClick:o,onItemContextMenu:r,onItemRendered:a}=this.option();e&&this._createComponent(e.$item,Qi,C({itemTemplate:t,itemHoldTimeout:n,onItemHold:s,onItemClick:o,onItemContextMenu:r,onItemRendered:a,_queue:this._queue},e.config)),this._processRenderQueue()}}_renderItemContent(e){var t;const n=(t=e.itemData)===null||t===void 0?void 0:t.node;return n?this._renderItemContentByNode(e,n):super._renderItemContent(e)}_postprocessRenderItem(e){var t;const n=(t=e.itemData)===null||t===void 0?void 0:t.box;n&&this._pushItemToQueue(e.itemContent,n)}_createItemByTemplate(e,t){const{itemData:n}=t;return n.box?e.source?e.source():u():super._createItemByTemplate(e,t)}_itemOptionChanged(e,t,n,s){t==="visible"&&this._onItemStateChanged({name:t,state:n,oldState:s!==!1}),super._itemOptionChanged(e,t,n,s)}_optionChanged(e){const{name:t}=e;switch(t){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(e)}}_itemOptions(){const e=super._itemOptions();return e.fireItemStateChangedAction=t=>{this._onItemStateChanged(t)},e}}Qi.ItemClass=tM,ve("dxBox",Qi);const wd="dxListEditDecorator",nM=k(qg,wd),sM=k(Yg,wd),oM=k(Sd,wd);class rM{constructor(e){this._itemWidthCache=0,this._list=e,this._init()}_shouldHandleSwipe(){return!1}_init(){}_attachSwipeEvent(e){const t={itemSizeFunc:()=>(this._clearSwipeCache&&(this._itemWidthCache=me(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache)};_.on(e.$itemElement,nM,t,(n=>{this._itemSwipeStartHandler(n)})),_.on(e.$itemElement,sM,(n=>{this._itemSwipeUpdateHandler(n)})),_.on(e.$itemElement,oM,(n=>{this._itemSwipeEndHandler(n)}))}_itemSwipeStartHandler(e){const t=u(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(t)}_itemSwipeUpdateHandler(e){const t=e.currentTarget;if(t instanceof Element){const n=u(t);this._swipeUpdateHandler(n,e)}}_itemSwipeEndHandler(e){const t=e.currentTarget;if(t instanceof Element){const n=u(t);this._swipeEndHandler(n,e)}}beforeBag(e){}afterBag(e){}_commonOptions(){const{activeStateEnabled:e,hoverStateEnabled:t,focusStateEnabled:n}=this._list.option();return{activeStateEnabled:e,hoverStateEnabled:t,focusStateEnabled:n}}modifyElement(e){this._shouldHandleSwipe()&&(this._attachSwipeEvent(e),this._clearSwipeCache=!0)}afterRender(){}handleClick(e,t){}handleKeyboardEvents(e,t){}handleEnterPressing(e){}handleContextMenu(e){}_swipeStartHandler(e){}_swipeUpdateHandler(e,t){}_swipeEndHandler(e,t){}visibilityChange(){}getExcludedSelectors(){}dispose(){}}const ga={};function aM(i,e,t){ga[i]||(ga[i]={}),ga[i][e]=t}class sv extends Xi{_supportedKeys(){return C({},super._supportedKeys(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})}_getDefaultOptions(){return C({},super._getDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})}_canValueBeChangedByClick(){return!0}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}}])}_init(){super._init(),this.$element().addClass("dx-radiobutton")}_initMarkup(){super._initMarkup(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")}_renderIcon(){this._$icon=u("<div>").addClass("dx-radiobutton-icon"),u("<div>").addClass("dx-radiobutton-icon-dot").appendTo(this._$icon),this.$element().append(this._$icon)}_renderCheckedState(e){this.$element().toggleClass("dx-radiobutton-checked",e).find(".dx-radiobutton-icon").toggleClass("dx-radiobutton-icon-checked",e),this.setAria("checked",e)}_renderClick(){const e=k(ft,this.NAME);this._clickAction=this._createAction((t=>{this._clickHandler(t.event)})),_.off(this.$element(),e),_.on(this.$element(),e,(t=>{var n;(n=this._clickAction)===null||n===void 0||n.call(this,{event:t})}))}_clickHandler(e){this._saveValueChangeEvent(e),this.option("value",!0),this._saveValueChangeEvent(void 0)}_optionChanged(e){const{name:t,value:n}=e;t==="value"?(this._renderCheckedState(n),super._optionChanged(e)):super._optionChanged(e)}}ve("dxRadioButton",sv);const ov="dx-list-select-decorator-enabled",lM="dx-list-select-checkbox-container",cM="dx-list-select-checkbox",dM="dx-list-select-radiobutton-container",uM="dx-list-select-radiobutton",rv=k(ft,"dxListEditDecorator");class hM extends rM{_init(){super._init();const{selectionMode:e}=this._list.option();this._singleStrategy=e==="single",this._containerClass=this._singleStrategy?dM:lM,this._controlClass=this._singleStrategy?uM:cM,this._controlWidget=this._singleStrategy?sv:ua,this._list.$element().addClass(ov)}beforeBag(e){const{$itemElement:t}=e,n=e.$container.addClass(this._containerClass),s=u("<div>").addClass(this._controlClass).appendTo(n);new this._controlWidget(s.get(0),C({},this._commonOptions(),{value:this._isSelected(t.get(0)),elementAttr:{"aria-label":F.format("CheckState")},focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:o=>{const{value:r,component:a,event:l}=o;!!l&&(a._valueChangeEventInstance=void 0,a.option("value",!r))}}))}modifyElement(e){super.modifyElement(e);const{$itemElement:t}=e,n=this._controlWidget.getInstance(t.find(`.${this._controlClass}`).get(0));_.on(t,"stateChanged",((s,o)=>{n.option("value",o)}))}_updateSelectAllState(){var e;this._$selectAll&&((e=this._selectAllCheckBox)===null||e===void 0||e.option("value",this._list.isSelectAll()))}afterRender(){const{selectionMode:e}=this._list.option();e==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())}handleKeyboardEvents(e,t){const n=!t,s=this._list,o=this._$selectAll,r=s._getLastItemIndex();if(!!o&&(t&&e===0||n&&e===r)){s.option("focusedElement",ae(o));const{focusedElement:c}=s.option();return c&&s.scrollToItem(c),!0}return!1}handleEnterPressing(e){var t;return(t=this._$selectAll)!==null&&t!==void 0&&t.hasClass("dx-state-focused")?(e.target=this._$selectAll.get(0),this._selectAllHandler(e),!0):!1}_renderSelectAll(){this._$selectAll=u("<div>").addClass("dx-list-select-all");const e=this._list._supportedKeys().downArrow.bind(this._list),t=u("<div>").addClass("dx-list-select-all-checkbox").appendTo(this._$selectAll);this._selectAllCheckBox=this._list._createComponent(t,ua,{elementAttr:{"aria-label":F.format("dxList-selectAll")},focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",e);const{selectAllText:n=""}=this._list.option();u("<div>").addClass("dx-list-select-all-label").text(n).appendTo(this._$selectAll),this._list.itemsContainer().prepend(this._$selectAll),this._updateSelectAllState(),this._updateSelectAllAriaLabel(),this._attachSelectAllHandler()}_attachSelectAllHandler(){var e;(e=this._selectAllCheckBox)===null||e===void 0||e.option("onValueChanged",(t=>{const{value:n,component:s,event:o}=t;if(!!o){s._setOptionWithoutOptionChange("value",!n);return}this._updateSelectAllAriaLabel(),this._list._createActionByOption("onSelectAllValueChanged")({value:n})})),_.off(this._$selectAll,rv),_.on(this._$selectAll,rv,(t=>{this._selectAllHandler(t)}))}_updateSelectAllAriaLabel(){var e;if(!this._$selectAll)return;const{value:t}=((e=this._selectAllCheckBox)===null||e===void 0?void 0:e.option())??{},o=t===void 0?"indeterminate":t?"checked":"notChecked",r=`${F.format("dxList-selectAll")}, ${F.format(`dxList-selectAll-${o}`)}`;this._$selectAll.attr({"aria-label":r})}_selectAllHandler(e){var t;e.stopPropagation(),this._list._saveSelectionChangeEvent(e);const{value:n}=((t=this._selectAllCheckBox)===null||t===void 0?void 0:t.option())??{},s=n?this._unselectAllItems():this._selectAllItems();return this._list.option("focusedElement",ae(u(this._$selectAll))),s}_checkSelectAllCapability(){const e=this._list,t=e._dataController,{selectAllMode:n,grouped:s}=e.option();return n==="allPages"&&s&&!t.group()?(Ne.log("W1010"),!1):!0}_selectAllItems(){if(!this._checkSelectAllCapability())return A().resolve();const{selectAllMode:e}=this._list.option();return this._list._selection.selectAll(e==="page")}_unselectAllItems(){if(!this._checkSelectAllCapability())return A().resolve();const{selectAllMode:e}=this._list.option();return this._list._selection.deselectAll(e==="page")}_isSelected(e){return this._list.isItemSelected(e)}dispose(){this._disposeSelectAll(),this._list.$element().removeClass(ov),super.dispose()}_disposeSelectAll(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}aM("selection","default",hM);const av=I({},Ym,{_dataExpressionDefaultOptions:()=>({items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}),_initDataExpressions(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource(){this.option("dataSource")||(this._dataSource=new or({store:new El(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter(){this._displayGetter=et(this._displayGetterExpr())},_displayGetterExpr(){return this.option("displayExpr")},_compileValueGetter(){this._valueGetter=et(this._valueGetterExpr())},_valueGetterExpr(){return this.option("valueExpr")||"this"},_loadValue(i){const e=A();return i=this._unwrappedValue(i),y(i)?(this._loadSingle(this._valueGetterExpr(),i).done((t=>{this._isValueEquals(this._valueGetter(t),i)?e.resolve(t):e.reject()})).fail((()=>{e.reject()})),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading(){var i;(i=this._loadValueDeferred)===null||i===void 0||i.reject({shouldSkipCallback:!0})},_getCurrentValue(){return this.option("value")},_unwrappedValue(i){return i=i??this._getCurrentValue(),i&&this._dataSource&&this._valueGetterExpr()==="this"&&(i=this._getItemKey(i)),vt.unwrap(i)},_getItemKey(i){const e=this._dataSource.key();if(Array.isArray(e)){const t={};for(let n=0,s=e.length;n<s;n++)t[e[n]]=i[e[n]];return t}return e&&typeof i=="object"&&(i=i[e]),i},_isValueEquals(i,e){const t=this._dataSource&&this._dataSource.key();let n=this._compareValues(i,e);return!n&&t&&y(i)&&y(e)&&(Array.isArray(t)?n=this._compareByCompositeKey(i,e,t):n=this._compareByKey(i,e,t)),n},_compareByCompositeKey(i,e,t){const n=X;if(!n(i)||!n(e))return!1;for(let s=0,o=t.length;s<o;s++)if(i[t[s]]!==e[t[s]])return!1;return!0},_compareByKey(i,e,t){const n=vt.unwrap,s=Be(n(i[t]),i),o=Be(n(e[t]),e);return this._compareValues(s,o)},_compareValues:(i,e)=>hi(i,!0)===hi(e,!0),_initDynamicTemplates:M,_setCollectionWidgetItemTemplate(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr(){const i=this.option("valueExpr");return le(i)&&i!=="this"||L(i)?i:null},_dataExpressionOptionChanged(i){switch(i.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),Ao=we();class pM{constructor(e,t){this._store=e,this._dirty=!!t.data;const{name:n}=t;if(!n)throw De.Error("E4013");this._key=`dx-data-localStore-${n}`,this.save();const s=this._immediate=t.immediate,o=Math.max(100,t.flushInterval||1e4);if(!s){const r=this.save.bind(this);setInterval(r,o),_.on(Ao,"beforeunload",r),Ao.cordova&&D.listen(D.getDocument(),"pause",r,!1)}}notifyChanged(){this._dirty=!0,this._immediate&&this.save()}load(){this._store._array=this._loadImpl(),this._dirty=!1}save(){this._dirty&&(this._saveImpl(this._store._array),this._dirty=!1)}_loadImpl(){const e=Ao.localStorage.getItem(this._key);return e?JSON.parse(e):[]}_saveImpl(e){e.length?Ao.localStorage.setItem(this._key,JSON.stringify(e)):Ao.localStorage.removeItem(this._key)}}class mM extends El{constructor(e){typeof e=="string"?e={name:e}:e=e||{},super(e),this._array=e.data||[],this._backend=new pM(this,e),this._backend.load()}_clearCache(){this._backend.load()}clear(){super.clear(),this._backend.notifyChanged()}_insertImpl(e){const t=this._backend;return super._insertImpl(e).done(t.notifyChanged.bind(t))}_updateImpl(e,t){const n=this._backend;return super._updateImpl(e,t).done(n.notifyChanged.bind(n))}_removeImpl(e){const t=this._backend;return super._removeImpl(e).done(t.notifyChanged.bind(t))}}Kt.registerClass(mM,"local");const fM=/^(\{{0,1}([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12}\}{0,1})$/,_M=/^\/Date\((-?\d+)((\+|-)?(\d+)?)\)\/$/,gM=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[-+]{1}\d{2}(:?)(\d{2})?)?$/,lv="application/json;odata=verbose",va=i=>gt(i)==="string"?i.split():i,cv=i=>/\./.test(i),Dd=(i,e,t)=>{for(i=String(i);i.length<e;)i=t?`${i}0`:`0${i}`;return i},Td=(i,e,t)=>{const n=[],s=o=>Dd(o,2);return n.push(i.getFullYear()),n.push("-"),n.push(s(i.getMonth()+1)),n.push("-"),n.push(s(i.getDate())),e&&i.getHours()+i.getMinutes()+i.getSeconds()+i.getMilliseconds()<1||(n.push("T"),n.push(s(i.getHours())),n.push(":"),n.push(s(i.getMinutes())),n.push(":"),n.push(s(i.getSeconds())),i.getMilliseconds()&&(n.push("."),n.push(Dd(i.getMilliseconds(),3))),t||n.push("Z")),n.join("")},vM=i=>{const e=new Date(60*new Date(0).getTimezoneOffset()*1e3),t=i.replace("Z","").split("T"),n=/(\d{4})-(\d{2})-(\d{2})/.exec(t[0]),s=/(\d{2}):(\d{2}):(\d{2})\.?(\d{0,7})?/.exec(t[1]);if(e.setFullYear(Number(n[1])),e.setMonth(Number(n[2])-1),e.setDate(Number(n[3])),Array.isArray(s)&&s.length){e.setHours(Number(s[1])),e.setMinutes(Number(s[2])),e.setSeconds(Number(s[3]));let o=(s[4]||"").slice(0,3);o=Dd(o,3,!0),e.setMilliseconds(Number(o))}return e},xM=i=>/^(?:[a-z]+:)?\/{2,2}/i.test(i),yM=i=>{const e=i.indexOf("?");return e>-1?i.substr(0,e):i},CM=(i,e)=>{let t;const n=yM(i).split("/"),s=e.split("/");for(n.pop();s.length;)t=s.shift(),t===".."?n.pop():n.push(t);return n.join("/")},bM=i=>{const e=[];for(const t in i)e.push(`${t}=${i[t]}`);return e.join("&")},SM=function(i,e){var t;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e=I({async:!0,method:"get",url:"",params:{},payload:null,headers:{},timeout:3e4},e),(t=n.beforeSend)===null||t===void 0||t.call(n,e);const{async:s,timeout:o,headers:r}=e;let{url:a,method:l}=e;const{jsonp:c,withCredentials:d}=n;l=(l||"get").toLowerCase();const h=l==="get",p=h&&c,m=I({},e.params),g=h?m:(f=e.payload,JSON.stringify(f,(function(w,T){if(!(this[w]instanceof Date))return T;switch(T=Td(this[w]),i){case 2:return T.substr(0,T.length-1);case 3:case 4:return T;default:throw De.Error("E4002")}})));var f;const v=!h&&bM(m),b=!h&&lv;return v&&(a+=(a.indexOf("?")>-1?"&":"?")+v),p&&(g.$format="json"),{url:a,data:g,dataType:p?"jsonp":"json",jsonp:p&&"$callback",method:l,async:s,timeout:o,headers:r,contentType:b,accepts:{json:[lv,"text/plain"].join()},xhrFields:{withCredentials:d}}},Ad=(i,e,t)=>{const{deserializeDates:n,fieldTypes:s,countOnly:o,isPaged:r}=t,a=new A,l=SM(i,e,t);return Lh.sendRequest(l).always(((c,d)=>{const p=wM(c,d,{deserializeDates:n,fieldTypes:s},l),{error:m,data:g,count:f}=p;let{nextUrl:v}=p;if(m)m.message!==ul&&a.reject(m);else if(o)isFinite(f)?a.resolve(f):a.reject(De.Error("E4018"));else if(v&&!r)xM(v)||(v=CM(l.url,v)),Ad(i,{url:v},t).fail(a.reject).done((b=>a.resolve(g.concat(b))));else{const b=isFinite(f)?{totalCount:f}:void 0;a.resolve(g,b)}})),a.promise()},EM=i=>{let e,t,n=i;if("message"in i){var s;e=((s=i.message)===null||s===void 0?void 0:s.value)||i.message}for(;(n=n.innererror||n.internalexception)&&(t=n.message,e=t??e,!(n.internalexception&&e.indexOf("inner exception")===-1)););return e},IM=(i,e,t)=>{var n,s,o,r;if(e==="nocontent")return null;let a="Unknown error",l=i,c=200;const d={requestOptions:t};if(e!=="success"){const{status:p,responseText:m}=i;c=p,a=hh(i,e);try{l=JSON.parse(m)}catch{}}const h=((n=l)===null||n===void 0?void 0:n.then)||((s=l)===null||s===void 0?void 0:s.error)||((o=l)===null||o===void 0?void 0:o["odata.error"])||((r=l)===null||r===void 0?void 0:r["@odata.error"]);if(h){a=EM(h)||a,d.errorDetails=h,c===200&&(c=500);const p=Number(h.code);isFinite(p)&&p>=400&&(c=p)}return c>=400||c===0?(d.httpStatus=c,I(Error(a),d)):null},wM=(i,e,t,n)=>{const s=IM(i,e,n);if(s)return{error:s};if(!J(i))return{data:i};const o="d"in i&&(Array.isArray(i.d)||X(i.d))?DM(i):TM(i);return dv(o,t),o},DM=i=>{let{d:e}=i;return y(e)?{data:e.results??e,nextUrl:e.__next,count:parseInt(e.__count,10)}:{error:Error("Malformed or unsupported JSON response received")}},TM=i=>({data:i.value??i,nextUrl:i["@odata.nextLink"],count:parseInt(i["@odata.count"],10)}),en=ee.inherit({ctor(i){this._value=i},valueOf(){return this._value}}),dv=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S(i,((t,n)=>{if(n!==null&&typeof n=="object")"results"in n&&(i[t]=n.results),dv(i[t],e);else if(typeof n=="string"){const{fieldTypes:s,deserializeDates:o}=e;if((!s||s[t]!=="String")&&fM.test(n)&&(i[t]=new $e(n)),o!==!1)if(_M.exec(n)){const a=new Date(Number(RegExp.$1)+60*RegExp.$2*1e3);i[t]=new Date(a.valueOf()+60*a.getTimezoneOffset()*1e3)}else gM.test(n)&&(i[t]=new Date(vM(i[t]).valueOf()))}}))},AM=i=>`datetime'${Td(i,!0,!0)}'`,OM=i=>`'${i.replace(/'/g,"''")}'`,tn=i=>i instanceof en?i.valueOf():i.replace(/\./g,"/"),uv=i=>i instanceof Date?Td(i,!1,!1):i instanceof $e?i.valueOf():Array.isArray(i)?`[${i.map((e=>uv(e))).join(",")}]`:hv(i),hv=i=>i instanceof Date?AM(i):i instanceof $e?`guid'${i}'`:i instanceof en?i.valueOf():typeof i=="string"?OM(i):String(i),xa=(i,e)=>{switch(e){case 2:case 3:return hv(i);case 4:return uv(i);default:throw De.Error("E4002")}},kM=(i,e)=>{if(J(i)){const t=[];return S(i,((n,s)=>t.push(`${tn(n)}=${xa(s,e)}`))),t.join()}return xa(i,e)},MM={String:i=>`${i}`,Int32:i=>Math.floor(i),Int64:i=>i instanceof en?i:new en(`${i}L`),Guid:i=>i instanceof $e?i:new $e(i),Boolean:i=>!!i,Single:i=>i instanceof en?i:new en(`${i}f`),Decimal:i=>i instanceof en?i:new en(`${i}m`)},Od=(i,e)=>{if(e===null)return null;const t=MM[i];if(!t)throw De.Error("E4014",i);return t(e)},pv=(i,e)=>{if(e)return i<4?tn(e.join()):St(e,cv,!0).join()},mv=i=>{let e="";const t=[],n=[];return S(i,((s,o)=>{Array.isArray(o)&&[].push.apply(t,o),J(o)&&n.push(`${s}${mv(o)}`)})),(t.length||n.length)&&(e+="(",t.length&&(e+=`$select=${qe(t,tn).join()}`),n.length&&(t.length&&(e+=";"),e+=`$expand=${qe(n,tn).join()}`),e+=")"),e},RM=i=>{const e=[];return S(i,((t,n)=>e.push(`${t}${mv(n)}`))),e.join()},fv=(i,e,t)=>{const n=t(e,i.shift(),i);n!==!1&&fv(i,n,t)},_v=(i,e,t)=>S(i,((n,s)=>fv(s.split("."),e,t))),PM=(i,e)=>{const t={};return i&&S(va(i),(function(){t[tn(this)]=1})),e&&S(va(e),(function(){const n=this.split(".");n.length<2||(n.pop(),t[tn(n.join("."))]=1)})),qe(t,((n,s)=>s)).join()},$M=(i,e)=>{const t={};if(i||e)return i&&_v(va(i),t,((n,s,o)=>(n[s]=n[s]||{},o.length?n[s]:!1))),e&&_v(St(va(e),cv),t,((n,s,o)=>o.length?n[s]=n[s]||{}:(n[s]=n[s]||[],n[s].push(s),!1))),RM(t)},gv=(i,e,t)=>i<4?PM(e,t):$M(e,t),vv=(i,e)=>Ln("{0}({1})",i,qe(e||{},((t,n)=>Ln("{0}={1}",n,t))).join(",")),kd=(i,e)=>{if(!i)return i;const t={};return S(i,((n,s)=>{t[n]=xa(s,e)})),t},BM=["contains","notcontains","startswith","endswith"],VM=(()=>{let i,e,t;const n=h=>(p,m)=>`${p} ${h} ${m}`,s=(h,p)=>(m,g)=>{const f=[h,"("];return e&&(m=m.indexOf("tolower(")===-1?`tolower(${m})`:m,g=g.toLowerCase()),p?f.push(g,",",m):f.push(m,",",g),f.push(")"),f.join("")},o={"=":n("eq"),"<>":n("ne"),">":n("gt"),">=":n("ge"),"<":n("lt"),"<=":n("le"),startswith:s("startswith"),endswith:s("endswith")},r=I({},o,{contains:s("substringof",!0),notcontains:s("not substringof",!0)}),a=I({},o,{contains:s("contains"),notcontains:s("not contains")}),l=h=>{var p;h=uh(h);const m=h[1],g=h[0],f=t&&t[g];if(f&&(v=m,BM.some((H=>H===v)))&&f!=="String")throw new De.Error("E4024",m,g,f);var v;const w=(i===4?a:r)[m.toLowerCase()];if(!w)throw De.Error("E4003",m);let T=h[2];return(p=t)!==null&&p!==void 0&&p[g]&&(T=Od(t[g],T)),w(tn(g),xa(T,i))},c=h=>{const p=[];let m,g;return S(h,(function(f,v){if(Array.isArray(v)){if(p.length>1&&m!==g)throw new De.Error("E4019");p.push(`(${d(v)})`),m=g,g="and"}else g=ph(this)?"and":"or"})),p.join(` ${m} `)},d=h=>Array.isArray(h[0])?c(h):mh(h)?(p=>{const m=p[0],g=d(p[1]);if(m==="!")return`not (${g})`;throw De.Error("E4003",m)})(h):l(h);return(h,p,m,g)=>(t=m,e=g??ce().oDataFilterToLower,i=p,d(h))})(),LM=i=>{let e=[];const t=[],n=i.expand;let s,o,r,a;const l=i.version||4,c=()=>o||r!==void 0,d=p=>{for(let m=0;m<p.length;m++)if(L(p[m])||Array.isArray(p[m])&&d(p[m]))return!0;return!1},h=()=>{const p={};if(a||(e.length&&(p.$orderby=e.join(",")),o&&(p.$skip=o),r!==void 0&&(p.$top=r),p.$select=pv(l,s)||void 0,p.$expand=gv(l,n,s)||void 0),t.length){const m=t.length<2?t[0]:t,g=i?.fieldTypes,f=i?.filterToLower;p.$filter=VM(m,l,g,f)}return a&&(p.$top=0),(i.requireTotalCount||a)&&(l!==4?p.$inlinecount="allpages":p.$count="true"),p};return{optimize:p=>{let m=-1;for(let f=0;f<p.length;f++)if(p[f].name==="select"){m=f;break}if(m<0||!L(p[m].args[0]))return;const g=p[1+m];!g||g.name!=="slice"||(p[1+m]=p[m],p[m]=g)},exec:p=>Ad(l,{url:p,params:I(h(),i?.params)},{beforeSend:i.beforeSend,jsonp:i.jsonp,withCredentials:i.withCredentials,countOnly:a,deserializeDates:i.deserializeDates,fieldTypes:i.fieldTypes,isPaged:isFinite(r)}),multiSort(p){let m;if(c())return!1;for(let g=0;g<p.length;g++){const f=p[g][0],v=!!p[g][1];let b;if(typeof f!="string")return!1;b=tn(f),v&&(b+=" desc"),m=m||[],m.push(b)}e=m},slice(p,m){if(c())return!1;o=p,r=m},filter(p){if(c()||(Array.isArray(p)||(p=[].slice.call(arguments)),d(p)))return!1;t.length&&t.push("and"),t.push(p)},select(p){if(s||L(p))return!1;Array.isArray(p)||(p=[].slice.call(arguments)),s=p},count:()=>a=!0}};kh.odata=LM;class xv{constructor(e){e=e||{},this._url=String(e.url).replace(/\/+$/,""),this._beforeSend=e.beforeSend,this._jsonp=e.jsonp,this._version=e.version||4,this._withCredentials=e.withCredentials,this._deserializeDates=e.deserializeDates,this._filterToLower=e.filterToLower}sendRequest(e,t,n,s){return Ad(this.version,{url:e,method:t,params:n||{},payload:s},{beforeSend:this._beforeSend,jsonp:this._jsonp,withCredentials:this._withCredentials,deserializeDates:this._deserializeDates})}get version(){return this._version}get beforeSend(){return this._beforeSend}get url(){return this._url}get jsonp(){return this._jsonp}get filterToLower(){return this._filterToLower}}const FM="5d46402c-7899-4ea9-bd81-8b73c47c7683",HM=(i,e)=>({[i]:e}),NM=(i,e)=>{const t={};for(const n in i)t[n]=i[n];for(const n in e)n in t?t[n]!==e[n]&&De.log("W4001",n):t[n]=e[n];return t},WM=Kt.inherit({ctor(i){this.callBase(i),this._requestDispatcher=new xv(i);let e=this.key(),{fieldTypes:t}=i,{keyType:n}=i;if(n){const s=typeof n=="string";e||(e=s?FM:Object.keys(n),this._legacyAnonymousKey=e),s&&(n=HM(e,n)),t=NM(t,n)}this._fieldTypes=t||{},this.version()===2?this._updateMethod="MERGE":this._updateMethod="PATCH"},_customLoadOptions:()=>["expand","customQueryParams"],_byKeyImpl(i,e){const t={};return e&&(t.$expand=gv(this.version(),e.expand,e.select)||void 0,t.$select=pv(this.version(),e.select)||void 0),this._requestDispatcher.sendRequest(this._byKeyUrl(i),"GET",t)},createQuery(i){let e;const t={adapter:"odata",beforeSend:this._requestDispatcher.beforeSend,errorHandler:this._errorHandler,jsonp:this._requestDispatcher.jsonp,version:this._requestDispatcher.version,withCredentials:this._requestDispatcher._withCredentials,expand:i?.expand,requireTotalCount:i?.requireTotalCount,deserializeDates:this._requestDispatcher._deserializeDates,fieldTypes:this._fieldTypes};if(e=i?.urlOverride??this._requestDispatcher.url,y(this._requestDispatcher.filterToLower)&&(t.filterToLower=this._requestDispatcher.filterToLower),i!=null&&i.customQueryParams){const n=kd(i?.customQueryParams,this.version());this.version()===4?e=vv(e,n):t.params=n}return Vi(e,t)},_insertImpl(i){this._requireKey();const e=new A;return Ie(this._requestDispatcher.sendRequest(this._requestDispatcher.url,"POST",null,i)).done((t=>e.resolve(t&&!ce().useLegacyStoreResult?t:i,this.keyOf(t)))).fail(e.reject),e.promise()},_updateImpl(i,e){const t=new A;return Ie(this._requestDispatcher.sendRequest(this._byKeyUrl(i),this._updateMethod,null,e)).done((n=>ce().useLegacyStoreResult?t.resolve(i,e):t.resolve(n||e,i))).fail(t.reject),t.promise()},_removeImpl(i){const e=new A;return Ie(this._requestDispatcher.sendRequest(this._byKeyUrl(i),"DELETE")).done((()=>e.resolve(i))).fail(e.reject),e.promise()},_convertKey(i){let e=i;const t=this._fieldTypes,n=this.key()||this._legacyAnonymousKey;if(Array.isArray(n)){e={};for(let s=0;s<n.length;s++){const o=n[s];e[o]=Od(t[o],i[o])}}else t[n]&&(e=Od(t[n],i));return e},_byKeyUrl(i){const e=this._requestDispatcher.url,t=this._convertKey(i);return`${e}(${encodeURIComponent(kM(t,this.version()))})`},version(){return this._requestDispatcher.version}},"odata");ee.inherit({ctor(i){this._requestDispatcher=new xv(i),this._errorHandler=i.errorHandler,S(i.entities||[],((e,t)=>{this[e]=new WM(I({},i,{url:`${this._requestDispatcher.url}/${encodeURIComponent(t.name||e)}`},t))}))},get(i,e){return this.invoke(i,e,"GET")},invoke(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"POST";t=t.toLowerCase();const n=new A;let s=`${this._requestDispatcher.url}/${encodeURIComponent(i)}`,o;return this.version()===4&&(t==="get"?(s=vv(s,kd(e,this.version())),e=null):t==="post"&&(o=e,e=null)),Ie(this._requestDispatcher.sendRequest(s,t,kd(e,this.version()),o)).done((r=>{J(r)&&i in r&&(r=r[i]),n.resolve(r)})).fail(this._errorHandler).fail(er).fail(n.reject),n.promise()},objectLink(i,e){const t=this[i];if(!t)throw De.Error("E4015",i);return y(e)?{__metadata:{uri:t._byKeyUrl(e)}}:null},version(){return this._requestDispatcher.version}});function yv(i){if(!Ry(i))return i;let e=!1;return{store:{type:"array",data:i.reduce(((n,s)=>{var o;const r=((o=s.items)===null||o===void 0?void 0:o.map((a=>{let l=a;X(l)||(l={text:l},e=!0);const c=l;return"key"in c||(c.key=s.key),c})))??[];return n.concat(r)}),[])},group:{selector:"key",keepInitialKeyOrder:!0},searchExpr:e?"text":void 0}}function zM(i){return class{constructor(){throw new Error(`Module '${i}' not found`)}static getInstance(){}}}const Cv=i=>i==="equals"?"=":i;class Oo{static setEditorClass(e){Oo.EditorClass=e}render(e,t,n,s){const o=`${e}-with-search`,r=`${e}-search`,{searchEnabled:a,onValueChanged:l}=n;if(this._onSearchBoxValueChanged=l,!a){t.removeClass(o),this.remove();return}if(this._editor)this.updateEditorOptions(n);else{const c=this._getEditorOptions(n);t.addClass(o);const d=u("<div>").addClass(r).prependTo(t);this._editor=s(d,Oo.EditorClass,c)}}updateEditorOptions(e){var t;const n=this._getEditorOptions(e);(t=this._editor)===null||t===void 0||t.option(n)}_getEditorOptions(e){const{tabIndex:t,searchValue:n,searchEditorOptions:s,searchTimeout:o}=e,r=F.format("Search");return C({mode:"search",placeholder:r,tabIndex:t,value:n,valueChangeEvent:"input",inputAttr:{"aria-label":r},onValueChanged:a=>{this._onValueChanged(a,o)}},s)}_onValueChanged(e){var t;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._valueChangeDeferred=A(),clearTimeout(this._valueChangeTimeout),this._valueChangeDeferred.done((()=>{var o;(o=this._onSearchBoxValueChanged)===null||o===void 0||o.call(this,e.value)})),((t=e.event)===null||t===void 0?void 0:t.type)==="input"&&n)this._valueChangeTimeout=setTimeout((()=>{var o;(o=this._valueChangeDeferred)===null||o===void 0||o.resolve()}),n);else{var s;(s=this._valueChangeDeferred)===null||s===void 0||s.resolve()}}resolveValueChange(){var e;(e=this._valueChangeDeferred)===null||e===void 0||e.resolve()}remove(){var e;(e=this._editor)===null||e===void 0||e.$element().remove(),this._editor=null}focus(){var e;(e=this._editor)===null||e===void 0||e.focus()}dispose(){this.remove()}}Oo.EditorClass=zM("TextBox");const bv="__dx_key__";class Md extends Sf{_getDefaultOptions(){return C({},super._getDefaultOptions(),{repaintChangesOnly:!1})}reload(){}_init(){super._init(),this._refreshItemsCache()}_findItemElementByKey(e){let t=u();const n=this.key();return this.itemElements().each(((s,o)=>{const r=u(o),a=this._getItemData(r);return(n?tr(n,this.keyOf(a),e):this._isItemEquals(a,e))?(t=r,!1):!0})),t}_dataSourceChangedHandler(e,t){t!=null&&t.changes?this._modifyByChanges(t.changes):(super._dataSourceChangedHandler(e,t),this._refreshItemsCache())}_isItemEquals(e,t){let n=e;e&&typeof e=="object"&&e.__dx_key__&&(n=e.data);try{return JSON.stringify(n)===JSON.stringify(t)}catch{return n===t}}_isItemStrictEquals(e,t){return this._isItemEquals(e,t)}_shouldAddNewGroup(e,t){let n=!1;const{grouped:s}=this.option();return s&&(e.length||(n=!0),S(e,((o,r)=>{r.type==="insert"&&(n=!0,S(t,((a,l)=>r.data.key!==void 0&&r.data.key===l.key?(n=!1,!1):!0)))}))),n}_partialRefresh(){const{repaintChangesOnly:e}=this.option();if(e){const t=s=>s&&s.__dx_key__!==void 0?s.__dx_key__:this.keyOf(s),n=pI({oldItems:this._itemsCache,newItems:this._editStrategy.itemsGetter(),getKey:t,isItemEquals:this._isItemStrictEquals.bind(this),detectReorders:!0});if(n&&this._itemsCache.length&&!this._shouldAddNewGroup(n,this._itemsCache))return this._modifyByChanges(n,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1}_refreshItemsCache(){const{repaintChangesOnly:e}=this.option();if(e){const t=this._editStrategy.itemsGetter();try{this._itemsCache=I(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map(((n,s)=>({[bv]:t[s],data:n}))))}catch{this._itemsCache=I([],t)}}}_updateByChange(e,t,n,s){if(s)this._renderItem(n.index,n.data,null,this._findItemElementByKey(n.key));else{const o=t[mn(e,t,n.key)];o&&ml(e,t,n.key,n.data).done((()=>{this._renderItem(t.indexOf(o),o,null,this._findItemElementByKey(n.key))}))}}_insertByChange(e,t,n,s){Ie(s??fl(e,t,n.data,n.index)).done((()=>{this._beforeItemElementInserted(n),this._renderItem(n.index??t.length,n.data),this._afterItemElementInserted()}))}_updateSelectionAfterRemoveByChange(e){const{selectedIndex:t,selectedItems:n=[]}=this.option(),s=t;s>e?this.option("selectedIndex",s-1):s===e&&n.length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()}_beforeItemElementInserted(e){const{selectedIndex:t}=this.option(),n=t;e.index<=n&&this.option("selectedIndex",n+1)}_afterItemElementInserted(){this._renderEmptyMessage()}_removeByChange(e,t,n,s){const o=s?n.index:mn(e,t,n.key);if(s?n.oldItem:t[o]){const a=this._findItemElementByKey(n.key),l=this._extendActionArgs(a);this._waitDeletingPrepare(a).done((()=>{s?(this._updateIndicesAfterIndex(o-1),this._afterItemElementDeleted(a,l),this._updateSelectionAfterRemoveByChange(o)):(this._deleteItemElementByIndex(o),this._afterItemElementDeleted(a,l))}))}}_modifyByChanges(e,t){const n=this._editStrategy.itemsGetter(),s={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},o=this._dataController,r=o.paginate(),a=o.group();let l=e;(r||a)&&(l=e.filter((c=>c.type!=="insert"||c.index!==void 0))),l.forEach((c=>this[`_${c.type}ByChange`](s,n,c,t))),this._renderedItemsCount=n.length,this._refreshItemsCache(),this._fireContentReadyAction()}_appendItemToContainer(e,t,n){const s=e.children(this._itemSelector())[n];D.insertElement(e[0],t[0],s)}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"items":{this._partialRefresh()||super._optionChanged(e);break}case"dataSource":{const{repaintChangesOnly:s}=this.option();(!s||!n)&&this.option("items",[]),super._optionChanged(e);break}case"repaintChangesOnly":break;default:super._optionChanged(e)}}}class GM extends En{_renderWatchers(){super._renderWatchers(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))}_renderBadge(e){if(this._$element.children(".dx-list-item-badge-container").remove(),!e)return;const t=u("<div>").addClass("dx-list-item-badge-container").append(u("<div>").addClass("dx-list-item-badge").addClass("dx-badge").text(e)),n=this._$element.children(".dx-list-item-chevron-container").first();n.length>0?t.insertBefore(n):t.appendTo(this._$element)}_renderShowChevron(e){if(this._$element.children(".dx-list-item-chevron-container").remove(),!e)return;const t=u("<div>").addClass("dx-list-item-chevron-container"),n=u("<div>").addClass("dx-list-item-chevron");t.append(n).appendTo(this._$element)}}class Sv extends us{_supportedKeys(){return C({},super._supportedKeys(),{escape:M})}_getDefaultOptions(){return C({},super._getDefaultOptions(),{message:F.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0,preventScrollEvents:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:()=>wt(ke()),options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}},{device:()=>oi(ke()),options:{width:"auto",height:"auto"}}])}_init(){super._init()}_render(){super._render(),this.$element().addClass("dx-loadpanel"),this.$wrapper().addClass("dx-loadpanel-wrapper"),this._updateWrapperAria()}_updateWrapperAria(){if(this.$wrapper().removeAttr("aria-label").removeAttr("role"),!this.option("showIndicator")){const t=this._getAriaAttributes();this.$wrapper().attr(t)}}_getAriaAttributes(){const{message:e}=this.option();return{role:"alert","aria-label":e||F.format("Loading")}}_renderContentImpl(){const e=super._renderContentImpl();return this.$content().addClass("dx-loadpanel-content"),this._$loadPanelContentWrapper=u("<div>").addClass("dx-loadpanel-content-wrapper"),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage(),e}_show(){const{delay:e}=this.option();if(!e)return super._show();const t=A(),n=super._show.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout((()=>{n().done((()=>{t.resolve()}))}),e),t.promise()}_hide(){return this._clearShowTimeout(),super._hide()}_clearShowTimeout(){clearTimeout(this._showTimeout)}_renderMessage(){if(!this._$loadPanelContentWrapper)return;const{message:e}=this.option();if(!e)return;const t=u("<div>").addClass("dx-loadpanel-message").text(e);this._$loadPanelContentWrapper.append(t)}_renderLoadIndicator(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=u("<div>").addClass("dx-loadpanel-indicator").appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,Mn,{elementAttr:this._getAriaAttributes(),indicatorSrc:this.option("indicatorSrc")}))}_cleanPreviousContent(){this.$content().find(".dx-loadpanel-message").remove(),this.$content().find(".dx-loadpanel-indicator").remove(),this._$indicator=void 0}_togglePaneVisible(){this.$content().toggleClass("dx-loadpanel-pane-hidden",!this.option("showPane"))}_optionChanged(e){switch(e.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage(),this._updateWrapperAria();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:super._optionChanged(e)}}_dispose(){this._clearShowTimeout(),super._dispose()}}ve("dxLoadPanel",Sv);const Rd="dxScrollbar",KM="dx-scrollbar-hoverable",Ev="horizontal";let fs=null;class Iv extends jt{_getDefaultOptions(){return C({},super._getDefaultOptions(),{visible:!1,activeStateEnabled:!1,visibilityMode:"onScroll",containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})}_init(){super._init(),this._isHovered=!1}_initMarkup(){this._renderThumb(),super._initMarkup()}_render(){super._render(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode());const{hoverStateEnabled:e}=this.option();this.$element().toggleClass(KM,e)}_renderThumb(){this._$thumb=u("<div>").addClass("dx-scrollable-scroll"),u("<div>").addClass("dx-scrollable-scroll-content").appendTo(this._$thumb),this.$element().addClass("dx-scrollable-scrollbar").append(this._$thumb)}isThumb(e){return!!this.$element().find(e).length}_isHoverMode(){const{visibilityMode:e,expandable:t}=this.option();return(e==="onHover"||e==="always")&&t}_renderDirection(){const{direction:e}=this.option();this.$element().addClass(`dx-scrollbar-${e}`),this._dimension=e===Ev?"width":"height",this._prop=e===Ev?"left":"top"}_attachPointerDownHandler(){_.on(this._$thumb,k(Ae.down,Rd),this.feedbackOn.bind(this))}feedbackOn(e){e?.preventDefault(),this.$element().addClass("dx-scrollable-scrollbar-active"),fs=this}feedbackOff(){this.$element().removeClass("dx-scrollable-scrollbar-active"),fs=null}cursorEnter(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)}cursorLeave(){this._isHovered=!1,this.option("visible",!1)}_renderDimensions(){this._$thumb.css({width:this.option("width"),height:this.option("height")})}_toggleVisibility(e){const{visibilityMode:t}=this.option();t==="onScroll"&&this._$thumb.css("opacity");const n=this._adjustVisibility(e);this.option().visible=n,this._$thumb.toggleClass("dx-state-invisible",!n)}_adjustVisibility(e){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;const{visibilityMode:t}=this.option();let n=e;switch(t){case"onScroll":default:break;case"onHover":n=n||!!this._isHovered;break;case"never":n=!1;break;case"always":n=!0}return n}moveTo(e){if(this._isAlwaysHidden())return;let t=e;J(e)&&(t=e[this._prop]||0);const n={};n[this._prop]=this._calculateScrollBarPosition(t),rt(this._$thumb,n)}_calculateScrollBarPosition(e){return-e*this._thumbRatio}_getSizes(){const{containerSize:e,contentSize:t,baseContainerSize:n,baseContentSize:s}=this.option();return{containerSize:Math.round(e),contentSize:Math.round(t),baseContainerSize:Math.round(n),baseContentSize:Math.round(s)}}_update(){const{containerSize:e,contentSize:t}=this._getSizes();let{baseContainerSize:n,baseContentSize:s}=this._getSizes();isNaN(n)&&(n=e,s=t);const{scaleRatio:o}=this.option();this._baseContainerToContentRatio=s?n/s:n,this._realContainerToContentRatio=t?e/t:e;const r=Math.round(Math.max(Math.round(e*this._realContainerToContentRatio),15));this._thumbRatio=(e-r)/(o*(t-e)),this.option(this._dimension,r/o),this.$element().css("display",this._needScrollbar()?"":"none")}_isAlwaysHidden(){const{visibilityMode:e}=this.option();return e==="never"}_needScrollbar(){return!this._isAlwaysHidden()&&this._baseContainerToContentRatio<1}containerToContentRatio(){return this._realContainerToContentRatio}_normalizeSize(e){return J(e)?e[this._dimension]||0:e}_clean(){super._clean(),this===fs&&(fs=null),_.off(this._$thumb,`.${Rd}`)}_optionChanged(e){if(this._isAlwaysHidden())return;const{name:t,value:n}=e;switch(t){case"containerSize":case"contentSize":this.option()[t]=this._normalizeSize(n),this._update();break;case"baseContentSize":case"baseContainerSize":case"scaleRatio":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;default:super._optionChanged(e)}}update(){Wn((()=>{this._adjustVisibility()&&this.option("visible",!0)}))()}}ti.add((()=>{_.subscribeGlobal(D.getDocument(),k(Ae.up,Rd),(()=>{fs&&fs.feedbackOff()}))}));const wv="dxNativeScrollable",UM="dx-scrollable-scrollbar-simulated",jM="dx-scrollable-scrollbars-hidden",ko="vertical",ya="horizontal";let Pd=class{constructor(e){this._init(e)}_init(e){this._component=e,this._$element=e.$element(),this._$container=u(e.container()),this._$content=e.$content();const{direction:t,useSimulatedScrollbar:n}=e.option();this._direction=t,this._useSimulatedScrollbar=n,this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e),this._isRtlNativeStrategy=e._isRtlNativeStrategy.bind(e)}render(){const t=B.real().platform;this._$element.addClass("dx-scrollable-native").addClass(`dx-scrollable-native-${t}`).toggleClass(jM,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()}updateRtlPosition(e){const{rtlEnabled:t}=this.option();e&&t&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()}_renderScrollbars(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(UM),this._renderScrollbar(ko),this._renderScrollbar(ya)}_renderScrollbar(e){if(!this._isDirection(e))return;const{scrollByThumb:t}=this.option();this._scrollbars[e]=new Iv(u("<div>").appendTo(this._$element),{direction:e,expandable:t})}handleInit(e){}handleStart(){}handleMove(e){if(this._isLocked()){e.cancel=!0;return}this._allowedDirection()&&(e.originalEvent.isScrollingEvent=!0)}handleEnd(){}handleCancel(){}handleStop(){}_eachScrollbar(e){S(this._scrollbars||{},((t,n)=>{e(n,t)}))}createActions(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")}_createActionArgs(){const{left:e,top:t}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-e):this._isReachedLeft(e),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(e)):this._isReachedRight(e),reachedTop:this._isDirection(ko)?Math.round(t)>=0:void 0,reachedBottom:this._isDirection(ko)?Math.round(Math.abs(t)-this._getMaxOffset().top)>=0:void 0}}_getScrollOffset(){const{top:e,left:t}=this.location();return{top:-e,left:this._normalizeOffsetLeft(-t)}}_normalizeOffsetLeft(e){return this._isRtlNativeStrategy()?this._getMaxOffset().left+e:e}_isReachedLeft(e){return this._isDirection(ya)?Math.round(e)>=0:void 0}_isReachedRight(e){return this._isDirection(ya)?Math.round(Math.abs(e)-this._getMaxOffset().left)>=0:void 0}_isScrollbarVisible(){const e=this.option("showScrollbar");return e!=="never"&&e!==!1}handleScroll(e){var t;this._eventForUserAction=e,this._moveScrollbars(),(t=this._scrollAction)===null||t===void 0||t.call(this,this._createActionArgs())}_moveScrollbars(){const{top:e,left:t}=this._getScrollOffset();this._eachScrollbar((n=>{n.moveTo({top:-e,left:-t}),n.option("visible",!0)})),this._hideScrollbars()}_hideScrollbars(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout((()=>{this._eachScrollbar((e=>{e.option("visible",!1)}))}),500)}location(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}}disabledChanged(){}update(){this._update(),this._updateAction(this._createActionArgs())}_update(){this._updateDimensions(),this._updateScrollbars()}_updateDimensions(){this._containerSize={height:Oe(this._$container),width:me(this._$container)},this._componentContentSize={height:Oe(this._component.$content()),width:me(this._component.$content())},this._contentSize={height:Oe(this._$content),width:me(this._$content)}}_updateScrollbars(){this._eachScrollbar(((e,t)=>{const n=t===ko?"height":"width";e.option({containerSize:this._containerSize[n],contentSize:this._componentContentSize[n]}),e.update()}))}_prepareDirections(){}_allowedDirections(){return{vertical:this._isDirection(ko)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(ya)&&this._contentSize.width>this._containerSize.width}}dispose(){const{className:e}=this._$element.get(0),t=new RegExp("dx-scrollable-native\\S*","g");if(t.test(e)){const n=e.match(t);n&&this._$element.removeClass(n.join(" "))}_.off(this._$element,`.${wv}`),_.off(this._$container,`.${wv}`),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)}_removeScrollbars(){this._eachScrollbar((e=>{e.$element().remove()}))}scrollBy(e){const t=this.location();this._$container.scrollTop(Math.round(-t.top-e.top)),this._$container.scrollLeft(Math.round(-t.left-e.left))}validate(e){const{disabled:t}=this.option();return t||mt(e)&&this._isScrolledInMaxDirection(e)?!1:!!this._allowedDirection()}_isScrolledInMaxDirection(e){const t=this._$container.get(0);let n=!1;return e.delta>0?n=e.shiftKey?!t.scrollLeft:!t.scrollTop:e.shiftKey?n=t.scrollLeft>=this._getMaxOffset().left:n=t.scrollTop>=this._getMaxOffset().top,n}getDirection(){return this._allowedDirection()}};class qM extends Pd{_init(e){super._init(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$refreshingText=e._$refreshingText,this._$scrollViewContent=u(e.content()),this._$container=u(e.container()),this._initCallbacks()}_initCallbacks(){this.pullDownCallbacks=Ee(),this.releaseCallbacks=Ee(),this.reachBottomCallbacks=Ee()}render(){super.render(),this._renderPullDown(),this._releaseState()}_renderPullDown(){const e=u("<div>").addClass("dx-scrollview-pull-down-image"),t=u("<div>").addClass("dx-scrollview-pull-down-indicator"),n=u("<div>")[0],s=new Mn(n).$element();this._$pullDownText=u("<div>").addClass("dx-scrollview-pull-down-text");const{pullingDownText:o="",pulledDownText:r="",refreshingText:a=""}=this.option();this._$pullingDownText=u("<div>").text(o).appendTo(this._$pullDownText),this._$pulledDownText=u("<div>").text(r).appendTo(this._$pullDownText),this._$refreshingText=u("<div>").text(a).appendTo(this._$pullDownText),this._$pullDown.empty().append(e).append(t.append(s)).append(this._$pullDownText)}_releaseState(){this._state=0,this._refreshPullDownText()}_refreshPullDownText(){const e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];S(e,((t,n)=>{const s=this._state===n.visibleState?"addClass":"removeClass";n.element[s]("dx-scrollview-pull-down-text-visible")}))}update(){super.update(),this._setTopPocketOffset()}_updateDimensions(){super._updateDimensions(),this._topPocketSize=this._$topPocket.get(0).clientHeight;const e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)}_allowedDirections(){const e=super._allowedDirections();return e.vertical=e.vertical||this._pullDownEnabled,e}_setTopPocketOffset(){this._$topPocket.css({top:-this._topPocketSize})}handleEnd(){super.handleEnd(),this._complete()}handleStop(){super.handleStop(),this._complete()}_complete(){this._state===1&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout((()=>{this._pullDownRefreshing()}),400))}_setPullDownOffset(e){rt(this._$topPocket,{top:e}),rt(this._$scrollViewContent,{top:e})}handleScroll(e){if(super.handleScroll(e),this._state===2)return;const t=this.location().top,n=(this._location||0)-t;this._location=t,this._isPullDown()?this._pullDownReady():n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}_isPullDown(){return this._pullDownEnabled&&this._location>=this._topPocketSize}_isReachBottom(){return this._reachBottomEnabled&&this.isBottomReached()}isBottomReached(){return Math.round(this._bottomBoundary+Math.floor(this._location))<=1}_reachBottom(){this._state!==3&&(this._state=3,this.reachBottomCallbacks.fire())}_pullDownReady(){this._state!==1&&(this._state=1,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())}_stateReleased(){this._state!==0&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._releaseState())}_pullDownRefreshing(){this._state!==2&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())}pullDownEnable(e){e&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=e}reachBottomEnable(e){this._reachBottomEnabled=e}pendingRelease(){this._state=1}release(){const e=A();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===3&&(this._state=0),this._releaseTimeout=setTimeout((()=>{this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}),400),e.promise()}dispose(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),super.dispose()}}class YM extends Pd{_init(e){super._init(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$scrollViewContent=u(e.content()),this._$container=u(e.container()),this._initCallbacks(),this._location=0}_initCallbacks(){this.pullDownCallbacks=Ee(),this.releaseCallbacks=Ee(),this.reachBottomCallbacks=Ee()}render(){super.render(),this._renderPullDown(),this._releaseState()}_renderPullDown(){const e=u("<div>").addClass("dx-scrollview-pull-down-indicator"),t=u("<div>")[0],n=new Mn(t).$element();this._$icon=u("<div>").addClass("dx-icon-pulldown"),this._$pullDown.empty().append(this._$icon).append(e.append(n))}_releaseState(){this._state=0,this._releasePullDown(),this._updateDimensions()}_releasePullDown(){this._$pullDown.css({opacity:0})}_updateDimensions(){super._updateDimensions(),this._topPocketSize=this._$topPocket.get(0).clientHeight;const e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)}_allowedDirections(){const e=super._allowedDirections();return e.vertical=e.vertical||this._pullDownEnabled,e}handleInit(e){super.handleInit(e),this._state===0&&this._location===0&&(this._startClientY=We(e.originalEvent).y,this._state=4)}handleMove(e){super.handleMove(e),this._deltaY=We(e.originalEvent).y-this._startClientY,this._state===4&&(this._pullDownEnabled&&this._deltaY>0?this._state=5:this._complete()),this._state===5&&(e.preventDefault(),this._movePullDown())}_movePullDown(){const e=this._getPullDownHeight(),t=Math.min(3*e,this._deltaY+this._getPullDownStartPosition()),n=180*t/(3*e);this._$pullDown.css({opacity:1}).toggleClass("dx-scrollview-pull-down-refreshing",t<e),rt(this._$pullDown,{top:t}),this._$icon.css({transform:`rotate(${n}deg)`})}_isPullDown(){return this._pullDownEnabled&&this._state===5&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()}_getPullDownHeight(){return Math.round(.05*He(this._$element))}_getPullDownStartPosition(){return-Math.round(1.5*He(this._$pullDown))}handleEnd(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()}handleStop(){this._complete()}_complete(){(this._state===4||this._state===5)&&this._releaseState()}handleScroll(e){if(super.handleScroll(e),this._state===2)return;const t=this.location().top,n=this._location-t;this._location=t,n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}_isReachBottom(){return this._reachBottomEnabled&&this.isBottomReached()}isBottomReached(){return Math.round(this._bottomBoundary+Math.floor(this._location))<=1}_reachBottom(){this.reachBottomCallbacks.fire()}_stateReleased(){this._state!==0&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading"),this._releaseState())}_pullDownRefreshing(){this._state=2,this._pullDownRefreshHandler()}_pullDownRefreshHandler(){this._refreshPullDown(),this.pullDownCallbacks.fire()}_refreshPullDown(){this._$pullDown.addClass("dx-scrollview-pull-down-loading"),rt(this._$pullDown,{top:this._getPullDownHeight()})}pullDownEnable(e){this._$topPocket.toggle(e),this._pullDownEnabled=e}reachBottomEnable(e){this._reachBottomEnabled=e}pendingRelease(){this._state=1}release(){const e=A();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout((()=>{this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}),800),e.promise()}dispose(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),super.dispose()}}class XM{constructor(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)}start(){this._stopped=!1,this._finished=!1,this._stepCore()}stop(){this._stopped=!0,_i(this._stepAnimationFrame)}_stepCore(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=zs(this._proxiedStepCore)}_step(){ee.abstract()}_isFinished(){return this._finished}_stop(){}_complete(){}_isStopped(){return this._stopped}inProgress(){return!(this._stopped||this._finished)}}const Dv="dxSimulatedScrollable",ZM="dxScrollableStrategy",Ca=`${Dv}Cursor`,$d=`${Dv}Keyboard`,JM="dx-scrollable-scrollbars-alwaysvisible",ri="vertical",pt="horizontal",QM=(1-.92**(400/Math.round(1e3/60)))/(1-.92),Oi={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"};class Tv extends XM{constructor(e){super(),this.VELOCITY_LIMIT=1,this.scroller=e}_isFinished(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT}_step(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()}_acceleration(){return this.scroller._inBounds()?.92:.5}_complete(){this.scroller._scrollComplete()}}class eR extends Tv{constructor(){super(...arguments),this.VELOCITY_LIMIT=.2}_isFinished(){return this.scroller._crossBoundOnNextStep()||super._isFinished()}_acceleration(){return .92}_complete(){this.scroller._move(this.scroller._bounceLocation),super._complete()}}class Av{constructor(e){this._initOptions(e),this._initAnimators(),this._initScrollbar()}_initOptions(e){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=e.direction===pt?"x":"y",this._prop=e.direction===pt?"left":"top",this._dimension=e.direction===pt?"width":"height",this._scrollProp=e.direction===pt?"scrollLeft":"scrollTop",S(e,((t,n)=>{this[`_${t}`]=n}))}_initAnimators(){this._inertiaAnimator=new Tv(this),this._bounceAnimator=new eR(this)}_initScrollbar(){this._scrollbar=new Iv(u("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()}_visibilityModeNormalize(e){return e===!0?"onScroll":e===!1?"never":e??"never"}_scrollStep(e){const t=this._location;this._location+=e,this._suppressBounce(),this._move(),!(Math.abs(t-this._location)<1)&&_.triggerHandler(this._$container,{type:"scroll"})}_suppressBounce(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())}_boundLocation(e){const t=e??this._location;return Math.max(Math.min(t,this._maxOffset),this._minOffset)}_move(e){this._location=e!==void 0?e*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()}_moveContent(){const e=this._location;this._$container[this._scrollProp](-e/this._getScaleRatio()),this._moveContentByTranslator(e)}_getScaleRatio(){if(te()&&!this._scaleRatio){const e=this._$element[0],t=this._dimension,n=this._getRealDimension(e,t),s=this._getBaseDimension(e,t);this._scaleRatio=Math.round(n/s*100)/100}return this._scaleRatio||1}_getRealDimension(e,t){return Math.round(Fi(e)[t])}_getBaseDimension(e,t){const n=`offset${$s(t)}`;return e[n]}_moveContentByTranslator(e){let t;const n=-this._maxScrollPropValue;if(e>0&&(t=e),e<=n&&(t=e-n),this._translateOffset===t)return;const s={};if(s[this._prop]=t,this._translateOffset=t,!t){lr(this._$content);return}rt(this._$content,s)}_moveScrollbar(){this._scrollbar.moveTo(this._location)}_scrollComplete(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()}_scrollToBounds(){var e;this._inBounds()||((e=this._bounceAction)===null||e===void 0||e.call(this),this._setupBounce(),this._bounceAnimator.start())}_setupBounce(){this._bounceLocation=this._boundLocation();const e=this._bounceLocation-this._location;this._velocity=e/QM}_inBounds(e){const t=e??this._location;return this._boundLocation(t)===t}_crossBoundOnNextStep(){const e=this._location,t=e+this._velocity;return e<this._minOffset&&t>=this._minOffset||e>this._maxOffset&&t<=this._maxOffset}_initHandler(e){this._stopScrolling(),this._prepareThumbScrolling(e)}_stopScrolling(){Wn((()=>{this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}))()}_prepareThumbScrolling(e){if(mt(e.originalEvent))return;const t=u(e.originalEvent.target),n=this._isScrollbar(t);n&&this._moveToMouseLocation(e),this._thumbScrolling=n||this._isThumb(t),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(t),this._thumbScrolling&&this._scrollbar.feedbackOn()}_isThumbScrollingHandler(e){return this._isThumb(e)}_moveToMouseLocation(e){const t=e[`page${this._axis.toUpperCase()}`]-this._$element.offset()[this._prop],n=this._location+t/this._containerToContentRatio()-Oe(this._$container)/2;this._scrollStep(-Math.round(n))}_startHandler(){this._showScrollbar()}_moveHandler(e){this._crossThumbScrolling||(this._thumbScrolling&&(e[this._axis]=-Math.round(e[this._axis]/this._containerToContentRatio())),this._scrollBy(e))}_scrollBy(e){let t=e[this._axis];this._inBounds()||(t*=.5),this._scrollStep(t)}_scrollByHandler(e){!e.x&&!e.y||(this._scrollBy(e),this._scrollComplete())}_containerToContentRatio(){return this._scrollbar.containerToContentRatio()}_endHandler(e){return this._completeDeferred=A(),this._velocity=e[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()}_inertiaHandler(){this._suppressInertia(),this._inertiaAnimator.start()}_suppressInertia(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)}_resetThumbScrolling(){this._thumbScrolling=!1,this._crossThumbScrolling=!1}_stopHandler(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()}_disposeHandler(){this._stopScrolling(),this._$scrollbar.remove()}_updateHandler(){this._update(),this._moveToBounds()}_update(){return this._stopScrolling(),Ts((()=>(this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),Pi((()=>{this._moveScrollbar(),this._scrollbar.update()})))))}_resetScaleRatio(){this._scaleRatio=null}_updateLocation(){this._location=(Li(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()}_updateBounds(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()}_getMaxOffset(){return 0}_getMinOffset(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue}_updateScrollbar(){La((()=>{const e=this._containerSize(),t=this._contentSize(),n=this._dimension,s=this._getBaseDimension(this._$container[0],n),o=this._getBaseDimension(this._$content[0],n);Pi((()=>{this._scrollbar.option({containerSize:e,contentSize:t,baseContainerSize:s,baseContentSize:o,scaleRatio:this._getScaleRatio()})}))}))()}_moveToBounds(){Wn(La(Wn((()=>{const e=this._boundLocation(),t=e!==this._location;if(this._location=e,this._move(),t){var n;(n=this._scrollAction)===null||n===void 0||n.call(this)}}))))()}_createActionsHandler(e){this._scrollAction=e.scroll,this._bounceAction=e.bounce}_showScrollbar(){this._scrollbar.option("visible",!0)}_hideScrollbar(){this._scrollbar.option("visible",!1)}_containerSize(){return this._getRealDimension(this._$container.get(0),this._dimension)}_contentSize(){const e=this._$content.css(`overflow${this._axis.toUpperCase()}`)==="hidden";let t=this._getRealDimension(this._$content.get(0),this._dimension);if(!e){const n=this._$content[0][`scroll${$s(this._dimension)}`]*this._getScaleRatio();t=Math.max(n,t)}return t}_validateEvent(e){const t=u(e.originalEvent.target);return this._isThumb(t)||this._isScrollbar(t)}_isThumb(e){return this._scrollByThumb&&this._scrollbar.isThumb(e)}_isScrollbar(e){return!!(this._scrollByThumb&&e?.is(this._$scrollbar))}_reachedMin(){return Math.round(this._location-this._minOffset)<=0}_reachedMax(){return Math.round(this._location-this._maxOffset)>=0}_cursorEnterHandler(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()}_cursorLeaveHandler(){this._scrollbar.cursorLeave()}isBottomReached(){return!1}dispose(){}}let Xt=null,_s=null;class Ov{constructor(e){this._init(e)}_init(e){this._component=e,this._$element=e.$element(),this._$container=u(e.container()),this._$wrapper=e._$wrapper,this._$content=e.$content(),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e)}render(){this._$element.addClass("dx-scrollable-simulated"),this._createScrollers();const{useKeyboard:e}=this.option();e&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()}_createScrollers(){this._scrollers={},this._isDirection(pt)&&this._createScroller(pt),this._isDirection(ri)&&this._createScroller(ri),this._$element.toggleClass(JM,this.option("showScrollbar")==="always")}_createScroller(e){this._scrollers[e]=new Av(this._scrollerOptions(e))}_scrollerOptions(e){return{direction:e,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}}_applyScaleRatio(e){for(const t in this._scrollers){const n=this._getPropByDirection(t);if(y(e[n])){const s=this._scrollers[t],o=e[n];o!==void 0&&(e[n]=o*s._getScaleRatio())}}return e}_isAnyThumbScrolling(e){let t=!1;return this._eventHandler("isThumbScrolling",e).done(((n,s)=>{t=n||s})),t}handleInit(e){this._suppressDirections(e),this._eventForUserAction=e,this._eventHandler("init",e)}_suppressDirections(e){if(mt(e.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller((function(t,n){const s=u(e.originalEvent.target),o=t._validateEvent(e)||this.option("scrollByContent")&&this._isContent(s);this._validDirections[n]=o}))}_isContent(e){return!!e.closest(this._$element).length}_prepareDirections(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._validDirections={},this._validDirections[pt]=e,this._validDirections[ri]=e}_eachScroller(e){const t=e.bind(this);S(this._scrollers,((n,s)=>{t(s,n)}))}handleStart(e){this._eventForUserAction=e,this._eventHandler("start").done(this._startAction)}_saveActive(){_s=this}_resetActive(){_s===this&&(_s=null)}handleMove(e){var t;if(this._isLocked()){e.cancel=!0,this._resetActive();return}this._saveActive(),(t=e.preventDefault)===null||t===void 0||t.call(e),this._adjustDistance(e,e.delta),this._eventForUserAction=e,this._eventHandler("move",e.delta)}_adjustDistance(e,t){t.x*=this._validDirections[pt],t.y*=this._validDirections[ri];const n=this._tryGetDevicePixelRatio();n&&mt(e.originalEvent)&&(t.x=Math.round(t.x/n*100)/100,t.y=Math.round(t.y/n*100)/100)}_tryGetDevicePixelRatio(){if(te())return we().devicePixelRatio}handleEnd(e){var t;return this._resetActive(),this._refreshCursorState(((t=e.originalEvent)===null||t===void 0?void 0:t.target)??void 0),this._adjustDistance(e,e.velocity),this._eventForUserAction=e,this._eventHandler("end",e.velocity).done(this._endAction)}handleCancel(e){return this._resetActive(),this._eventForUserAction=e,this._eventHandler("end",{x:0,y:0})}handleStop(){this._resetActive(),this._eventHandler("stop")}handleScroll(){var e;this._updateRtlConfig(),(e=this._scrollAction)===null||e===void 0||e.call(this)}_attachKeyboardHandler(){_.off(this._$element,`.${$d}`),!this.option("disabled")&&this.option("useKeyboard")&&_.on(this._$element,k("keydown",$d),this._keyDownHandler.bind(this))}_keyDownHandler(e){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout((()=>{tt(e)===Oi.TAB&&this._eachScroller((n=>{n._updateHandler()}))})),!this._$container.is(D.getActiveElement(this._$container.get(0))))return;let t=!0;switch(tt(e)){case Oi.DOWN:this._scrollByLine({y:1});break;case Oi.UP:this._scrollByLine({y:-1});break;case Oi.RIGHT:this._scrollByLine({x:1});break;case Oi.LEFT:this._scrollByLine({x:-1});break;case Oi.PAGE_DOWN:this._scrollByPage(1);break;case Oi.PAGE_UP:this._scrollByPage(-1);break;case Oi.HOME:this._scrollToHome();break;case Oi.END:this._scrollToEnd();break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}_scrollByLine(e){const t=this._tryGetDevicePixelRatio();let n=40;t&&(n=Math.abs(n/t*100)/100),this.scrollBy({top:(e.y??0)*-n,left:(e.x??0)*-n})}_scrollByPage(e){const t=this._wheelProp(),n=this._dimensionByProp(t),s={},o=n==="width"?me:Oe;s[t]=e*-o(this._$container),this.scrollBy(s)}_dimensionByProp(e){return e==="left"?"width":"height"}_getPropByDirection(e){return e===pt?"left":"top"}_scrollToHome(){const e=this._wheelProp(),t={};t[e]=0,this._component.scrollTo(t)}_scrollToEnd(){const e=this._wheelProp(),t=this._dimensionByProp(e),n={},s=t==="width"?me:Oe;n[e]=s(this._$content)-s(this._$container),this._component.scrollTo(n)}createActions(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()}_createScrollerActions(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})}_createActionHandler(e){var t=this;const n=this._createActionByOption(e);return function(){for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];n(I(t._createActionArgs(),o))}}_createActionArgs(){const{horizontal:e,vertical:t}=this._scrollers,n=this._getScrollOffset();return this._scrollOffset={top:t&&n.top,left:e&&n.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:e?._reachedMax(),reachedRight:e?._reachedMin(),reachedTop:t?._reachedMax(),reachedBottom:t?._reachedMin()}}_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}}_eventHandler(e,t){const n=[].slice.call(arguments).slice(1),s=qe(this._scrollers,(o=>o[`_${e}Handler`].apply(o,n)));return Ie.apply(u,s).promise()}location(){const e=Li(this._$content);return e.top-=this._$container.scrollTop(),e.left-=this._$container.scrollLeft(),e}disabledChanged(){this._attachCursorHandlers()}_attachCursorHandlers(){_.off(this._$element,`.${Ca}`);const{disabled:e}=this.option();!e&&this._isHoverMode()&&(_.on(this._$element,k("mouseenter",Ca),this._cursorEnterHandler.bind(this)),_.on(this._$element,k("mouseleave",Ca),this._cursorLeaveHandler.bind(this)))}_isHoverMode(){return this.option("showScrollbar")==="onHover"}_cursorEnterHandler(e){const t=e||{};t.originalEvent=t.originalEvent||{},!(_s||t.originalEvent._hoverHandled)&&(Xt&&Xt._cursorLeaveHandler(),Xt=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)}_cursorLeaveHandler(e){Xt!==this||_s===Xt||(this._eventHandler("cursorLeave"),Xt=null,this._refreshCursorState(e?.relatedTarget))}_refreshCursorState(e){if(!this._isHoverMode()&&(!e||_s))return;const n=u(e).closest(".dx-scrollable-simulated:not(.dx-state-disabled)"),s=n.length&&n.data(ZM);Xt&&Xt!==s&&Xt._cursorLeaveHandler(),s&&s._cursorEnterHandler()}update(){const e=this._eventHandler("update").done(this._updateAction);return Ie(e,Ts((()=>{const t=this._allowedDirections();return Pi((()=>{let n=t.vertical?"pan-x":"";n=t.horizontal?"pan-y":n,n=t.vertical&&t.horizontal?"none":n,this._$container.css("touchAction",n)})),Ie().promise()})))}_allowedDirections(){const{bounceEnabled:e}=this.option(),t=this._scrollers[ri],n=this._scrollers[pt];return{vertical:!!(t&&(t._minOffset<0||e)),horizontal:!!(n&&(n._minOffset<0||e))}}_updateBounds(){var e;(e=this._scrollers[pt])===null||e===void 0||e._updateBounds()}_isHorizontalAndRtlEnabled(){return this.option("rtlEnabled")&&this.option("direction")!==ri}updateRtlPosition(e){if(e&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){let t=this._getMaxOffset().left-this._rtlConfig.scrollRight;t<=0&&(t=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==t&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:t}),this._rtlConfig.skipUpdating=!1)}}_updateRtlConfig(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){const{clientWidth:e,scrollLeft:t}=this._$container.get(0),n=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===n&&this._rtlConfig.clientWidth===e&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-t),this._rtlConfig.clientWidth=e,this._rtlConfig.windowPixelRatio=n}}_getWindowDevicePixelRatio(){return te()?we().devicePixelRatio:1}scrollBy(e){var t,n;const s=this._scrollers[ri],o=this._scrollers[pt];s&&(e.top=s._boundLocation(e.top+s._location)-s._location),o&&(e.left=o._boundLocation(e.left+o._location)-o._location),this._prepareDirections(!0),(t=this._startAction)===null||t===void 0||t.call(this),this._eventHandler("scrollBy",{x:e.left,y:e.top}),(n=this._endAction)===null||n===void 0||n.call(this),this._updateRtlConfig()}validate(e){return mt(e)&&ut(e)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:mt(e)?this._validateWheel(e):this._validateMove(e)}_validateWheel(e){const t=this._scrollers[this._wheelDirection(e)],n=t._reachedMin(),s=t._reachedMax(),o=!n||!s,r=!n&&!s,a=n&&e.delta>0,l=s&&e.delta<0;let c=o&&(r||a||l);return c=c||this._validateWheelTimer!==void 0,c&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout((()=>{this._validateWheelTimer=void 0}),500)),c}_validateMove(e){const{scrollByContent:t}=this.option();return!t&&!u(e.target).closest(".dx-scrollable-scrollbar").length?!1:this._allowedDirection()}getDirection(e){return mt(e)?this._wheelDirection(e):this._allowedDirection()}_wheelProp(){return this._wheelDirection()===pt?"left":"top"}_wheelDirection(e){const{direction:t}=this.option();switch(t){case pt:return pt;case ri:return ri;default:return e!=null&&e.shiftKey?pt:ri}}dispose(){this._resetActive(),Xt===this&&(Xt=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass("dx-scrollable-simulated"),this._eventForUserAction=void 0,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)}_detachEventHandlers(){_.off(this._$element,`.${Ca}`),_.off(this._$container,`.${$d}`)}}class tR extends Av{constructor(e){super(e),this._topPocketSize=0,this._bottomPocketSize=0,this._initCallbacks(),this._releaseState()}_releaseState(){this._state=0,this._refreshPullDownText()}_refreshPullDownText(){const e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];S(e,((t,n)=>{const s=this._state===n.visibleState?"addClass":"removeClass";n.element[s]("dx-scrollview-pull-down-text-visible")}))}_initCallbacks(){this.pullDownCallbacks=Ee(),this.releaseCallbacks=Ee(),this.reachBottomCallbacks=Ee()}_updateBounds(){if(this._direction!=="horizontal"){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;const t=this._$container.get(0),n=this._$content.get(0);this._bottomBoundary=Math.max(n.clientHeight-this._bottomPocketSize-t.clientHeight,0)}super._updateBounds()}_updateScrollbar(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})}_moveContent(){super._moveContent(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==0&&this._stateReleased()}_moveScrollbar(){this._scrollbar.moveTo(this._topPocketSize+this._location)}_isPullDown(){return this._pullDownEnabled&&this._location>=0}_isReachBottom(){return this._reachBottomEnabled&&this.isBottomReached()}isBottomReached(){const e=this._$container.get(0);return Math.round(this._bottomBoundary-Math.ceil(e.scrollTop))<=1}_scrollComplete(){this._inBounds()&&this._state===1?this._pullDownRefreshing():this._inBounds()&&this._state===3?this._reachBottomLoading():super._scrollComplete()}_reachBottomReady(){this._state!==3&&(this._state=3,this._minOffset=this._getMinOffset())}_getMaxOffset(){return-this._topPocketSize}_getMinOffset(){return Math.min(super._getMinOffset(),-this._topPocketSize)}_reachBottomLoading(){this.reachBottomCallbacks.fire()}_pullDownReady(){this._state!==1&&(this._state=1,this._maxOffset=0,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())}_stateReleased(){this._state!==0&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this.releaseCallbacks.fire())}_pullDownRefreshing(){this._state!==2&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())}_releaseHandler(){var e;return this._state===0&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=Eu(this._release.bind(this)),(e=this._releaseTask)===null||e===void 0?void 0:e.promise}_release(){this._stateReleased(),this._scrollComplete()}_reachBottomEnablingHandler(e){this._reachBottomEnabled!==e&&(this._reachBottomEnabled=e,this._updateBounds())}_pullDownEnablingHandler(e){this._pullDownEnabled!==e&&(this._pullDownEnabled=e,this._considerTopPocketChange(),this._updateHandler())}_considerTopPocketChange(){this._location-=Oe(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()}_pendingReleaseHandler(){this._state=1}dispose(){this._releaseTask&&this._releaseTask.abort(),super.dispose()}}class iR extends Ov{_init(e){super._init(e),this._$pullDown=e._$pullDown,this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._initCallbacks()}_initCallbacks(){this.pullDownCallbacks=Ee(),this.releaseCallbacks=Ee(),this.reachBottomCallbacks=Ee()}render(){this._renderPullDown(),super.render()}_renderPullDown(){const e=u("<div>").addClass("dx-scrollview-pull-down-image"),t=u("<div>").addClass("dx-scrollview-pull-down-indicator"),n=u("<div>")[0],s=new Mn(n).$element();this._$pullDownText=u("<div>").addClass("dx-scrollview-pull-down-text");const{pullingDownText:o="",pulledDownText:r="",refreshingText:a=""}=this.option();this._$pullingDownText=u("<div>").text(o).appendTo(this._$pullDownText),this._$pulledDownText=u("<div>").text(r).appendTo(this._$pullDownText),this._$refreshingText=u("<div>").text(a).appendTo(this._$pullDownText),this._$pullDown.empty().append(e).append(t.append(s)).append(this._$pullDownText)}pullDownEnable(e){this._eventHandler("pullDownEnabling",e)}reachBottomEnable(e){this._eventHandler("reachBottomEnabling",e)}_createScroller(e){const t=new tR(this._scrollerOptions(e));this._scrollers[e]=t,t.pullDownCallbacks.add((()=>{this.pullDownCallbacks.fire()})),t.releaseCallbacks.add((()=>{this.releaseCallbacks.fire()})),t.reachBottomCallbacks.add((()=>{this.reachBottomCallbacks.fire()}))}_scrollerOptions(e){return C({},super._scrollerOptions(e),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})}pendingRelease(){this._eventHandler("pendingRelease")}release(){return this._eventHandler("release").done(this._updateAction)}location(){const e=super.location();return e.top+=Oe(this._$topPocket),e}isBottomReached(){return this._scrollers.vertical.isBottomReached()}dispose(){S(this._scrollers,(function(){this.dispose()})),super.dispose()}}const Bd="vertical",nR="horizontal",Vd="both",kv="dx-scrollable",Ld="dx-scrollable-content",sR="dx-scrollable-wrapper",oR="dx-scrollable-container",rR="dx-scrollable-disabled",Mv=function(){return[{device:()=>!Mt.nativeScrolling,options:{useNative:!1}},{device:i=>!B.isSimulator()&&B.real().deviceType==="desktop"&&i.platform==="generic",options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:Mt.touch,showScrollbar:"onHover"}}]};function aR(i,e){const t={left:0,top:0};let n=e;for(;(s=n)!==null&&s!==void 0&&s.offsetParent&&!n.classList.contains(i);){var s;const o=n.offsetParent,r=n.getBoundingClientRect(),a=o.getBoundingClientRect();t.left+=r.left-a.left,t.top+=r.top-a.top,n=n.offsetParent}return t}function lR(i,e,t,n,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Ld;const r=C({top:0,left:0,right:0,bottom:0},s),a=e===Bd,l=a?"top":"left",c=a?"bottom":"right",d=a?"height":"width",h=t[`offset${$s(d)}`],p=t[`client${$s(d)}`],m=t.getBoundingClientRect()[d],g=i.getBoundingClientRect()[d];let f=1;Math.abs(m-h)>1&&(f=m/h);const v=aR(o,i)[l]/f,b=n[l],w=b-v+r[l],T=b-v-g/f+p-r[c];return w<=0&&T>=0?b:b-(Math.abs(w)>Math.abs(T)?T:w)}const ai="dxScrollable",cR="dxScrollableStrategy",li="vertical",nn="horizontal",Fd="both";class gs extends ii{_getDefaultOptions(){return C({},super._getDefaultOptions(),{disabled:!1,onScroll:null,direction:li,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1,_onVisibilityChanged:M})}_defaultOptionsRules(){return super._defaultOptionsRules().concat(Mv(),[{device:()=>!!(Mt.nativeScrolling&&B.real().platform==="android"&&!Rt.mozilla),options:{useSimulatedScrollbar:!0}}])}_initOptions(e){super._initOptions(e),"useSimulatedScrollbar"in e||this._setUseSimulatedScrollbar()}_setUseSimulatedScrollbar(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))}_init(){super._init(),this._initScrollableMarkup(),this._locked=!1}_visibilityChanged(e){if(e){this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset;const{_onVisibilityChanged:t}=this.option();t?.(this)}else this._savedScrollOffset=this.scrollOffset()}_initScrollableMarkup(){const e=this.$element().addClass(kv),t=u("<div>").addClass(oR),n=u("<div>").addClass(sR),s=u("<div>").addClass(Ld);this._$container=t,this._$wrapper=n,this._$content=s,s.append(e.contents()).appendTo(t),t.appendTo(n),n.appendTo(e)}_dimensionChanged(){this.update(),this._updateRtlPosition()}_initMarkup(){super._initMarkup(),this._renderDirection()}_render(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),super._render(),this._updateRtlPosition(!0)}_updateRtlPosition(e){this._strategy.updateRtlPosition(e)}_getMaxOffset(){const{scrollWidth:e,clientWidth:t,scrollHeight:n,clientHeight:s}=u(this.container()).get(0);return{left:e-t,top:n-s}}_attachEventHandlers(){const e=this._strategy,t={getDirection:e.getDirection.bind(e),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};_.off(this._$wrapper,`.${ai}`),_.on(this._$wrapper,k(as.init,ai),t,this._initHandler.bind(this)),_.on(this._$wrapper,k(as.start,ai),e.handleStart.bind(e)),_.on(this._$wrapper,k(as.move,ai),e.handleMove.bind(e)),_.on(this._$wrapper,k(as.end,ai),e.handleEnd.bind(e)),_.on(this._$wrapper,k(as.cancel,ai),e.handleCancel.bind(e)),_.on(this._$wrapper,k(as.stop,ai),e.handleStop.bind(e)),_.off(this._$container,`.${ai}`),_.on(this._$container,k("scroll",ai),e.handleScroll.bind(e))}_validate(e){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(e))}_moveIsAllowed(e){return!!this._strategy.validate(e)}handleMove(e){this._strategy.handleMove(e)}_prepareDirections(e){this._strategy._prepareDirections(e)}_initHandler(e){this._strategy.handleInit(e)}_renderDisabledState(){const{disabled:e}=this.option();this.$element().toggleClass(rR,e),this.option("disabled")?this._lock():this._unlock()}_renderDirection(){const{direction:e}=this.option();this.$element().removeClass(`dx-scrollable-${nn}`).removeClass(`dx-scrollable-${li}`).removeClass(`dx-scrollable-${Fd}`).addClass(`dx-scrollable-${e}`)}_renderStrategy(){this._createStrategy(),this._strategy.render(),this.$element().data(cR,this._strategy)}_createStrategy(){const{useNative:e}=this.option();this._strategy=e?new Pd(this):new Ov(this)}_createActions(){var e;(e=this._strategy)===null||e===void 0||e.createActions()}_clean(){var e;(e=this._strategy)===null||e===void 0||e.dispose()}_optionChanged(e){var t;switch(e.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),(t=this._strategy)===null||t===void 0||t.disabledChanged();break;case"updateManually":case"scrollByContent":case"_onVisibilityChanged":break;case"width":super._optionChanged(e),this._updateRtlPosition();break;default:super._optionChanged(e)}}_resetInactiveDirection(){const e=this._getInactiveProp();if(!e||!te())return;const t=this.scrollOffset();t[e]=0,this.scrollTo(t)}_getInactiveProp(){const{direction:e}=this.option();return e===li?"left":"top"}_location(){return this._strategy.location()}_normalizeLocation(e){if(J(e)){const n=Be(e.left,e.x),s=Be(e.top,e.y);return{left:y(n)?-n:void 0,top:y(s)?-s:void 0}}const{direction:t}=this.option();return{left:t!==li?-e:void 0,top:t!==nn?-e:void 0}}_isLocked(){return this._locked}_lock(){this._locked=!0}_unlock(){this.option("disabled")||(this._locked=!1)}_isDirection(e){const{direction:t}=this.option();return e===li?t!==nn:e===nn?t!==li:t===e}_updateAllowedDirection(){const e=this._strategy._allowedDirections();this._isDirection(Fd)&&e.vertical&&e.horizontal?this._allowedDirectionValue=Fd:this._isDirection(nn)&&e.horizontal?this._allowedDirectionValue=nn:this._isDirection(li)&&e.vertical?this._allowedDirectionValue=li:this._allowedDirectionValue=null}_allowedDirection(){return this._allowedDirectionValue}$content(){return this._$content}content(){return ae(this._$content)}container(){return ae(this._$container)}scrollOffset(){return this._strategy._getScrollOffset()}_isRtlNativeStrategy(){const{useNative:e,rtlEnabled:t}=this.option();return e&&t}scrollTop(){return this.scrollOffset().top}scrollLeft(){return this.scrollOffset().left}clientHeight(){return Oe(this._$container)}scrollHeight(){return He(this.$content())}clientWidth(){return me(this._$container)}scrollWidth(){return Ue(this.$content())}update(){return this._strategy?Ie(this._strategy.update()).done((()=>{this._updateAllowedDirection()})):A().resolve()}scrollBy(e){const t=this._normalizeLocation(e);!t.top&&!t.left||(this._updateIfNeed(),this._strategy.scrollBy(t))}scrollTo(e){if(!te())return;let t=this._normalizeLocation(e);this._updateIfNeed();let n=this._location();const{useNative:s}=this.option();if(!s){const r=this._strategy;t=r._applyScaleRatio(t),n=r._applyScaleRatio(n)}this._isRtlNativeStrategy()&&(n.left-=this._getMaxOffset().left);const o=this._normalizeLocation({left:n.left-Be(t.left,n.left),top:n.top-Be(t.top,n.top)});!o.top&&!o.left||this._strategy.scrollBy(o)}scrollToElement(e,t){const n=u(e),s=this.$content().find(e).length,o=n.parents(`.${kv}`).length-n.parents(`.${Ld}`).length===0;if(!s||!o)return;const r={top:0,left:0},{direction:a}=this.option();a!==li&&(r.left=this.getScrollElementPosition(n,nn,t)),a!==nn&&(r.top=this.getScrollElementPosition(n,li,t)),this.scrollTo(r)}getScrollElementPosition(e,t,n){const s=this.scrollOffset();return lR(e[0],t,u(this.container())[0],s,n)}_updateIfNeed(){this.option("updateManually")||this.update()}_useTemplates(){return!1}}ve(ai,gs);const dR="dx-scrollview-loadpanel",uR={pullDown:qM,swipeDown:YM,simulated:iR},Rv=!te();class Pv extends gs{finishLoading(){}release(){}refresh(){}scrollOffset(){return{top:0,left:0}}isBottomReached(){return!1}_optionChanged(e){const{name:t}=e;if(t!=="onUpdated")return super._optionChanged(e)}}class $v extends gs{_getDefaultOptions(){return C({},super._getDefaultOptions(),{pullingDownText:F.format("dxScrollView-pullingDownText"),pulledDownText:F.format("dxScrollView-pulledDownText"),refreshingText:F.format("dxScrollView-refreshingText"),reachBottomText:F.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device(){return B.real().platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:()=>si(ke()),options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])}_init(){super._init(),this._loadingIndicatorEnabled=!0}_initScrollableMarkup(){super._initScrollableMarkup(),this.$element().addClass("dx-scrollview"),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()}_initContent(){const e=u("<div>").addClass("dx-scrollview-content");this._$content.wrapInner(e)}_initTopPocket(){this._$topPocket=u("<div>").addClass("dx-scrollview-top-pocket"),this._$pullDown=u("<div>").addClass("dx-scrollview-pull-down"),this._$topPocket.append(this._$pullDown),this._$content.prepend(this._$topPocket)}_initBottomPocket(){this._$bottomPocket=u("<div>").addClass("dx-scrollview-bottom-pocket"),this._$reachBottom=u("<div>").addClass("dx-scrollview-scrollbottom");const e=u("<div>").addClass("dx-scrollview-scrollbottom-indicator"),t=u("<div>")[0],n=new Mn(t).$element();this._$reachBottomText=u("<div>").addClass("dx-scrollview-scrollbottom-text"),this._updateReachBottomText(),this._$reachBottom.append(e.append(n)).append(this._$reachBottomText),this._$bottomPocket.append(this._$reachBottom),this._$content.append(this._$bottomPocket)}_initLoadPanel(){const e=u("<div>").addClass(dR).appendTo(this.$element()),{refreshingText:t}=this.option();this._loadPanel=this._createComponent(e,Sv,{shading:!1,delay:400,message:t,position:{of:this.$element()}})}_updateReachBottomText(){const{reachBottomText:e}=this.option();this._$reachBottomText.text(e)}_createStrategy(){const{useNative:e,refreshStrategy:t}=this.option(),s=uR[(e?t:"simulated")??"pullDown"];this._strategy=new s(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))}_createActions(){super._createActions(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()}_tryRefreshPocketState(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))}on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const o=super.on.apply(this,[e,...n]);return(e==="pullDown"||e==="reachBottom")&&this._tryRefreshPocketState(),o}_pullDownEnable(e){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(e),this._strategy.pullDownEnable(e),this._pullDownEnabled=e)}_reachBottomEnable(e){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(e),this._strategy.reachBottomEnable(e),this._reachBottomEnabled=e)}_pullDownHandler(){this._loadingIndicator(!1),this._pullDownLoading()}_loadingIndicator(e){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=e}_pullDownLoading(){var e;this.startLoading(),(e=this._pullDownAction)===null||e===void 0||e.call(this)}_reachBottomHandler(){this._loadingIndicator(!1),this._reachBottomLoading()}_reachBottomLoading(){var e;this.startLoading(),(e=this._reachBottomAction)===null||e===void 0||e.call(this)}_releaseHandler(){this.finishLoading(),this._loadingIndicator(!0)}_optionChanged(e){switch(e.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:super._optionChanged(e)}}content(){return ae(this._$content.children().eq(1))}release(e){return e!==void 0&&this.toggleLoading(!e),this._strategy.release()}toggleLoading(e){this._reachBottomEnable(e)}refresh(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())}startLoading(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()}finishLoading(){this._loadPanel.hide(),this._unlock()}isBottomReached(){return this._strategy.isBottomReached()}_dispose(){this._strategy.dispose(),super._dispose(),this._loadPanel&&this._loadPanel.$element().remove()}}ve("dxScrollView",Rv?Pv:$v);const hR=Rv?Pv:$v;function pR(i){return i?Number(i.replace("px","")):0}function mR(i){var e,t;return i&&te()?(e=(t=we()).getComputedStyle)===null||e===void 0?void 0:e.call(t,i):null}function fR(i,e){const t=mR(i);return t?pR(t[`margin${$s(e)}`]):0}const _R="dx-list-select-checkbox",gR="dx-list-select-radiobutton";function vR(){return hR}class Bv extends Md{_feedbackShowTimeout(){return 70}_supportedKeys(){return C({},super._supportedKeys(),{leftArrow:M,rightArrow:M,pageUp(e){this._moveFocusPerPage(e,"prev")},pageDown(e){this._moveFocusPerPage(e,"next")}})}_moveFocusPerPage(e,t){if(this._isLastItemFocused(t))return;e.preventDefault(),e.stopPropagation();let n=this._getEdgeVisibleItem(t);const{focusedElement:s}=this.option();n.is(u(s))&&(this.scrollTo(this._getItemLocation(n,t)),n=this._getEdgeVisibleItem(t)),this.option("focusedElement",ae(n)),this.scrollToItem(n)}_isLastItemFocused(e){const t=e==="prev"?this._itemElements().first():this._itemElements().last(),{focusedElement:n}=this.option();return t.is(u(n))}_getNextItem(e,t){const n=this._getAvailableItems(),s=n.index(e);return u(t==="prev"?n[s-1]:n[s+1])}_getEdgeVisibleItem(e){const t=this.scrollTop(),n=Oe(this.$element()),{focusedElement:s}=this.option();let o=u(s),r=!0;if(!o.length)return u();for(;r;){var a;const l=this._getNextItem(o,e);if(!l.length)break;const c=(((a=l.position())===null||a===void 0?void 0:a.top)??0)+He(l)/2;r=c<n+t&&c>t,r&&(o=l)}return o}_getItemLocation(e,t){return t==="prev"?e.position().top-Oe(this.$element())+He(e):e.position().top}_getDefaultOptions(){return C({},super._getDefaultOptions(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,selectByClick:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:F.format("dxList-pullingDownText"),pulledDownText:F.format("dxList-pulledDownText"),refreshingText:F.format("dxList-refreshingText"),pageLoadingText:F.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:F.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:e=>e?.showChevron,badgeExpr:e=>e?.badge,_onItemsRendered:()=>{}})}_defaultOptionsRules(){const e=ke();return super._defaultOptionsRules().concat(Mv(),[{device:()=>!Mt.nativeScrolling,options:{useNativeScrolling:!1}},{device:t=>!Mt.nativeScrolling&&!B.isSimulator()&&B.real().deviceType==="desktop"&&t.platform==="generic",options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>wt(e),options:{useInkRipple:!0}},{device:()=>si(e),options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:""}}])}_visibilityChanged(e){e&&this._updateLoadingState(!0)}_itemClass(){return"dx-list-item"}_itemDataKey(){return"dxListItemData"}_itemContainer(){return this._$container}_getItemsContainer(){return this._$listContainer}_cleanItemContainer(){super._cleanItemContainer();const e=this._getItemsContainer();u(e).empty(),e.appendTo(this._$container)}_saveSelectionChangeEvent(e){this._selectionChangeEventInstance=e}_getSelectionChangeEvent(){return this._selectionChangeEventInstance}_refreshItemElements(){const{grouped:e}=this.option(),t=this._getItemsContainer();e?this._itemElementsCache=t.children(".dx-list-group").children(".dx-list-group-body").children(this._itemSelector()):this._itemElementsCache=t.children(this._itemSelector())}_getItemAndHeaderElements(){const t=`${`> .dx-list-group-body > ${this._itemSelector()}`}, > .dx-list-group-header`;return this._getItemsContainer().children(".dx-list-group").find(t)}_getAvailableItems(e){const{collapsibleGroups:t}=this.option();return t?this._getItemAndHeaderElements().filter(((s,o)=>u(o).hasClass("dx-list-group-header")?!0:!u(o).closest(".dx-list-group").hasClass("dx-list-group-collapsed"))):super._getAvailableItems(e)}_modifyByChanges(e,t){super._modifyByChanges(e,t),this._refreshItemElements(),this._updateLoadingState(!0)}reorderItem(e,t){return super.reorderItem(e,t).done((()=>{this._refreshItemElements()}))}deleteItem(e){return super.deleteItem(e).done((()=>{this._refreshItemElements()}))}_itemElements(){return this._itemElementsCache}_itemSelectHandler(e){const{selectionMode:t}=this.option();if(t==="single"&&this.isItemSelected(e.currentTarget))return;const s=u(e.target).closest(`.${_R}`).length||u(e.target).closest(`.${gR}`).length;return s&&this.option("focusedElement",ae(u(e.currentTarget))),super._itemSelectHandler(e,s)}_allowDynamicItemsAppend(){return!0}_activeStateUnit(){const{collapsibleGroups:e}=this.option(),t=[".dx-list-item",".dx-list-select-all"];return e&&t.push(".dx-list-group-header"),t.join(",")}_init(){super._init(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._$listContainer=u("<div>").addClass("dx-list-items"),this._initScrollView(),this._createGroupRenderAction()}_scrollBottomMode(){const{pageLoadMode:e}=this.option();return e==="scrollBottom"}_nextButtonMode(){const{pageLoadMode:e}=this.option();return e==="nextButton"}_dataSourceOptions(){const e=this._scrollBottomMode(),t=this._nextButtonMode();return C({},super._dataSourceOptions(),{paginate:Be(e||t,!0)})}_getSpecificDataSourceOption(){const{grouped:e}=this.option(),t=this.option("dataSource");return t&&e?yv(t):t}_getGroupContainerByIndex(e){return this._getItemsContainer().find(".dx-list-group").eq(e).find(".dx-list-group-body")}_dataSourceFromUrlLoadMode(){return"raw"}_initScrollView(){const{height:e,width:t,disabled:n,showScrollbar:s,useNativeScrolling:o,bounceEnabled:r,scrollByContent:a,scrollByThumb:l,pullingDownText:c,pulledDownText:d,refreshingText:h,pageLoadingText:p,scrollingEnabled:m,pullRefreshEnabled:g}=this.option(),f=m&&g,v=m&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),vR(),{height:e,width:t,disabled:n||!m,onScroll:w=>{this._scrollHandler(w)},onPullDown:f?this._pullDownHandler.bind(this):null,onReachBottom:v?this._scrollBottomHandler.bind(this):null,showScrollbar:s,useNative:o,bounceEnabled:r,scrollByContent:a,scrollByThumb:l,pullingDownText:c,pulledDownText:d,refreshingText:h,reachBottomText:p,useKeyboard:!1}),this._$container=u(this._scrollView.content()),this._$listContainer.appendTo(this._$container);const{wrapItemText:b}=this.option();this._toggleWrapItemText(b),this._createScrollViewActions()}_toggleWrapItemText(e){this._$listContainer.toggleClass("dx-wrap-item-text",e)}_createScrollViewActions(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")}_scrollHandler(e){var t;(t=this._scrollAction)===null||t===void 0||t.call(this,e)}_initTemplates(){this._templateManager.addDefaultTemplates({group:new so(((e,t)=>{J(t)?t.key&&e.text(t.key):e.text(String(t))}),["key"],this.option("integrationOptions.watchMethod"))}),super._initTemplates()}_prepareDefaultItemTemplate(e,t){if(super._prepareDefaultItemTemplate(e,t),e.icon){const n=Dc(e.icon);if(!n)return;const s=n.addClass("dx-list-item-icon"),o=u("<div>").addClass("dx-list-item-icon-container");o.append(s),t.prepend(o)}}_getBindableFields(){return["text","html","icon"]}_updateLoadingState(e){const t=this._dataController,n=this._scrollBottomMode(),s=t.isLoading(),o=this._isLastPage(),r=n&&!!e&&!s&&!o;this._shouldContinueLoading(r)?this._infiniteDataLoading():(this._scrollView.release(!r&&!t.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))}_shouldRenderNextButton(){return this._nextButtonMode()&&this._dataController.isLoaded()}_isDataSourceFirstLoadCompleted(e){return y(e)&&(this._isFirstLoadCompleted=e),this._isFirstLoadCompleted}_dataSourceLoadingChangedHandler(e){if(this._loadIndicationSuppressed())return;const{indicateLoading:t}=this.option();if(e&&t)this._showLoadingIndicatorTimer=setTimeout((()=>{if(!!this._itemElements().length||this._isDataSourceFirstLoadCompleted()){var r;(r=this._scrollView)===null||r===void 0||r.startLoading()}}));else{var n;clearTimeout(this._showLoadingIndicatorTimer),(n=this._scrollView)===null||n===void 0||n.finishLoading()}e||this._isDataSourceFirstLoadCompleted(!1)}_dataSourceChangedHandler(e,t){if(!this._shouldAppendItems()&&te()){var n;(n=this._scrollView)===null||n===void 0||n.scrollTo(0)}super._dataSourceChangedHandler(e,t),this._isDataSourceFirstLoadCompleted(!0)}_refreshContent(){this._prepareContent(),this._fireContentReadyAction()}_hideLoadingIfLoadIndicationOff(){const{indicateLoading:e}=this.option();e||this._dataSourceLoadingChangedHandler(!1)}_loadIndicationSuppressed(e){return arguments.length&&(this._isLoadIndicationSuppressed=e),this._isLoadIndicationSuppressed}_scrollViewIsFull(){const e=this._scrollView;return!e||Oe(e.content())>Oe(e.container())}_pullDownHandler(){var e;const t={component:this,element:this.element()};(e=this._pullRefreshAction)===null||e===void 0||e.call(this,t);const n=this._dataController;n.getDataSource()&&!n.isLoading()?(this._clearSelectedItems(),n.pageIndex(0),n.reload()):this._updateLoadingState()}_shouldContinueLoading(e){var t;if(!e)return!1;const n=this._scrollView.content(),s=this._scrollView.container(),o=Oe(n),r=Oe(s),a=((t=this._scrollView.scrollOffset())===null||t===void 0?void 0:t.top)??0,l=o-r<a,c=this._scrollViewIsFull();return e&&!c||l}_infiniteDataLoading(){this.$element().is(":visible")&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout((()=>{this._loadNextPage()})))}_scrollBottomHandler(e){var t;(t=this._pageLoadingAction)===null||t===void 0||t.call(this,e),!this._dataController.isLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()}_renderItems(e){const{grouped:t}=this.option();t?(S(e,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),wt(ke())&&this.attachGroupHeaderInkRippleEvents()):super._renderItems(e),this._refreshItemElements(),this._updateLoadingState(!0)}_postProcessRenderItems(){const{_onItemsRendered:e}=this.option();e?.()}_attachGroupCollapseEvent(){const{collapsibleGroups:e}=this.option(),t=k(ft,this.NAME),n=this.$element();n.toggleClass("dx-list-collapsible-groups",e),_.off(n,t,".dx-list-group-header"),e&&_.on(n,t,".dx-list-group-header",(s=>{this._processGroupCollapse(s)}))}_processGroupCollapse(e){this._createAction((n=>{var s;const{focusStateEnabled:o}=this.option(),r=u((s=n.event)===null||s===void 0?void 0:s.currentTarget).parent();if(this._collapseGroupHandler(r),o){const a=ae(r.find(".dx-list-group-header"));this.option({focusedElement:a})}}),{validatingTargetName:"element"})({event:e})}_enterKeyHandler(e){const{collapsibleGroups:t,focusedElement:n}=this.option(),s=u(n).hasClass("dx-list-group-header");if(t&&s){const o=this._getHandlerExtendedParams(e,u(n));this._processGroupCollapse(o);return}super._enterKeyHandler(e)}_collapseGroupHandler(e,t){const n=A(),s=e.children(".dx-list-group-header"),o=e.hasClass("dx-list-group-collapsed");if(this._updateGroupHeaderAriaExpanded(s,o),o===t)return n.resolve();const r=e.children(".dx-list-group-body"),a=He(r);let l=0;o&&(Jx(r,"auto"),l=He(r)),e.toggleClass("dx-list-group-collapsed",t);const c=r.get(0);return Te.isAnimating(c)&&Te.stop(c,!1),Te.animate(c,{type:"custom",from:{height:a},to:{height:l},duration:200,complete:()=>{this.updateDimensions(),this._updateLoadingState(!0),n.resolve()}}),n.promise()}_dataSourceLoadErrorHandler(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())}_initMarkup(){this._itemElementsCache=u(),this.$element().addClass("dx-list"),super._initMarkup();const{useInkRipple:e}=this.option();e&&this._renderInkRipple();const t={role:"group",roledescription:F.format("dxList-ariaRoleDescription")};this.setAria(t,this.$element()),this.setAria({role:"application"},this._focusTarget()),this._setListAria()}_setListAria(){const{items:e,allowItemDeleting:t,collapsibleGroups:n}=this.option(),s=t?F.format("dxList-listAriaLabel-deletable"):F.format("dxList-listAriaLabel"),o=e?.length&&!n,r={role:o?"listbox":void 0,label:o?s:void 0};this.setAria(r,this._$listContainer)}_focusTarget(){return this._itemContainer()}_renderInkRipple(){this._inkRipple=S_()}_toggleActiveState(e,t,n){if(super._toggleActiveState(e,t),!this._inkRipple)return;const s={element:e,event:n};t?wt(ke())?this._inkRippleTimer=setTimeout((()=>{var o;(o=this._inkRipple)===null||o===void 0||o.showWave(s)}),35):this._inkRipple.showWave(s):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(s))}_postprocessRenderItem(e){this._refreshItemElements(),super._postprocessRenderItem(e);const{_swipeEnabled:t}=this.option();t&&this._attachSwipeEvent(u(e.itemElement))}_getElementClassToSkipRefreshId(){return"dx-list-group-header"}_attachSwipeEvent(e){const t=k(Sd,this.NAME);_.on(e,t,(n=>{this._itemSwipeEndHandler(n)}))}_itemSwipeEndHandler(e){this._itemDXEventHandler(e,"onItemSwipe",{direction:e.offset<0?"left":"right"})}_nextButtonHandler(){var e;const t={component:this,element:this.element()};(e=this._pageLoadingAction)===null||e===void 0||e.call(this,t);const n=this._dataController;if(n.getDataSource()&&!n.isLoading()){var s;this._scrollView.toggleLoading(!0),(s=this._$nextButton)===null||s===void 0||s.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage()}}_setGroupAria(e,t){const{collapsibleGroups:n}=this.option(),s={role:n?void 0:"group",labelledby:n?void 0:t};this.setAria(s,e)}_updateGroupHeaderAriaExpanded(e,t){this.setAria({expanded:t},e)}_setGroupHeaderAria(e,t){const{collapsibleGroups:n}=this.option(),s={role:n?"button":void 0,expanded:n?!0:void 0,controls:n?t:void 0};this.setAria(s,e)}_setGroupBodyAria(e,t){const{collapsibleGroups:n}=this.option(),s={role:n?"listbox":void 0,labelledby:n?t:void 0};this.setAria(s,e)}_renderGroup(e,t){var n;const s=u("<div>").addClass("dx-list-group").appendTo(this._getItemsContainer()),o=`dx-${new $e().toString()}`,r=u("<div>").addClass("dx-list-group-header").attr("id",o).appendTo(s),{groupTemplate:a}=this.option(),l=this._getTemplate(t.template??a,t,e,r),c={index:e,itemData:t,container:ae(r)};this._createItemByTemplate(l,c),u("<div>").addClass("dx-list-group-header-indicator").prependTo(r);const d=`dx-${new $e().toString()}`,h=u("<div>").addClass("dx-list-group-body").attr("id",d).appendTo(s),p=et("items");S(p(t)||[],((m,g)=>{this._renderItem({group:e,item:m},g,h)})),(n=this._groupRenderAction)===null||n===void 0||n.call(this,{groupElement:ae(s),groupIndex:e,groupData:t}),this._setGroupAria(s,o),this._setGroupHeaderAria(r,d),this._setGroupBodyAria(h,o)}downInkRippleHandler(e){this._toggleActiveState(u(e.currentTarget),!0,e)}upInkRippleHandler(e){this._toggleActiveState(u(e.currentTarget),!1,e)}attachGroupHeaderInkRippleEvents(){const e=".dx-list-group-header",t=this.$element();this._downInkRippleHandler=this._downInkRippleHandler??this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler??this.upInkRippleHandler.bind(this),_.off(t,Ae.down,e,this._downInkRippleHandler),_.on(t,Ae.down,e,this._downInkRippleHandler),_.off(t,[Ae.up,Ae.out].join(" "),e,this._upInkRippleHandler),_.on(t,[Ae.up,Ae.out].join(" "),e,this._upInkRippleHandler)}_createGroupRenderAction(){this._groupRenderAction=this._createActionByOption("onGroupRendered")}_clean(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),super._clean()}_dispose(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),super._dispose()}_toggleDisabledState(e){super._toggleDisabledState(e);const{scrollingEnabled:t}=this.option();this._scrollView.option("disabled",e||!t)}_toggleNextButton(e){const t=this._dataController,n=this._getNextButton();this.$element().toggleClass("dx-has-next",e),e&&t.isLoaded()&&n.appendTo(this._itemContainer()),e||n.detach()}_getNextButton(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton}_createNextButton(){const e=u("<div>").addClass("dx-list-next-button"),t=u("<div>").appendTo(e),{nextButtonText:n}=this.option();return this._createComponent(t,Dt,{text:n,onClick:()=>{this._nextButtonHandler()},type:si(ke())?"default":void 0,integrationOptions:{}}),e}_moveFocus(e){super._moveFocus(e);const{focusedElement:t}=this.option();t&&this.scrollToItem(t)}_refresh(){if(!te())super._refresh();else{const e=this._scrollView.scrollTop();super._refresh(),e&&this._scrollView.scrollTo(e)}}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"pageLoadMode":this._toggleNextButton(!!n),this._initScrollView();break;case"dataSource":super._optionChanged(e),this._initScrollView(),this._updateLoadingState(!0),this._isDataSourceFirstLoadCompleted(!1);break;case"items":super._optionChanged(e),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState(!0);break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":case"grouped":case"groupTemplate":case"collapsibleGroups":case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"wrapItemText":this._toggleWrapItemText(n);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":super._optionChanged(e),this._scrollView.option(t,n),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":super._optionChanged(e),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),super._optionChanged(e);break;case"_swipeEnabled":case"_onItemsRendered":case"selectByClick":break;default:super._optionChanged(e)}}_extendActionArgs(e){const{grouped:t}=this.option();if(!t)return super._extendActionArgs(e);const n=e.closest(".dx-list-group"),s=n.find(".dx-list-item");return C({},super._extendActionArgs(e),{itemIndex:{group:n.index(),item:s.index(e)}})}expandGroup(e){const t=A(),n=this._getItemsContainer().find(".dx-list-group").eq(e);return this._collapseGroupHandler(n,!1).done((()=>{t.resolveWith(this)})),t.promise()}collapseGroup(e){const t=A(),n=this._getItemsContainer().find(".dx-list-group").eq(e);return this._collapseGroupHandler(n,!0).done((()=>{t.resolveWith(this)})),t}updateDimensions(){const e=A();return this._scrollView?this._scrollView.update().done((()=>{this._scrollViewIsFull()||this._updateLoadingState(!0),e.resolveWith(this)})):e.resolveWith(this),e.promise()}reload(){super.reload(),this.scrollTo(0),this._pullDownHandler()}repaint(){this.scrollTo(0),super.repaint()}scrollTop(){return this._scrollView.scrollOffset().top??0}clientHeight(){return this._scrollView.clientHeight()}scrollHeight(){return this._scrollView.scrollHeight()}scrollBy(e){this._scrollView.scrollBy(e)}scrollTo(e){this._scrollView.scrollTo(e)}scrollToItem(e){if(!y(e))return;const t=this._editStrategy.getItemElement(e);this._scrollView.scrollToElement(t,{bottom:fR(t?.get(0),"bottom")})}_dimensionChanged(){this.updateDimensions()}}Bv.ItemClass=GM;const Vv=[],ba=i=>{let{enabled:e,decoratorType:t,decoratorSubType:n}=i;Vv.push({enabled:e,decoratorType:t,decoratorSubType:n})};ba({enabled(){const{menuItems:i}=this.option();return!!i.length},decoratorType:()=>"menu",decoratorSubType(){const{menuMode:i}=this.option();return i}}),ba({enabled(){const{menuItems:i,allowItemDeleting:e}=this.option();return!!(!i.length&&e)},decoratorType(){const{itemDeleteMode:i}=this.option();return["toggle","slideButton","swipe","static"].includes(i)?"delete":"menu"},decoratorSubType(){let{itemDeleteMode:i}=this.option();return i==="slideItem"&&(i="slide"),i}}),ba({enabled(){const{selectionMode:i,showSelectionControls:e}=this.option();return!!(i!=="none"&&e)},decoratorType:()=>"selection",decoratorSubType:()=>"default"}),ba({enabled(){const{itemDragging:i}=this.option();return!!(i.allowReordering||i.allowDropInsideItem||i.group)},decoratorType:()=>"reorder",decoratorSubType:()=>"default"});class xR{constructor(e){this._list=e,this._decorators=[],this._fetchRequiredDecorators()}dispose(){var e;(e=this._decorators)!==null&&e!==void 0&&e.length&&S(this._decorators,((t,n)=>{n.dispose()}))}_fetchRequiredDecorators(){S(Vv,((e,t)=>{if(t.enabled.call(this._list)){const s=t.decoratorType.call(this._list),o=t.decoratorSubType.call(this._list),r=this._createDecorator(s,o);this._decorators.push(r)}}))}_createDecorator(e,t){const n=this._findDecorator(e,t);return new n(this._list)}_findDecorator(e,t){var n;const s=(n=ga[e])===null||n===void 0?void 0:n[t];if(!s)throw Ne.Error("E1012",e,t);return s}modifyItemElement(e){const t=u(e.itemElement),n={$itemElement:t,$container:u()};this._prependBeforeBags(t,n),this._appendAfterBags(t,n),this._applyDecorators("modifyElement",n)}afterItemsRendered(){this._applyDecorators("afterRender")}_prependBeforeBags(e,t){const n=this._collectDecoratorsMarkup("beforeBag",t,"dx-list-item-before-bag");e.prepend(n)}_appendAfterBags(e,t){const n=this._collectDecoratorsMarkup("afterBag",t,"dx-list-item-after-bag");e.append(n)}_collectDecoratorsMarkup(e,t,n){var s;const o=u("<div>");return(s=this._decorators)===null||s===void 0||s.forEach((r=>{if(L(r[e])){const a=u("<div>").addClass(n);r[e](C({},t,{$container:a})),a.children().length&&o.append(a)}})),o.children()}_applyDecorators(e,t){var n;(n=this._decorators)===null||n===void 0||n.forEach((s=>{s[e](t)}))}_handlerExists(e){if(!this._decorators)return!1;const t=this._decorators,{length:n}=t;for(let s=0;s<n;s+=1)if(t[s][e]!==M)return!0;return!1}_eventHandler(e){if(!this._decorators)return!1;let t=!1;const n=this._decorators,{length:s}=n;for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];for(let l=0;l<s&&(t=n[l][e](...r),!t);l+=1);return t}handleClick(e,t){return this._eventHandler("handleClick",e,t)}handleKeyboardEvents(e,t){return this._eventHandler("handleKeyboardEvents",e,t)}handleEnterPressing(e){return this._eventHandler("handleEnterPressing",e)}contextMenuHandlerExists(){return this._handlerExists("handleContextMenu")}handleContextMenu(e,t){return this._eventHandler("handleContextMenu",e,t)}getExcludedItemSelectors(){const e=[];return this._applyDecorators("getExcludedSelectors",e),e.join(",")}}const Hd=i=>(i.group<<20)+i.item,sn=i=>({group:i>>20,item:1048575&i});class yR extends Xm{_groupElements(){return this._collectionWidget._itemContainer().find(".dx-list-group")}_groupItemElements(e){return e.find(".dx-list-item")}getIndexByItemData(e){const t=this._getItems();let n=Ci;if(!e)return Ci;const{items:s=[]}=e;return s.length&&(e=s[0]),S(t,((o,r)=>r.items?(S(r.items,((a,l)=>l!==e?!0:(n={group:o,item:a},!1))),!Ft(n)):!1)),n}_isIndexNumeric(e){return Le(e)}getItemDataByIndex(e){const t=this._getItems();if(this._isIndexNumeric(e))return this.itemsGetter()[e];const n=e.group,s=t[n],{items:o=[]}=s;return e&&o[e.item]||null}itemsGetter(){let e=[];return this._getItems().forEach((n=>{n.items?e=e.concat(n.items):e.push(n)})),e}deleteItemAtIndex(e){const t=sn(e),{items:n=[]}=this._collectionWidget.option(),s=n[t.group].items;s?.splice(t.item,1)}getKeysByItems(e){return e.reduce(((n,s)=>s!=null&&s.items?n.concat(s.items):(n.push(s),n)),[]).map((n=>this._collectionWidget.keyOf(n)))}getIndexByKey(e,t){const{items:n}=this._collectionWidget.option(),s=t??n;let o=-1;return S(s,((r,a)=>{if(a.items&&(S(a.items,((l,c)=>{const d=this._collectionWidget.keyOf(c);if(this._equalKeys(d,e))return o={group:r,item:l},!1})),o!==-1))return!1})),typeof o=="object"?Hd(o):o}_getGroups(e){const n=this._collectionWidget._dataController.group();if(n)return sr.queryByOptions(Vi(e),{group:n}).toArray();const{items:s=[]}=this._collectionWidget.option();return s}getItemsByKeys(e,t){const n=[],s=this._getGroups(t),o={},r=a=>{const l=this.getIndexByKey(a,s),c=sn(l),d=c&&s[c.group];if(d)return{groupKey:String(d.key),item:d.items[c.item]}};return S(e,((a,l)=>{var c;const d=r(l);if(!d)return;const{groupKey:h,item:p}=d;let m=o[h];m||(m={key:h,items:[]},o[h]=m,n.push(m)),(c=m.items)===null||c===void 0||c.push(p)})),n}moveItemAtIndexToIndex(e,t){const{items:n=[]}=this._collectionWidget.option(),s=sn(e),o=sn(t),r=n[s.group].items,a=n[o.group].items;if(r){const l=r?.[s.item];r?.splice(s.item,1),a?.splice(o.item,0,l)}}_isItemIndex(e){return!!(e&&Le(e.group)&&Le(e.item))}_getNormalizedItemIndex(e){const t=u(e),n=t.closest(".dx-list-group");return n.length?Hd({group:this._groupElements().index(n),item:this._groupItemElements(n).index(t)}):-1}_normalizeItemIndex(e){return Hd(e)}_denormalizeItemIndex(e){return sn(e)}_getItemByNormalizedIndex(e){const t=sn(e),n=this._groupElements().eq(t.group);return this._groupItemElements(n).eq(t.item)}_itemsFromSameParent(e,t){return sn(e).group===sn(t).group}}class CR extends Bv{_supportedKeys(){const e=super._supportedKeys(),t=(n,s)=>{const{focusedElement:o,itemDragging:r,grouped:a}=this.option(),l=this._editStrategy,c=l.getNormalizedIndex(o);if(!(c===this._getLastItemIndex()&&this._dataController.isLoading()))if(n.shiftKey&&r!==null&&r!==void 0&&r.allowReordering){const h=c+(s?-1:1),p=l.getItemElement(h);a&&u(o).parent().get(0)!==p.parent().get(0)||(this.reorderItem(u(o).get(0),p.get(0)),this.scrollToItem(u(o))),n.preventDefault()}else this._editProvider.handleKeyboardEvents(c,s)||(s?e.upArrow(n):e.downArrow(n))};return C({},e,{del:n=>{const{allowItemDeleting:s,focusedElement:o}=this.option();s&&o&&(n.preventDefault(),this.deleteItem(o))},upArrow:n=>t(n,!0),downArrow:n=>t(n),enter:n=>{this._editProvider.handleEnterPressing(n)||e.enter.apply(this,[n])},space:n=>{this._editProvider.handleEnterPressing(n)||e.space.apply(this,[n])}})}_updateSelection(){this._editProvider.afterItemsRendered(),super._updateSelection()}_getLastItemIndex(){return this._itemElements().length-1}_refreshItemElements(){super._refreshItemElements();const e=this._editProvider.getExcludedItemSelectors();e.length&&(this._itemElementsCache=this._itemElementsCache.not(e))}_isItemStrictEquals(e,t){const n=e?.[bv];return n&&!this.key()&&this._selection.isItemSelected(n)?!1:super._isItemStrictEquals(e,t)}_getDefaultOptions(){return C({},super._getDefaultOptions(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:F.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:e=>e.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])}_init(){super._init(),this._initEditProvider()}_initDataSource(){if(super._initDataSource(),!this._isPageSelectAll()){var e;(e=this._dataSource)===null||e===void 0||e.requireTotalCount(!0)}}_isPageSelectAll(){const{selectAllMode:e}=this.option();return e==="page"}_initEditProvider(){this._editProvider=new xR(this)}_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()}_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()}_initEditStrategy(){const{grouped:e}=this.option();e?this._editStrategy=new yR(this):super._initEditStrategy()}_initMarkup(){this._refreshEditProvider(),super._initMarkup()}_renderItems(e){super._renderItems(e),this._editProvider.afterItemsRendered()}_renderItem(e,t,n,s){const{showSelectionControls:o,selectionMode:r}=this.option(),a=super._renderItem(e,t,n,s);return o&&r!=="none"&&this._updateItemAriaLabel(a,t),a}_updateItemAriaLabel(e,t){var n;const s=((n=this._displayGetter)===null||n===void 0?void 0:n.call(this,t))??t?.text??t;this.setAria("label",X(s)?F.format("dxList-listAriaLabel-itemContent"):s,e)}_selectedItemClass(){return"dx-list-item-selected"}_itemResponseWaitClass(){return"dx-list-item-response-wait"}_itemClickHandler(e,t,n){const s=u(e.currentTarget);s.is(".dx-state-disabled, .dx-state-disabled *")||this._editProvider.handleClick(s,e)||(this._saveSelectionChangeEvent(e),super._itemClickHandler(e,t,n))}_shouldFireContextMenuEvent(){return super._shouldFireContextMenuEvent()||this._editProvider.contextMenuHandlerExists()}_itemHoldHandler(e){const t=u(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *"))return;if(_r(e)&&this._editProvider.handleContextMenu(t,e)){e.handledByEditProvider=!0;return}super._itemHoldHandler(e)}_itemContextMenuHandler(e){const t=u(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *"))return;if(!e.handledByEditProvider&&this._editProvider.handleContextMenu(t,e)){e.preventDefault();return}super._itemContextMenuHandler(e)}_postprocessRenderItem(e){super._postprocessRenderItem(e),this._editProvider.modifyItemElement(e)}_clean(){this._disposeEditProvider(),super._clean()}focusListItem(e){const t=this._editStrategy.getItemElement(e);this.option("focusedElement",ae(t)),this.focus(),this.scrollToItem(t)}_getFlatIndex(){const{selectedIndex:e=Ci}=this.option();if(Le(e)||!e)return e;const t=this._editStrategy.getItemElement(e);return this.getFlatIndexByItemElement(t)}_optionChanged(e){const{name:t}=e;switch(t){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),this._initEditStrategy(),super._optionChanged(e);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:super._optionChanged(e)}}selectAll(){return this._selection.selectAll(this._isPageSelectAll())}unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())}isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())}getFlatIndexByItemElement(e){return this._itemElements().index(e)}getItemElementByFlatIndex(e){const t=this._itemElements();return e<0||e>=t.length?u():t.eq(e)}getItemByIndex(e){return this._editStrategy.getItemDataByIndex(e)}deleteItem(e){const t=this._editStrategy,n=t.getNormalizedIndex(e),{focusedElement:s,focusStateEnabled:o}=this.option(),r=s?t.getNormalizedIndex(s):n,l=r===this._getLastItemIndex()||n<r?r-1:r;return super.deleteItem(e).done((()=>{o&&this.focusListItem(l)}))}}class Nd extends CR{_getCombinedFilter(){const e=this._dataController,t={filter:e.filter()};e.addSearchFilter(t);const{filter:n}=t;return n}_getDefaultOptions(){return C({},super._getDefaultOptions(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})}_getSearchBoxControllerOptions(){const{tabIndex:e,searchEnabled:t,searchValue:n,searchTimeout:s,searchEditorOptions:o}=this.option();return{tabIndex:e,searchEnabled:t,searchValue:n,searchTimeout:s,searchEditorOptions:o,onValueChanged:r=>{this.option("searchValue",r)}}}_initDataSource(){const{searchValue:e,searchExpr:t,searchMode:n}=this.option();super._initDataSource();const s=this._dataController;e!=null&&e.length&&s.searchValue(e),n!=null&&n.length&&s.searchOperation(Cv(n)),t&&s.searchExpr(t)}_init(){this._searchBoxController=new Oo,super._init()}_initMarkup(){this._searchBoxController.render("dx-list",this.$element(),this._getSearchBoxControllerOptions(),this._createComponent.bind(this)),super._initMarkup()}_getAriaTarget(){const{searchEnabled:e}=this.option();return e?this._itemContainer():super._getAriaTarget()}focus(){const{focusedElement:e,searchEnabled:t}=this.option();if(!e&&t){var n;(n=this._searchBoxController)===null||n===void 0||n.focus();return}super.focus()}_focusTarget(){const{searchEnabled:e}=this.option();return e?this._itemContainer():super._focusTarget()}_updateFocusState(e,t){const{searchEnabled:n}=this.option();n&&this._toggleFocusClass(t,this.$element()),super._updateFocusState(e,t)}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){Ne.log("W1009");return}t==="searchMode"?this._dataSource.searchOperation(Cv(n)):this._dataSource[t](n),this._dataSource.load();break;case"searchTimeout":break;default:super._optionChanged(e)}}_refresh(){var e;(e=this._searchBoxController)===null||e===void 0||e.resolveValueChange(),super._refresh()}_cleanAria(){const e=this.$element();this.setAria({role:null,activedescendant:null},e),e.attr("tabIndex",null)}_clean(){this._cleanAria(),super._clean()}_dispose(){var e;(e=this._searchBoxController)===null||e===void 0||e.dispose(),super._dispose()}}ve("dxList",Nd);const Lv=we(),bR=["startswith","contains","endwith","notcontains"],Fv=B.real().platform!=="android";class Wd extends od{_supportedKeys(){const e=super._supportedKeys();return C({},e,{tab(t){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(t);const{focusedElement:n}=this._list.option(),s=u(n);s.length&&this._setSelectedElement(s)}e.tab(t)},space:M,home:M,end:M})}_allowSelectItemByTab(){const{opened:e,applyValueMode:t}=this.option();return e&&t==="instantly"}_setSelectedElement(e){const t=this._valueGetter(this._list._getItemData(e));this._setValue(t)}_setValue(e){this.option("value",e)}_getDefaultOptions(){return C({},super._getDefaultOptions(),av._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:F.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:M,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])}_setOptionsByReference(){super._setOptionsByReference(),I(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})}_init(){super._init(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()}_setListFocusedElementOptionChange(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)}_initItems(){const{items:e}=this.option();e&&!e.length&&this._dataSource&&(this.option().items=this._dataSource.items())}_initActions(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()}_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})}_initSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({item:new ym("item")})}_isEditable(){const{searchEnabled:e}=this.option();return super._isEditable()||e}_saveFocusOnWidget(){var e;(e=this._list)!==null&&e!==void 0&&e.initialOption("focusStateEnabled")&&this._focusInput()}_fitIntoRange(e,t,n){return e>n?t:e<t?n:e}_items(){const e=this._getPlainItems(!this._list&&this._dataSource.items());return new Vi(e).filter("disabled","<>",!0).toArray()}_calcNextItem(e){const t=this._items(),n=this._fitIntoRange(this._getSelectedIndex()+e,0,t.length-1);return t[n]}_getSelectedIndex(){const e=this._items(),t=this.option("selectedItem");let n=-1;return S(e,((s,o)=>{if(this._isValueEquals(o,t))return n=s,!1})),n}_createPopup(){super._createPopup(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());const e=this._popup.$content();_.off(e,"mouseup"),_.on(e,"mouseup",this._saveFocusOnWidget.bind(this))}_updateCustomBoundaryContainer(){const e=this.option("dropDownOptions.container"),t=e&&u(e);if(t&&t.length&&!Ve(t.get(0))){const n=[].slice.call(t.parents());n.unshift(t.get(0)),S(n,((s,o)=>{if(o===u("body").get(0))return!1;if(Lv.getComputedStyle(o).overflowY==="hidden")return this._$customBoundaryContainer=u(o),!1}))}}_popupWrapperClass(){return"dx-dropdownlist-popup-wrapper"}_renderInputValue(){var e=this;let{value:t,renderOnly:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=t??this._getCurrentValue();return this._rejectValueLoading(),n?super._renderInputValue(s):this._loadInputValue(s,(function(){e._setSelectedItem(...arguments)})).always(super._renderInputValue.bind(this,s))}_loadInputValue(e,t){return this._loadItem(e).always(t)}_getItemFromPlain(e,t){let n,s;return t&&typeof e!="object"&&(t.itemByValue||(t.itemByValue={},n=this._getPlainItems(),n.forEach((function(o){t.itemByValue[this._valueGetter(o)]=o}),this)),s=t.itemByValue[e]),s||(n=this._getPlainItems(),s=St(n,(o=>this._isValueEquals(this._valueGetter(o),e)))[0]),s}_resetInputText(){this._renderInputValue({renderOnly:!0})}_loadItem(e,t){const n=this._getItemFromPlain(e,t);return n!==void 0?A().resolve(n).promise():this._loadValue(e)}_getPlainItems(e){let t=[];const{grouped:n}=this.option();e=e||this.option("items")||this._dataSource.items()||[];for(let o=0;o<e.length;o++){var s;n&&(s=e[o])!==null&&s!==void 0&&s.items?t=t.concat(e[o].items):t.push(e[o])}return t}_updateActiveDescendant(e){var t;const n=this.option("opened"),s=(t=this._list)===null||t===void 0?void 0:t.getFocusedItemId(),o=u(`#${s}`).length>0,r=n&&o&&s;this.setAria({activedescendant:r||null},e)}_setSelectedItem(e){const t=this._displayValue(e);this.option("selectedItem",Be(e,null)),this.option("displayValue",t)}_displayValue(e){return this._displayGetter(e)}_refreshSelected(){const e={};this._listItemElements().each(((t,n)=>{const s=u(n),o=this._valueGetter(s.data("dxListItemData"));this._isSelectedValue(o,e)?this._list.selectItem(s):this._list.unselectItem(s)}))}_popupShownHandler(){super._popupShownHandler(),this._setFocusPolicy()}_setFocusPolicy(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)}_isSelectedValue(e,t){return this._isValueEquals(e,this.option("value"))}_validateSearchMode(){const e=this.option("searchMode"),t=e.toLowerCase();if(!bR.includes(t))throw Ne.Error("E1019",e)}_clearSelectedItem(){this.option("selectedItem",null)}_processDataSourceChanging(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail((()=>{this._isCustomValueAllowed()||this._clearSelectedItem()}))}_isCustomValueAllowed(){return this.option("displayCustomValue")}clear(){super.clear(),this._clearFilter(),this._clearSelectedItem()}_listItemElements(){return this._$list?this._$list.find(".dx-list-item"):u()}_popupConfig(){return C({},super._popupConfig(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})}_renderPopupContent(){super._renderPopupContent(),this._renderList()}_getKeyboardListeners(){return this._canListHaveFocus()?super._getKeyboardListeners():super._getKeyboardListeners().concat([this._list])}_renderList(){this._listId=`dx-${new $e()._value}`;const e=u("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._$list=e,this._list=this._createComponent(e,Nd,this._listConfig()),this._refreshList(),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()}_renderPreventBlurOnListClick(){const e=k("mousedown","dxDropDownList");_.off(this._$list,e),_.on(this._$list,e,(t=>t.preventDefault()))}_getControlsAria(){return this._list&&this._listId}_renderOpenedState(){super._renderOpenedState(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)}_getAriaHasPopup(){return"listbox"}_refreshList(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()}_shouldRefreshDataSource(){return!!this._list.option("dataSource")!==this._needPassDataSourceToList()}_isDesktopDevice(){return B.real().deviceType==="desktop"}_listConfig(){const{noDataText:e,grouped:t,wrapItemText:n,itemTemplate:s,groupTemplate:o,hoverStateEnabled:r,focusStateEnabled:a,encodeNoDataText:l,useItemTextAsTitle:c}=this.option(),d={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:e,encodeNoDataText:l,grouped:t,wrapItemText:n,useItemTextAsTitle:c,onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:s,indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:o,onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:this._isDesktopDevice()?r:!1,focusStateEnabled:this._isDesktopDevice()?a:!1,_onItemsRendered:()=>{this._popup.repaint()}};return this._canListHaveFocus()||(d.tabIndex=null),d}_canListHaveFocus(){return!1}_getDataSource(){return this._needPassDataSourceToList()?this._dataSource:null}_dataSourceOptions(){return{paginate:!1}}_getSpecificDataSourceOption(){const{grouped:e}=this.option(),t=this.option("dataSource");return t&&e?yv(t):t}_dataSourceFromUrlLoadMode(){return"raw"}_listContentReadyHandler(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()}_setListOption(e,t){this._setWidgetOption("_list",arguments)}_listItemClickAction(e){this._listItemClickHandler(e),this._itemClickAction(e)}_listItemClickHandler(e){}_setListDataSource(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))}_needPassDataSourceToList(){const{showDataBeforeSearch:e}=this.option();return e||this._isMinSearchLengthExceeded()}_isMinSearchLengthExceeded(){return this._searchValue().toString().length>=this.option("minSearchLength")}_needClearFilter(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()}_canKeepDataSource(){const e=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!e&&!this._isLastMinSearchLengthExceeded}_searchValue(){return this._input().val()||""}_getSearchEvent(){return k("input",`${this.NAME}Search`)}_getCompositionStartEvent(){return k("compositionstart",`${this.NAME}CompositionStart`)}_getCompositionEndEvent(){return k("compositionend",`${this.NAME}CompositionEnd`)}_getSetFocusPolicyEvent(){return k("input",`${this.NAME}FocusPolicy`)}_renderEvents(){super._renderEvents(),_.on(this._input(),this._getSetFocusPolicyEvent(),(()=>{this._setFocusPolicy()})),this._shouldRenderSearchEvent()&&(_.on(this._input(),this._getSearchEvent(),(e=>{this._searchHandler(e)})),Fv&&(_.on(this._input(),this._getCompositionStartEvent(),(()=>{this._isTextCompositionInProgress(!0)})),_.on(this._input(),this._getCompositionEndEvent(),(e=>{this._isTextCompositionInProgress(void 0),this._searchHandler(e,this._searchValue())}))))}_shouldRenderSearchEvent(){return this.option("searchEnabled")}_refreshEvents(){_.off(this._input(),this._getSearchEvent()),_.off(this._input(),this._getSetFocusPolicyEvent()),Fv&&(_.off(this._input(),this._getCompositionStartEvent()),_.off(this._input(),this._getCompositionEndEvent())),super._refreshEvents()}_isTextCompositionInProgress(e){if(arguments.length)this._isTextComposition=e;else return this._isTextComposition}_searchHandler(e,t){if(this._isTextCompositionInProgress())return;if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}const{searchTimeout:n}=this.option();n?(this._clearSearchTimer(),this._searchTimer=setTimeout((()=>{this._searchDataSource(t)}),n)):this._searchDataSource(t)}_searchCanceled(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()}_searchDataSource(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(e)}_filterDataSource(e){this._clearSearchTimer();const t=this._dataController;t.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),t.searchOperation(this.option("searchMode")),t.searchValue(e),t.load().done(this._dataSourceFiltered.bind(this,e))}_clearFilter(){const e=this._dataController;e.searchValue()&&e.searchValue(null)}_dataSourceFiltered(e){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()}_shouldOpenPopup(){return this._hasItemsToShow()}_refreshPopupVisibility(){if(this.option("readOnly")||!this._searchValue())return;const e=this._shouldOpenPopup();e&&!this._isFocused()||(this.option("opened",e),e&&(this._updatePopupWidth(),this._updateListDimensions()))}_dataSourceChangedHandler(e){this._dataController.pageIndex()===0?this.option().items=e:this.option().items=this.option().items.concat(e)}_hasItemsToShow(){const n=(this._dataController.items()||[]).length;return!!(this._needPassDataSourceToList()&&n)}_clearSearchTimer(){clearTimeout(this._searchTimer),delete this._searchTimer}_popupShowingHandler(){this._updatePopupWidth(),this._updateListDimensions()}_dimensionChanged(){super._dimensionChanged(),this._updateListDimensions()}_needPopupRepaint(){const e=this._dataController,t=e.pageIndex(),n=y(this._pageIndex)&&t<=this._pageIndex||e.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=t,n}_updateListDimensions(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())}_getMaxHeight(){const e=this.$element(),t=this._$customBoundaryContainer,n=e.offset().top-(t?t.offset().top:0),s=He(Lv),o=t?Math.min(He(t),s):s,r=Math.max(n,o-n-He(e));return Math.min(.5*o,r)}_clean(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,super._clean()}_dispose(){this._clearSearchTimer(),super._dispose()}_setCollectionWidgetOption(){this._setListOption.apply(this,arguments)}_setSubmitValue(){const e=this.option("value"),t=this._shouldUseDisplayValue(e)?this._displayGetter(e):e;this._getSubmitElement().val(t)}_shouldUseDisplayValue(e){return this.option("valueExpr")==="this"&&X(e)}_optionChanged(e){switch(this._dataExpressionOptionChanged(e),e.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(e.name,e.value),super._optionChanged(e);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(e.name);break;case"displayValue":this.option("text",e.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":e.previousValue!==e.value&&this._selectionChangedAction({selectedItem:e.value});break;default:super._optionChanged(e)}}}Wd.include(av),ve("dxDropDownList",Wd);class Hv extends Wd{_supportedKeys(){const e=this,t=super._supportedKeys(),n=function(o){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(o.preventDefault(),this.clear()),this._savedTextRemoveEvent=o,this._preventSubstitution=!0},s=function(){e.option("searchEnabled")&&e._valueSubstituted()&&e._searchHandler()};return C({},t,{tab(){const{opened:o}=this.option(),r=o&&!!this._popup.getFocusableElements().length;r||this._resetCaretPosition(!0),t.tab&&t.tab.apply(this,arguments),r||this._cancelSearchIfNeed()},upArrow(o){if(t.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(o),!0},downArrow(o){if(t.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(o),!0},leftArrow(){var o;s(),(o=t.leftArrow)===null||o===void 0||o.apply(this,arguments)},rightArrow(){var o;s(),(o=t.rightArrow)===null||o===void 0||o.apply(this,arguments)},home(){var o;s(),(o=t.home)===null||o===void 0||o.apply(this,arguments)},end(){var o;s(),(o=t.end)===null||o===void 0||o.apply(this,arguments)},escape(){var o;const r=(o=t.escape)===null||o===void 0?void 0:o.apply(this,arguments);return this._cancelEditing(),r??!0},enter(o){const r=this.option("opened"),a=this._input().val().trim(),l=a&&this._list&&!this._list.option("focusedElement");if(!a&&y(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(o),this.option({selectedItem:null,value:null}),this.close();else{var c;if(this.option("acceptCustomValue"))return o.preventDefault(),l&&(r&&this._toggleOpenState(),this._valueChangeEventHandler(o)),r;if((c=t.enter)!==null&&c!==void 0&&c.apply(this,arguments))return r}},space(o){const r=this.option("opened"),a=this.option("searchEnabled"),l=this.option("acceptCustomValue");if(!(!r||a||l))return o.preventDefault(),this._valueChangeEventHandler(o),!0},backspace:n,del:n})}_getDefaultOptions(){return C({},super._getDefaultOptions(),{placeholder:F.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",acceptCustomValue:!1,onCustomItemCreating(e){y(e.customItem)||(e.customItem=e.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})}_init(){super._init(),this._initCustomItemCreatingAction()}_initMarkup(){this.$element().addClass("dx-selectbox"),this._renderTooltip(),super._initMarkup(),this._$container.addClass("dx-selectbox-container")}_createPopup(){super._createPopup(),this._popup.$element().addClass("dx-selectbox-popup"),this._popup.$overlayContent().attr("tabindex",-1)}_popupWrapperClass(){return`${super._popupWrapperClass()} dx-selectbox-popup-wrapper`}_cancelEditing(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))}_renderOpenedState(){super._renderOpenedState(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())}_focusSelectedElement(){if(!this._searchValue()){this._focusListElement(null);return}const{items:t,selectedItem:n}=this.option(),s=this._list._itemElements(),o=t?.indexOf(n)??-1,r=o!==-1&&!this._isCustomItemSelected()?s.eq(o):null;this._focusListElement(r)}_renderFocusedElement(){if(!this._list)return;if(!this._searchValue()||this.option("acceptCustomValue")){this._focusListElement(null);return}const n=this._list._itemElements().not(".dx-state-disabled").eq(0);this._focusListElement(n)}_focusListElement(e){this._preventInputValueRender=!0,this._list.option("focusedElement",ae(e)),delete this._preventInputValueRender}_scrollToSelectedItem(){if(!this._list)return;const{selectedItem:e}=this._list.option();this._list.scrollToItem(e)}_listContentReadyHandler(){super._listContentReadyHandler(),!(this._dataController.paginate()&&this._needPopupRepaint())&&this._scrollToSelectedItem()}_renderValue(){return this._renderInputValue(),this._setSubmitValue(),A().resolve()}_renderInputValue(){return super._renderInputValue(...arguments).always((()=>{this._renderInputValueAsync()}))}_renderInputValueAsync(){this._renderTooltip(),this._renderInputValueImpl().always((()=>{this._refreshSelected()}))}_renderInputValueImpl(){return this._renderField(),A().resolve()}_setNextItem(e){const t=this._calcNextItem(e),n=this._valueGetter(t);this._setValue(n)}_setNextValue(e){(this._dataController.isLoaded()?A().resolve():this._dataController.load()).done((()=>{const n=this._getSelectedIndex(),s=this._dataController.pageSize(),o=this._dataController.isLastPage(),r=n===this._items().length-1;this._saveValueChangeEvent(e);const a=tt(e)==="downArrow"?1:-1;s&&!o&&r&&a>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,a))):this._setNextItem(a)}))}_setSelectedItem(e){const t=!this._isCustomValueAllowed()&&e===void 0;super._setSelectedItem(t?null:e),!t&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))}_isCustomValueAllowed(){return this.option("acceptCustomValue")||super._isCustomValueAllowed()}_displayValue(e){return e=!y(e)&&this._isCustomValueAllowed()?this.option("value"):e,super._displayValue(e)}_listConfig(){const e=I(super._listConfig(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this),_onItemsRendered:()=>{this._popup.repaint(),this.option("opened")&&this._scrollToSelectedItem()}});return this.option("showSelectionControls")&&I(e,{showSelectionControls:!0,selectByClick:!0}),e}_listFocusedItemChangeHandler(e){if(this._preventInputValueRender)return;const t=e.component,n=u(t.option("focusedElement")),s=t._getItemData(n);this._updateField(s)}_updateField(e){if(!(this._getTemplateByOption("fieldTemplate")&&this.option("fieldTemplate"))){const n=this._displayGetter(e);this.option("text",n),this._renderDisplayText(n);return}this._renderField()}_getSelectionChangeHandler(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):M}_selectionChangeHandler(e){S(e.addedItems||[],((t,n)=>{this._setValue(this._valueGetter(n))}))}_getActualSearchValue(){return this._dataController.searchValue()}_isInlineAutocompleteEnabled(){const{searchEnabled:e,acceptCustomValue:t,searchMode:n}=this.option();return e&&!t&&n==="startswith"}_getAriaAutocomplete(){const{disabled:e,readOnly:t,searchEnabled:n}=this.option();return n&&!(t||e)?this._isInlineAutocompleteEnabled()?"both":"list":"none"}_toggleOpenState(e){if(!this.option("disabled")){if(e=arguments.length?e:!this.option("opened"),!e&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&e)if(this._wasSearch(!1),(this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded())&&this._dataController.getDataSource()){if(this._searchTimer)return;const n=this._getActualSearchValue();n&&this._wasSearch(!0),this._filterDataSource(n||null)}else this._setListOption("items",[]);e&&this._scrollToSelectedItem(),super._toggleOpenState(e)}}_renderTooltip(){const{tooltipEnabled:e,displayValue:t}=this.option();e&&this.$element().attr("title",t)}_renderDimensions(){super._renderDimensions(),this._updatePopupWidth(),this._updateListDimensions()}_isValueEqualInputText(){const e=this.option("selectedItem");if(e===null)return!1;const t=this._displayGetter(e),n=t?String(t):"",s=this._searchValue();return n===s}_popupHidingHandler(){this._isValueEqualInputText()&&this._cancelEditing(),super._popupHidingHandler()}_popupHiddenHandler(){super._popupHiddenHandler(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))}_restoreInputText(e){var t;this.option("readOnly")||(t=this._loadItemDeferred)===null||t===void 0||t.always((()=>{const{acceptCustomValue:n,text:s,selectedItem:o,customItemCreateEvent:r}=this.option();if(n){if(!e&&!this._isValueChanging){let a=null;y(o)?a=o:r!==""&&(a=this._createCustomItem(s)),this._updateField(a),this._clearFilter()}return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always((a=>{const l=Be(a,o);this._setSelectedItem(l),this._updateField(l),this._clearFilter()}))}))}_valueChangeEventIncludesBlur(){return this.option(this._getValueChangeEventOptionName()).includes("blur")}_isPreventedFocusOutEvent(e){return this._preventNestedFocusEvent(e)||this._valueChangeEventIncludesBlur()}_focusOutHandler(e){this._isPreventedFocusOutEvent(e)||(this._isOverlayNestedTarget(e.relatedTarget)||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(e)),e.target=this._input().get(0),super._focusOutHandler(e)}_cancelSearchIfNeed(e){const{searchEnabled:t}=this.option(),n=this._isOverlayNestedTarget(e?.relatedTarget);if(this._wasSearch()&&t&&!n){var o;const r=(o=this._popup)===null||o===void 0?void 0:o._hideAnimationProcessing;this._clearSearchTimer(),r?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}}_shouldCancelSearch(e){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=e}_isOverlayNestedTarget(e){return!!u(e).closest(".dx-selectbox-popup-wrapper").length}_clearTextValue(){const e=this.option("selectedItem"),t=this._displayGetter(e);e&&t!==""&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent}_shouldOpenPopup(){return this._needPassDataSourceToList()&&this._wasSearch()}_isFocused(){const e=D.getActiveElement(this.element());return super._isFocused()&&u(e).closest(this._input()).length>0}_getValueChangeEventOptionName(){return"customItemCreateEvent"}_renderValueChangeEvent(){this._isEditable()&&super._renderValueChangeEvent()}_fieldRenderData(){const{focusedElement:e}=this.option(),t=this._list&&this.option("opened")&&u(e);return t!=null&&t.length?this._list._getItemData(t):this.option("selectedItem")}_isSelectedValue(e,t){return this._isValueEquals(e,this.option("value"))}_shouldCloseOnItemClick(){const{selectionMode:e}=this.option();return!(this.option("showSelectionControls")&&e!=="single")}_listItemClickHandler(e){const t=this._getCurrentValue();this._focusListElement(u(e.itemElement)),this._saveValueChangeEvent(e.event),this._completeSelection(this._valueGetter(e.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&t===this._valueGetter(e.itemData)&&this._updateField(e.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()}_shouldClearFilter(){return this._wasSearch()}_completeSelection(e){this._setValue(e)}_loadItem(e,t){const n=this,s=A();return super._loadItem(e,t).done((o=>{s.resolve(o)})).fail((o=>{if(o!=null&&o.shouldSkipCallback)return;const r=n.option("selectedItem");n.option("acceptCustomValue")&&e===n._valueGetter(r)?s.resolve(r):s.reject()})),s.promise()}_loadInputValue(e,t){return this._loadItemDeferred=this._loadItem(e).always(t),this._loadItemDeferred}_isCustomItemSelected(){const e=this.option("selectedItem"),t=this._searchValue(),n=this._displayGetter(e);return!n||t!==n.toString()}_valueChangeEventHandler(e){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(e))}_initCustomItemCreatingAction(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")}_createCustomItem(e){const t={text:e},n=this._customItemCreatingAction(t),s=Be(n,t.customItem);return y(n)&&he.log("W0015","onCustomItemCreating","customItem"),s}_customItemAddedHandler(e){const t=this._searchValue(),n=this._createCustomItem(t);if(this._saveValueChangeEvent(e),n===void 0)throw this._renderValue(),he.Error("E0121");Ri(n)?Qt(n).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(n)}_setCustomItem(e){this._disposed||(e=e||null,this.option("selectedItem",e),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(e)),this._renderDisplayText(this._displayGetter(e)),this._isValueChanging=!1)}_clearValueHandler(e){return this._preventFiltering=!0,super._clearValueHandler(e),this._searchCanceled(),!1}_wasSearch(e){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=e}_searchHandler(e){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),super._searchHandler(arguments)}_dataSourceFiltered(e){super._dataSourceFiltered(),e!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())}_valueSubstituted(){const e=this._input().get(0),t=this._searchValue().length,n=e.selectionStart===0&&e.selectionEnd===t,s=e.selectionStart!==e.selectionEnd,o=t===e.selectionEnd;return this._wasSearch()&&s&&!n&&o&&this._shouldSubstitutionBeRendered()}_shouldSubstitutionBeRendered(){return!this._preventSubstitution&&this._isInlineAutocompleteEnabled()}_renderInputSubstitution(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}const e=this._list&&this._getPlainItems(this._list.option("items"))[0];if(!e)return;const t=this._input(),n=t.val().length;if(n===0)return;const s=t.get(0),o=this._displayGetter(e).toString();s.value=o,this._caret({start:n,end:o.length})}_dispose(){this._renderInputValueAsync=M,delete this._loadItemDeferred,super._dispose()}_optionChanged(e){switch(e.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"readOnly":case"disabled":case"searchMode":super._optionChanged(e),this._setDefaultAria();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:super._optionChanged(e)}}}ve("dxSelectBox",Hv);const zd=["year","day","month","day"],Nv=["hours","minutes","seconds","milliseconds"],SR=864e5,ER=31536e6,IR=function(i){const e=typeof i;return e==="string"?"format":e==="object"&&i.type!==void 0?i.type:null},pe={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:6e4,ONE_DAY:SR,ONE_YEAR:ER,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:(function(){const i=new Date;return new Date(i.getFullYear()+50,i.getMonth(),i.getDate(),23,59,59)})(),FORMATS_INFO:{date:{getStandardPattern:()=>"yyyy-MM-dd",components:zd},time:{getStandardPattern:()=>"HH:mm",components:Nv},datetime:{getStandardPattern(){let i;return(function(){const e=u("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(i="yyyy-MM-ddTHH:mmZ")})(),i||(i="yyyy-MM-ddTHH:mm:ssZ"),pe.FORMATS_INFO.datetime.getStandardPattern=function(){return i},i},components:[...zd,...Nv]},"datetime-local":{getStandardPattern:()=>"yyyy-MM-ddTHH:mm:ss",components:[...zd,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat(i,e){const t=pe.FORMATS_INFO[e].getStandardPattern();return Ye.serializeDate(i,t)},fromStandardDateFormat(i){const e=Ye.dateParser(i);return zt(e)?e:void 0},getMaxMonthDay:(i,e)=>new Date(i,e+1,0).getDate(),mergeDates(i,e,t){if(!e)return e||null;if(!i||isNaN(i.getTime())){const o=new Date(null);i=new Date(o.getFullYear(),o.getMonth(),o.getDate())}const n=new Date(i.valueOf()),s=pe.FORMATS_INFO[t];return S(s.components,(function(){const o=pe.DATE_COMPONENTS_INFO[this];n[o.setter](e[o.getter]())})),n},getLongestCaptionIndex(i){let e=0,t=0,n;for(n=0;n<i.length;++n)i[n].length>t&&(e=n,t=i[n].length);return e},formatUsesMonthName:i=>ie.formatUsesMonthName(i),formatUsesDayName:i=>ie.formatUsesDayName(i),getLongestDate(i,e,t){const n=IR(i);let s=9;(!n||pe.formatUsesMonthName(n))&&(s=pe.getLongestCaptionIndex(e));const o=new Date(1888,s,21,23,59,59,999);if(!n||pe.formatUsesDayName(n)){const r=o.getDate()-o.getDay()+pe.getLongestCaptionIndex(t);o.setDate(r)}return o},normalizeTime(i){i.setSeconds(0),i.setMilliseconds(0)}};pe.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter(i,e){const t=new Date(e.getTime());return t.setFullYear(i),ie.format(t,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter(i,e){const t=new Date(e.getTime());return t.setDate(i),ie.format(t,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:i=>ie.getMonthNames()[i],startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:i=>ie.format(new Date(0,0,0,i),"hour"),startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:i=>ie.format(new Date(0,0,0,0,i),"minute"),startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:i=>ie.format(new Date(0,0,0,0,0,i),"second"),startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:i=>ie.format(new Date(0,0,0,0,0,0,i),"millisecond"),startValue:0,endValue:999}};const Wv=function(i,e,t){wR(i,e,t)},wR=function(i,e,t){i.css("transform",`rotate(${e}deg) translate(0,${t}px)`)};class zv extends Xi{_getDefaultOptions(){return C({},super._getDefaultOptions(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5})}_getValue(){const{value:e}=this.option();return e||new Date}_init(){super._init(),this.$element().addClass("dx-timeview")}_render(){super._render(),this._renderBox(),this._updateTime()}_renderBox(){const e=u("<div>").appendTo(this.$element()),t=[];this.option("_showClock")&&t.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),t.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(e,Qi,{height:"100%",width:"100%",direction:"col",items:t})}_renderClock(e,t,n){this._$hourArrow=u("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=u("<div>").addClass("dx-timeview-minutearrow");const s=u(n);s.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",s)}_updateClock(){const e=this._getValue(),t=e.getHours()/12*360+e.getMinutes()/60*30,n=e.getMinutes()/60*360;Wv(this._$hourArrow,t,this.option("_arrowOffset")),Wv(this._$minuteArrow,n,this.option("_arrowOffset"))}_getBoxItems(e){const t=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:u("<div>").addClass("dx-timeview-time-separator").text(ie.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return e&&t.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),t}_renderField(){const e=!this.option("use24HourFormat");return this._createHourBox(e),this._createMinuteBox(),e&&this._createFormat12Box(),this._createComponent(u("<div>").addClass("dx-timeview-field"),Qi,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(e)}).$element()}_createHourBox(e){this._hourBox=this._createComponent(u("<div>"),pd,C({min:-1,max:e?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:t=>this._keyboardHandler(t)},this._getNumberBoxConfig())),this._hourBox.setAria("label","hours")}_isPM(){return!this.option("use24HourFormat")&&this._format12.option("value")===1}_onHourBoxValueChanged(e){let{value:t,component:n}=e;const s=this._getValue(),o=new Date(s);let r=this._convertMaxHourToMin(t);n.option("value",r),this._isPM()&&(r+=12),o.setHours(r),pe.normalizeTime(o),this.option("value",o)}_convertMaxHourToMin(e){const t=this.option("use24HourFormat")?24:12;return(t+e)%t}_createMinuteBox(){this._minuteBox=this._createComponent(u("<div>"),pd,C({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{let{value:t,component:n}=e;const s=(60+t)%60;n.option("value",s);const o=new Date(this._getValue());o.setMinutes(s),pe.normalizeTime(o),this.option("value",o)}},this._getNumberBoxConfig())),this._minuteBox.setAria("label","minutes")}_createFormat12Box(){const e=ie.getPeriodNames();this._format12=this._createComponent(u("<div>").addClass("dx-timeview-format12"),Hv,{items:[{value:-1,text:e[0]},{value:1,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{let{value:n}=t;const s=this._getValue().getHours(),o=new Date(this._getValue()),r=(s+12*n)%24;o.setHours(r),this.option("value",o)},dropDownOptions:{container:this.$element()},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")}),this._format12.setAria("label","type")}_refreshFormat12(){if(this.option("use24HourFormat"))return;const s=this._getValue().getHours()>=12?1:-1;this._silentEditorValueUpdate(this._format12,s)}_silentEditorValueUpdate(e,t){e&&(e._suppressValueChangeAction(),e.option("value",t),e._resumeValueChangeAction())}_getNumberBoxConfig(){const{stylingMode:e}=this.option();return{showSpinButtons:!0,displayValueFormatter:t=>(t<10?"0":"")+t,stylingMode:e}}_normalizeHours(e){return this.option("use24HourFormat")?e:e%12||12}_updateField(){const e=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,e),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()}_updateTime(){this.option("_showClock")&&this._updateClock(),this._updateField()}_visibilityChanged(e){e&&this._updateTime()}_optionChanged(e){switch(e.name){case"value":this._updateTime(),super._optionChanged(e);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:super._optionChanged(e)}}}ve("dxTimeView",zv);const DR=we(),Gv="dx-datebox-datetime-time-side";class TR extends tv{ctor(e){super.ctor(e),this.NAME="CalendarWithTime"}getDefaultOptions(){return C({},super.getDefaultOptions(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})}_closeDropDownByEnter(){return P.sameDate(this._getContouredValue(),this.widgetOption("value"))}getDisplayFormat(e){return e||"shortdateshorttime"}_is24HourFormat(){return ie.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))}_getContouredValue(){const e=super._getContouredValue();return this._updateDateTime(e)}_renderWidget(){super._renderWidget(),this._timeView=this.dateBox._createComponent(u("<div>"),zv,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")})}renderOpenedState(){super.renderOpenedState();const e=this._getPopup();e&&e.$wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout((()=>{var t;(t=this._getPopup())===null||t===void 0||t.repaint()}),0)}isAdaptivityChanged(){const e=this._isShrinkView(),t=this._currentAdaptiveMode;return e!==t?(this._currentAdaptiveMode=e,t!==void 0):super.isAdaptivityChanged()}_updateValue(e){let t=this.dateBoxValue();!t&&!e&&(t=new Date,pe.normalizeTime(t)),super._updateValue(),this._timeView&&(t&&this._timeView.option("value",t),this._timeView.option("use24HourFormat",this._is24HourFormat()))}_isSmallScreen(){return me(DR)<=573}_isShrinkView(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()}_getBoxItems(){const e=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||e.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),e}renderPopupContent(){super.renderPopupContent(),this._currentAdaptiveMode=this._isShrinkView();const e=this._getPopup().$content();this._box=this.dateBox._createComponent(u("<div>").appendTo(e),Qi,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:(function(t,n,s){const o=u("<div>");switch(t.name){case"calendar":o.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(Gv),o.append(this._timeView.$element()));break;case"time":o.append(this._timeView.$element()),u(s).addClass(Gv)}return o}).bind(this)})}popupConfig(e){const t=super.popupConfig(e);return I(t,{width:"auto"})}_preventFocusOnPopup(e){u(e.target).hasClass("dx-texteditor-input")||(super._preventFocusOnPopup.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())}_updateDateTime(e){const{value:t}=this._timeView.option();return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}getValue(){let e=this._widget.option("value")??this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)}dispose(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),super.dispose()}}class AR{constructor(e){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=e??Bd}get isHorizontal(){return this.direction===nR||this.direction===Vd}get isVertical(){return this.direction===Bd||this.direction===Vd}get isBoth(){return this.direction===Vd}}function OR(i,e){if(J(i)){const s=Be(i.left,i.x),o=Be(i.top,i.y);return{left:y(s)?s:void 0,top:y(o)?o:void 0}}const{isVertical:t,isHorizontal:n}=new AR(e);return{left:n&&y(i)?i:void 0,top:t&&y(i)?i:void 0}}class Kv extends gs{_getDefaultOptions(){return C({},super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){_.on(u(this.container()),"dxmousewheel",(e=>{this._isWheelScrolled=!0}))}_renderContainerClick(){if(!this.option("showOnClick"))return;const e=k(ft,this.NAME),t=this._createActionByOption("onClick");_.off(u(this.container()),e),_.on(u(this.container()),e,(n=>{t({event:n})}))}_renderItems(){const e=this.option("items")||[];let t=u();u(this.content()).empty(),e.forEach((n=>{t=t.add(u("<div>").addClass("dx-dateview-item").append(n))})),u(this.content()).append(t),this._$items=t,this.update()}_renderSelectedItemFrame(){u("<div>").addClass("dx-dateview-item-selected-frame").append(u("<div>").addClass("dx-dateview-item-selected-border")).appendTo(u(this.container()))}_renderSelectedValue(e){const t=this._fitIndex(e??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()}_fitIndex(e){const n=(this.option("items")||[]).length;return e>=n?n-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){const e=this._getItemSelector(),t=k(ft,this.NAME);_.off(this.$element(),t,e),_.on(this.$element(),t,e,this._itemClickHandler.bind(this))}_getItemSelector(){return".dx-dateview-item"}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){const e=this.option("selectedIndex");S(this._$items,(function(t){u(this).toggleClass("dx-dateview-item-selected",e===t)}))}_shouldScrollToNeighborItem(){return B.real().deviceType==="desktop"&&this._isWheelScrolled}_moveTo(e){const{top:t,left:n}=OR(e),s=this.scrollOffset(),o={x:s.left-n,y:s.top-t};if(this._isVisible()&&(o.x||o.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){const r=this;Te.stop(u(this.content())),Te.animate(u(this.content()),{duration:200,type:"slide",to:{top:Math.floor(o.y)},complete(){lr(u(r.content())),r.handleMove({delta:o})}}),delete this._animation}else this.handleMove({delta:o})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){const t=this.option("items").length;return Math.max(Math.min(e,t-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){const t=this.scrollOffset().top,n=e*this._itemHeight(),s=t-n;if(this._isInNullNeighborhood(s))return e;const o=s>0?1:-1;return this._fitSelectedIndexInRange(e+o)}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;const t=this.scrollOffset().top/this._itemHeight();return Math.round(t)}_endActionHandler(){const e=this.option("selectedIndex"),t=this._getNewSelectedIndex(e);t===e?this._renderSelectedValue(t):this.option("selectedIndex",t),this._isWheelScrolled=!1}_itemHeight(){const e=this._$items.first();return Oe(e)}_toggleActive(e){this.$element().toggleClass("dx-state-active",e)}_isVisible(){return u(this.container()).is(":visible")}_fireSelectedIndexChanged(e,t){var n;(n=this._selectedIndexChanged)===null||n===void 0||n.call(this,{value:e,previousValue:t,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout((()=>{this._renderSelectedValue(this.option("selectedIndex"))}))),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass("dx-dateviewroller-current",e)}_refreshSelectedIndex(){const e=this.option("selectedIndex"),t=this._fitIndex(e);t===e?this._renderActiveStateItem():this.option("selectedIndex",t)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}ve("dxDateViewRoller",Kv);const Uv={date:"date"},bt={year:"year",month:"month",day:"day",hours:"hours"};class jv extends Xi{_valueOption(){const{value:e}=this.option(),t=new Date(e);return!e||isNaN(t)?this._getDefaultDate():t}_getDefaultDate(){const e=new Date,{type:t}=this.option();return t===Uv.date?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e}_getDefaultOptions(){return C({},super._getDefaultOptions(),{minDate:pe.MIN_DATEVIEW_DEFAULT_DATE,maxDate:pe.MAX_DATEVIEW_DEFAULT_DATE,type:Uv.date,value:new Date,applyCompactClass:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:e=>e.deviceType!=="desktop",options:{applyCompactClass:!0}}])}_render(){super._render(),this.$element().addClass("dx-dateview");const{type:e}=this.option();this._toggleFormatClasses(e),this._toggleCompactClass()}_toggleFormatClasses(e,t){this.$element().addClass(`dx-dateview-${e}`),t&&this.$element().removeClass(`dx-dateview-${t}`)}_toggleCompactClass(){const{applyCompactClass:e}=this.option();this.$element().toggleClass("dx-dateview-compact",e)}_wrapper(){return this._$wrapper}_renderContentImpl(){this._$wrapper=u("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())}_renderRollers(){this._$rollersContainer||(this._$rollersContainer=u("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};const e=this;S(e._rollerConfigs,(t=>{const n=u("<div>").appendTo(e._$rollersContainer).addClass(`dx-dateviewroller-${e._rollerConfigs[t].type}`);e._rollers[e._rollerConfigs[t].type]=e._createComponent(n,Kv,{items:e._rollerConfigs[t].displayItems,selectedIndex:e._rollerConfigs[t].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart(s){s.component._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t])},onEnd(s){s.component._toggleActive(!1)},onClick(s){const o=s.component;o._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t]),e._setRollerState(e._rollerConfigs[t],o.option("selectedIndex")),o._toggleActive(!1)},onSelectedIndexChanged(s){const o=s.component;e._setRollerState(e._rollerConfigs[t],o.option("selectedIndex"))}})})),e._$rollersContainer.appendTo(e._wrapper())}_createRollerConfigs(e){const t=this;e=e||t.option("type"),t._rollerConfigs={},ie.getFormatParts(pe.FORMATS_MAP[e]).forEach((n=>{t._createRollerConfig(n)}))}_createRollerConfig(e){const t=pe.DATE_COMPONENTS_INFO[e],n=this._calculateRollerConfigValueRange(e),{startValue:s}=n,{endValue:o}=n,{formatter:r}=t,a=this._getCurrentDate(),l={type:e,setValue:t.setter,valueItems:[],displayItems:[],getIndex:c=>c[t.getter]()-s};for(let c=s;c<=o;c++)l.valueItems.push(c),l.displayItems.push(r(c,a));l.selectedIndex=l.getIndex(a),this._rollerConfigs[e]=l}_setActiveRoller(e){const t=e&&this._rollers[e.type];S(this._rollers,(function(){this.toggleActiveState(this===t)}))}_updateRollersPosition(){const e=this;S(this._rollers,(function(t){const n=e._rollerConfigs[t].getIndex(e._getCurrentDate());this.option("selectedIndex",n)}))}_setRollerState(e,t){if(t!==e.selectedIndex){const n=e.valueItems[t],{setValue:s}=e;let o=new Date(this._getCurrentDate()),r=o.getDate();const a=this.option("minDate"),l=this.option("maxDate");e.type===bt.month?r=Math.min(r,pe.getMaxMonthDay(o.getFullYear(),n)):e.type===bt.year&&(r=Math.min(r,pe.getMaxMonthDay(n,o.getMonth()))),o.setDate(r),o[s](n);const c=P.normalizeDate(o,a,l);o=pe.mergeDates(c,o,"time"),o=P.normalizeDate(o,a,l),this.option("value",o),e.selectedIndex=t}e.type===bt.year&&this._refreshRollers(),e.type===bt.month&&(this._refreshRoller(bt.day),this._refreshRoller(bt.hours))}_refreshRoller(e){const t=this._rollers[e];if(t){this._createRollerConfig(e);const n=this._rollerConfigs[e];(e===bt.day||n.displayItems.toString()!==t.option("items").toString())&&t.option({items:n.displayItems,selectedIndex:n.selectedIndex})}}_getCurrentDate(){const e=this._valueOption(),t=this.option("minDate"),n=this.option("maxDate");return P.normalizeDate(e,t,n)}_calculateRollerConfigValueRange(e){const t=this._getCurrentDate(),{minDate:n,maxDate:s}=this.option(),o=P.sameYear(t,n),r=o&&t.getMonth()===n.getMonth(),a=P.sameYear(t,s),l=a&&t.getMonth()===s.getMonth(),c=r&&t.getDate()===n.getDate(),d=l&&t.getDate()===s.getDate(),h=pe.DATE_COMPONENTS_INFO[e];let{startValue:p}=h,{endValue:m}=h;return e===bt.year&&(p=n.getFullYear(),m=s.getFullYear()),e===bt.month&&(o&&(p=n.getMonth()),a&&(m=s.getMonth())),e===bt.day&&(m=pe.getMaxMonthDay(t.getFullYear(),t.getMonth()),o&&r&&(p=n.getDate()),a&&l&&(m=s.getDate())),e===bt.hours&&(p=c?n.getHours():p,m=d?s.getHours():m),{startValue:p,endValue:m}}_refreshRollers(){this._refreshRoller(bt.month),this._refreshRoller(bt.day),this._refreshRoller(bt.hours)}_optionChanged(e){switch(e.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":super._optionChanged(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:super._optionChanged(e)}}_clean(){super._clean(),delete this._$rollersContainer}}ve("dxDateView",jv);const kR=we();class MR extends _a{ctor(e){super.ctor(e),this.NAME="DateView"}getDefaultOptions(){return C({},super.getDefaultOptions(),{openOnFieldClick:!0,applyButtonText:F.format("OK"),"dropDownOptions.showTitle":!0})}getDisplayFormat(e){return e||pe.FORMATS_MAP[this.dateBox.option("type")]}popupConfig(e){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:e.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device(t){const{platform:n}=t;return n==="generic"||n==="ios"},options:{width:"auto",height:"auto"}},{device(t){const{platform:n}=t,{phone:s}=t;return n==="generic"&&s},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:kR}}}]}}_renderWidget(){if(dr(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.$element().remove(),this._widget=null);return}const e=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{const t=u("<div>").appendTo(e.$content());this._widget=this._createWidget(t)}this._widget.$element().appendTo(this._getWidgetContainer())}_getWidgetName(){return jv}renderOpenedState(){super.renderOpenedState(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())}_getWidgetOptions(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*pe.ONE_YEAR),onDisposing:(function(){this._widget=null}).bind(this)}}}const RR=we(),PR={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)};class $R extends _a{ctor(e){super.ctor(e),this.NAME="List"}supportedKeys(){return{space:M,home:M,end:M}}getDefaultOptions(){return C({},super.getDefaultOptions(),{applyValueMode:"instantly"})}getDisplayFormat(e){return e||"shorttime"}popupConfig(e){return e}getValue(){const e=this._widget.option("selectedIndex");if(e===-1)return this.dateBox.option("value");const t=this._widgetItems[e];return this._getDateByItemData(t)}useCurrentDateByDefault(){return!0}getDefaultDate(){return new Date(null)}popupShowingHandler(){this.dateBox._dimensionChanged()}_renderWidget(){super._renderWidget(),this._refreshItems()}_getWidgetName(){return Nd}_getWidgetOptions(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}}_refreshActiveDescendant(e){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",e.actionValue)}_refreshItems(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)}renderOpenedState(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())}dispose(){super.dispose(),clearTimeout(this._asyncScrollTimeout)}_updateValue(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())}_setSelectedItemsByValue(){const e=this.dateBoxValue(),t=this._getDateIndex(e);t===-1?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",t)}_scrollToSelectedItem(){this._widget.scrollToItem(this._widget.option("selectedIndex"))}_getDateIndex(e){let t=-1;for(let n=0,s=this._widgetItems.length;n<s;n++)if(this._areDatesEqual(e,this._widgetItems[n])){t=n;break}return t}_areDatesEqual(e,t){return zt(e)&&zt(t)&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()}_getTimeListItems(){let e=this.dateBox.dateOption("min")||this._getBoundaryDate("min");const t=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),n=this.dateBox.dateOption("value")||null;let s=t-e;const o=e.getMinutes()%this.dateBox.option("interval");return s<0?[]:(s>pe.ONE_DAY&&(s=pe.ONE_DAY),n-e<pe.ONE_DAY?this._getRangeItems(e,new Date(e),s):(e=this._getBoundaryDate("min"),e.setMinutes(o),n&&Math.abs(n-t)<pe.ONE_DAY&&(s=(60*t.getHours()+Math.abs(t.getMinutes()-o))*pe.ONE_MINUTE),this._getRangeItems(e,new Date(e),s)))}_getRangeItems(e,t,n){const s=[],o=this.dateBox.option("interval");for(;t-e<=n;)s.push(new Date(t)),t.setMinutes(t.getMinutes()+o);return s}_getBoundaryDate(e){const t=PR[e],n=new Date(Be(this.dateBox.dateOption("value"),0));return new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes())}_timeListItemTemplate(e){const t=this.dateBox.option("displayFormat");return ie.format(e,this.getDisplayFormat(t))}_listItemClickHandler(e){if(this.dateBox.option("applyValueMode")==="useButtons")return;const t=this._getDateByItemData(e.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(t,e.event)}_getDateByItemData(e){let t=this.dateBox.option("value");const n=e.getHours(),s=e.getMinutes(),o=e.getSeconds(),r=e.getFullYear(),a=e.getMonth(),l=e.getDate();return t?(this.dateBox.option("dateSerializationFormat")?t=Ye.deserializeDate(t):t=new Date(t),t.setHours(n),t.setMinutes(s),t.setSeconds(o),t.setFullYear(r),t.setMonth(a),t.setDate(l)):t=new Date(r,a,l,n,s,0,0),t}getKeyboardListener(){return this._widget}_updatePopupHeight(){var e;const t=tg(this.dateBox.option("dropDownOptions.height"));if(t===void 0||t==="auto"){this.dateBox._setPopupOption("height","auto");const n=He(this._widget.$element()),s=.45*Oe(RR);this.dateBox._setPopupOption("height",Math.min(n,s))}(e=this.dateBox._timeList)===null||e===void 0||e.updateDimensions()}getParsedText(e,t){let n=super.getParsedText(e,t);return n&&(n=pe.mergeDates(n,new Date(null),"date")),n}}class BR extends _a{ctor(e){super.ctor(e),this.NAME="Native"}popupConfig(e){return C({},e,{width:"auto"})}getParsedText(e){return e?this.dateBox.option("type")==="datetime"?new Date(e.replace(/-/g,"/").replace("T"," ").split(".")[0]):pe.fromStandardDateFormat(e):null}renderPopupContent(){}_getWidgetName(){}_getWidgetOptions(){}_getDateBoxType(){let{type:e}=this.dateBox.option();return pe.SUPPORTED_FORMATS.includes(e)?e==="datetime"&&!dr(e)&&(e="datetime-local"):e="date",e}customizeButtons(){const e=this.dateBox.getButton("dropDown");B.real().android&&e&&e.on("click",(()=>{this.dateBox._input().get(0).click()}))}getDefaultOptions(){return{mode:this._getDateBoxType()}}getDisplayFormat(e){const t=this._getDateBoxType();return e||pe.FORMATS_MAP[t]}renderInputMinMax(e){const t=this.dateBox.option("type"),n={datetime:"yyyy-MM-ddTHH:mm:ss",date:"yyyy-MM-dd",time:"HH:mm:ss"}[t]??"yyyy-MM-dd";e.attr({min:Ye.serializeDate(this.dateBox.dateOption("min"),n),max:Ye.serializeDate(this.dateBox.dateOption("max"),n)})}}const Mo=we(),VR="dx-show-invalid-badge",LR="dx-clear-button-area",Nt={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},Wt={date:"date",datetime:"datetime",time:"time"},Ro={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},FR={Calendar:tv,DateView:MR,Native:BR,CalendarWithTime:TR,List:$R};class HR extends od{_supportedKeys(){return C({},super._supportedKeys(),this._strategy.supportedKeys())}_renderButtonContainers(){super._renderButtonContainers.apply(this,arguments),this._strategy.customizeButtons()}_getDefaultOptions(){return C({},super._getDefaultOptions(),{type:"date",showAnalogClock:!0,value:null,displayFormat:null,interval:30,disabledDates:null,pickerType:Nt.calendar,invalidDateMessage:F.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:F.format("validation-range"),applyButtonText:F.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device(){const e=B.real(),{platform:t}=e;return t==="ios"||t==="android"},options:{pickerType:Nt.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])}_initOptions(e){this._userOptions=I({},e),super._initOptions(e),this._updatePickerOptions()}_updatePickerOptions(){let{pickerType:e}=this.option();const{type:t}=this.option();e===Nt.list&&(t===Wt.datetime||t===Wt.date)&&(e=Nt.calendar),t===Wt.time&&e===Nt.calendar&&(e=Nt.list),this._pickerType=e,this._setShowDropDownButtonOption()}_setShowDropDownButtonOption(){const{platform:e}=B.real(),t=e==="android"&&Rt.mozilla,n=this._isNativeType();let s=e!=="generic"||!n;n&&t&&(s=!1),this.option({showDropDownButton:s})}_init(){this._initStrategy(),this.option(I({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,super._init()}_toLowerCaseFirstLetter(e){return e.charAt(0).toLowerCase()+e.substr(1)}_initStrategy(){const e=this._getStrategyName(this._getFormatType()),t=FR[e];this._strategy&&this._strategy.NAME===e||(this._strategy=new t(this))}_getFormatType(){const e=this.option("type"),t=/h|m|s/g.test(e),n=/d|M|Y/g.test(e);let s="";return n&&(s+=Wt.date),t&&(s+=Wt.time),s}_getStrategyName(e){const t=this._pickerType;return t===Nt.rollers?Ro.dateView:t===Nt.native?Ro.native:e===Wt.date?Ro.calendar:e===Wt.datetime?Ro.calendarWithTime:Ro.list}_initMarkup(){this.$element().addClass("dx-datebox"),super._initMarkup(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())}_render(){super._render(),this._formatValidationIcon()}_renderDimensions(){super._renderDimensions(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()}_dimensionChanged(){super._dimensionChanged(),this._updatePopupHeight()}_updatePopupHeight(){if(this._popup){var e,t;(e=(t=this._strategy)._updatePopupHeight)===null||e===void 0||e.call(t)}}_refreshFormatClass(){const e=this.$element();S(Wt,((n,s)=>{e.removeClass(`dx-datebox-${s}`)}));const{type:t}=this.option();e.addClass(`dx-datebox-${t}`)}_refreshPickerTypeClass(){const e=this.$element();S(Nt,((t,n)=>{e.removeClass(`dx-datebox-${n}`)})),e.addClass(`dx-datebox-${this._pickerType}`)}_formatValidationIcon(){if(!te())return;const e=this._input().get(0),t=this.option("rtlEnabled"),n=this._getClearButtonWidth(),s=this._getLongestElementDimensions(),o=parseFloat(Mo.getComputedStyle(e).width)-n,r=s.width>o,{style:a}=e,{_showValidationIcon:l}=this.option();this.$element().toggleClass(VR,!r&&l),r?(this._storedPadding===void 0&&(this._storedPadding=t?s.leftPadding:s.rightPadding),t?a.paddingLeft=0:a.paddingRight=0):t?a.paddingLeft=`${this._storedPadding}px`:a.paddingRight=`${this._storedPadding}px`}_getClearButtonWidth(){let e=0;if(this._isClearButtonVisible()&&this._input().val()===""){const t=this.$element().find(`.${LR}`).get(0);e=parseFloat(Mo.getComputedStyle(t).width)}return e}_getLongestElementDimensions(){const e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=ie.format(pe.getLongestDate(e,ie.getMonthNames(),ie.getDayNames()),e),n=this._input(),s=n.get(0),o=mm(n,t),a=this._storedPadding!==void 0?this._storedPadding:0;o.appendTo(this.$element());const l=parseFloat(Mo.getComputedStyle(o.get(0)).width),c=parseFloat(Mo.getComputedStyle(s).paddingRight),d=parseFloat(Mo.getComputedStyle(s).paddingLeft),h=l+d+c+a;return o.remove(),{width:h,leftPadding:d,rightPadding:c}}_getKeyboardListeners(){var e;return super._getKeyboardListeners().concat([(e=this._strategy)===null||e===void 0?void 0:e.getKeyboardListener()])}_renderPopup(){var e;super._renderPopup(),(e=this._popup)===null||e===void 0||e.$wrapper().addClass("dx-datebox-wrapper"),this._renderPopupWrapper()}_getPopupToolbarItems(){var e,t;const n=super._getPopupToolbarItems();return((e=(t=this._strategy)._getPopupToolbarItems)===null||e===void 0?void 0:e.call(t,n))??n}_popupConfig(){const e=super._popupConfig();return C({},this._strategy.popupConfig(e),{title:this._getPopupTitle(),dragEnabled:!1})}_renderPopupWrapper(){if(!this._popup)return;const e=this.$element(),t=I({},Wt,Nt);S(t,((s,o)=>{e.removeClass(`dx-datebox-wrapper-${o}`)}));const{type:n}=this.option();this._popup.$wrapper().addClass(`dx-datebox-wrapper-${n}`).addClass(`dx-datebox-wrapper-${this._pickerType}`).addClass("dx-dropdowneditor-overlay")}_renderPopupContent(){super._renderPopupContent(),this._strategy.renderPopupContent()}_popupShowingHandler(){super._popupShowingHandler(),this._strategy.popupShowingHandler()}_popupShownHandler(){super._popupShownHandler(),this._strategy.renderOpenedState()}_popupHiddenHandler(){super._popupHiddenHandler(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()}_visibilityChanged(e){e&&this._formatValidationIcon()}_clearValueHandler(e){this.option("text",""),super._clearValueHandler(e)}_readOnlyPropValue(){if(this._pickerType===Nt.rollers)return!0;const{platform:e}=B.real();if(this._isNativeType()&&(e==="ios"||e==="android")){const{readOnly:n}=this.option();return n}return super._readOnlyPropValue()}_isClearButtonVisible(){return super._isClearButtonVisible()&&!this._isNativeType()}_renderValue(){const e=this.dateOption("value");return this.option("text",this._getDisplayedText(e)),this._strategy.renderValue(),super._renderValue()}_setSubmitValue(){const e=this.dateOption("value"),{type:t,dateSerializationFormat:n}=this.option(),s=pe.SUBMIT_FORMATS_MAP[t],o=n?Ye.serializeDate(e,n):pe.toStandardDateFormat(e,s);this._getSubmitElement().val(o)}_getDisplayedText(e){const{mode:t}=this.option();let n;if(t==="text"){const s=this._strategy.getDisplayFormat(this.option("displayFormat"));n=ie.format(e,s)}else{const s=this._getFormatByMode(t);s?n=ie.format(e,s):n=pe.toStandardDateFormat(e,t)}return n}_getFormatByMode(e){return dr(e)?null:pe.FORMATS_MAP[e]}_valueChangeEventHandler(e){const{text:t,type:n,validationError:s}=this.option(),o=this.dateOption("value");if(t===this._getDisplayedText(o)){this._recallInternalValidation(o,s);return}const r=this._getParsedDate(t),a=o??this._getDateByDefault(),l=pe.mergeDates(a,r,n),c=r&&n==="time"?l:r;if(this._applyInternalValidation(c).isValid){const d=this._getDisplayedText(l);a&&l&&a.getTime()===l.getTime()&&d!==t?this._renderValue():this.dateValue(l,e)}}_recallInternalValidation(e,t){(!t||t.editorSpecific)&&(this._applyInternalValidation(e),this._applyCustomValidation(e))}_getDateByDefault(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()}_getParsedDate(e){const t=this._strategy.getDisplayFormat(this.option("displayFormat"));return this._strategy.getParsedText(e,t)??void 0}_applyInternalValidation(e){const n=!!this.option("text")&&e!==null,s=!!e&&zt(e)&&!isNaN(e.getTime()),o=s&&P.dateInRange(e,this.dateOption("min"),this.dateOption("max"),this.option("type")),r=!n&&!e||o;let a="";const{invalidDateMessage:l,dateOutOfRangeMessage:c}=this.option();return s?o||(a=c):a=l,this._updateInternalValidationState(r,a),{isValid:r,isDate:s}}_updateInternalValidationState(e,t){this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:t}})}_applyCustomValidation(e){this.validationRequest.fire({editor:this,value:this._serializeDate(e)})}_isValueChanged(e){const t=this.dateOption("value"),n=t&&t.getTime(),s=e&&e.getTime();return n!==s}_isTextChanged(e){const t=this.option("text"),n=e&&this._getDisplayedText(e)||"";return t!==n}_renderProps(){super._renderProps(),this._input().attr("autocomplete","off")}_renderOpenedState(){this._isNativeType()||super._renderOpenedState(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()}_getPopupTitle(){const{placeholder:e}=this.option();if(e)return e;const{type:t}=this.option();return t===Wt.time?F.format("dxDateBox-simulatedDataPickerTitleTime"):t===Wt.date||t===Wt.datetime?F.format("dxDateBox-simulatedDataPickerTitleDate"):""}_refreshStrategy(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()}_applyButtonHandler(e){const t=this._strategy.getValue();this.dateValue(t,e.event),super._applyButtonHandler()}_dispose(){var e;super._dispose(),(e=this._strategy)===null||e===void 0||e.dispose()}_isNativeType(){return this._pickerType===Nt.native}_updatePopupTitle(){var e;(e=this._popup)===null||e===void 0||e.option("title",this._getPopupTitle())}_optionChanged(e){switch(e.name){case"showClearButton":case"buttons":case"isValid":case"readOnly":super._optionChanged.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions(),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions(),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":super._optionChanged.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":{const t=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),t||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break}case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":case"todayButtonText":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(e.value),super._optionChanged.apply(this,arguments);break;case"showDropDownButton":this._formatValidationIcon(),super._optionChanged.apply(this,arguments);break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:super._optionChanged.apply(this,arguments)}}_getSerializationFormat(){const{value:e}=this.option();if(this.option("dateSerializationFormat")&&ce().forceIsoDateParsing)return this.option("dateSerializationFormat");if(Le(e))return"number";if(!(!le(e)||e===""))return Ye.getDateSerializationFormat(e)}_updateValue(e){super._updateValue(),this._applyInternalValidation(e??this.dateOption("value"))}dateValue(e,t){const n=this._isValueChanged(e);if(n&&t&&this._saveValueChangeEvent(t),!n){const{text:s}=this.option();this._isTextChanged(e)?this._updateValue(e):s===""&&this._applyCustomValidation(e)}return this.dateOption("value",e)}dateOption(e,t){if(arguments.length===1)return Ye.deserializeDate(this.option(e));this.option(e,this._serializeDate(t))}_serializeDate(e){const t=this._getSerializationFormat();return Ye.serializeDate(e,t)}_clearValue(){const e=this.option("value");super._clearValue(),e===null&&this._applyCustomValidation(null)}clear(){const e=this.option("value");super.clear(),e===null&&this._applyInternalValidation(null)}}const qv=i=>i.getMonth()+1,Yv=(i,e)=>{const t=i.getDate(),n=Po("M",i),s=at(parseInt(e),n.min,n.max);i.setMonth(s-1,1);const{min:o,max:r}=Po("dM",i),a=at(t,o,r);i.setDate(a)},NR={a:i=>i.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:qv,L:qv,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds",x:"getTimezoneOffset"},WR=I({},Ck(),{a:(i,e)=>{const t=i.getHours();t>=12!==!!parseInt(e)&&i.setHours((t+12)%24)},d:(i,e)=>{const t=Po("dM",i).max;e>t&&i.setMonth(i.getMonth()+1),i.setDate(e)},h:(i,e)=>{const t=i.getHours()>=12;i.setHours(+e%12+(t?12:0))},M:Yv,L:Yv,E:(i,e)=>{e<0||i.setDate(i.getDate()-i.getDay()+parseInt(e))},y:(i,e)=>{const t=i.getFullYear(),n=String(e).length,s=String(Po("y",i).max).length,o=parseInt(String(t).substr(0,s-n)+e);i.setFullYear(o)},x:i=>i}),zR=i=>NR[i]||(()=>i),GR=(i,e)=>{const t=e.regexp.exec(i);let n=0,s=0;const o=[];for(let r=1;r<t.length;r++){n=s,s=n+t[r].length;const a=e.patterns[r-1].replace(/^'|'$/g,""),l=zR(a[0]);o.push({index:r-1,isStub:a===t[r],caret:{start:n,end:s},pattern:a,text:t[r],limits:function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return Po(a[0],...d)},setter:WR[a[0]]||M,getter:l})}return o},Po=(i,e,t)=>{const n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:1,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1},x:{min:0,max:0}};return n[t||i]||n.getAmPm},KR=(i,e)=>{for(let t=0;t<i.length;t++){const n=i[t].caret.end>=e;if(!i[t].isStub&&n)return t}return null};class UR extends HR{_supportedKeys(){const e=super._supportedKeys(),t=s=>{const o=e[tt(s)];return o?.apply(this,[s])},n=(s,o)=>this._shouldUseOriginalHandler(s)?t.apply(this,[s]):o.apply(this,[s]);return C({},e,{del:s=>n(s,(o=>{this._revertPart(1),this._isAllSelected()||o.preventDefault()})),backspace:s=>n(s,(o=>{this._revertPart(-1),this._isAllSelected()||o.preventDefault()})),home:s=>n(s,(o=>{this._selectFirstPart(),o.preventDefault()})),end:s=>n(s,(o=>{this._selectLastPart(),o.preventDefault()})),escape:s=>n(s,(()=>{this._revertChanges()})),enter:s=>n(s,(()=>{this._enterHandler()})),leftArrow:s=>n(s,(o=>{this._selectNextPart(-1),o.preventDefault()})),rightArrow:s=>n(s,(o=>{this._selectNextPart(1),o.preventDefault()})),upArrow:s=>n(s,(o=>{this._upDownArrowHandler(1),o.preventDefault()})),downArrow:s=>n(s,(o=>{this._upDownArrowHandler(-1),o.preventDefault()}))})}_shouldUseOriginalHandler(e){const t=this.option("opened")&&e&&!["backspace","del"].includes(tt(e));return!this._useMaskBehavior()||t||e&&e.altKey}_upDownArrowHandler(e){this._setNewDateIfEmpty();const t=this._getActivePartValue(this._initialMaskValue),s=this._getActivePartValue()-t;this._loadMaskValue(this._initialMaskValue),this._changePartValue(s+e,!0)}_changePartValue(e,t){const n=this._getActivePartProp("pattern");/^a{1,5}$/.test(n)?this._toggleAmPm():this._partIncrease(e,t)}_toggleAmPm(){const e=this._getActivePartProp("text"),n=1^Zn.getPeriodNames().indexOf(e);this._setActivePartValue(n)}_getDefaultOptions(){return C({},super._getDefaultOptions(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})}_isSingleCharKey(e){let{originalEvent:t,alt:n}=e;const s=t.data||t.key;return typeof s=="string"&&s.length===1&&!n&&!ut(t)}_isSingleDigitKey(e){var t;const n=(t=e.originalEvent)===null||t===void 0?void 0:t.data;return n?.length===1&&parseInt(n,10)}_useBeforeInputEvent(){return B.real().android}_keyInputHandler(e,t){const n=this._input().val();this._processInputKey(t),e.preventDefault(),n!==this._input().val()&&_.trigger(this._input(),"input")}_keyboardHandler(e){let{key:t}=e.originalEvent;const n=super._keyboardHandler(e);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(Rt.chrome&&e.key==="Process"&&e.code.indexOf("Digit")===0?(t=e.code.replace("Digit",""),this._processInputKey(t),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(e)&&this._keyInputHandler(e.originalEvent,t)),n}_maskBeforeInputHandler(e){this._maskInputHandler=null;const{inputType:t}=e.originalEvent;t==="insertCompositionText"&&(this._maskInputHandler=()=>{this._renderSelectedPart()});const n=t==="deleteContentBackward";if(n||t==="deleteContentForward"){const r=n?-1:1;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(r)}}if(!this._useMaskBehavior()||!this._isSingleCharKey(e))return;const o=e.originalEvent.data;return this._keyInputHandler(e,o),!0}_keyPressHandler(e){const{originalEvent:t}=e;t?.inputType==="insertCompositionText"&&this._isSingleDigitKey(e)&&(this._processInputKey(t.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),super._keyPressHandler(e),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)}_processInputKey(e){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(e))?this._searchString(e):this._searchNumber(e)}_isAllSelected(){const e=this._caret(),{text:t}=this.option();return e.end-e.start===t.length}_getFormatPattern(){if(this._formatPattern)return this._formatPattern;const e=this._strategy.getDisplayFormat(this.option("displayFormat"));return le(e)&&!ie._getPatternByFormat(e)?this._formatPattern=e:this._formatPattern=Wg((n=>ie.format(n,e))),this._formatPattern}_setNewDateIfEmpty(){if(!this._maskValue){const{type:e}=this.option(),t=e==="time"?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}}_partLimitsReached(e){const t=String(e).length,n=this._getActivePartProp("pattern").length,o=n===1?t:Math.min(n,t),r=this._searchValue.length===o,a=parseInt(`${this._searchValue}0`)>e;return r||a}_searchNumber(e){const{max:t}=this._getActivePartLimits(),n=String(t).length;this._searchValue=(this._searchValue+e).substr(-n),isNaN(this._searchValue)&&(this._searchValue=e),this._setActivePartValue(this._searchValue),this._partLimitsReached(t)&&this._selectNextPart(1)}_searchString(e){if(!isNaN(parseInt(this._getActivePartProp("text"))))return;const t=this._getActivePartProp("limits")(this._maskValue),n=this._searchValue+e.toLowerCase(),s=t.max-t.min;for(let o=0;o<=s;o++)if(this._loadMaskValue(this._initialMaskValue),this._changePartValue(o+1),this._getActivePartProp("text").toLowerCase().indexOf(n)===0){this._searchValue=n;return}this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(e))}_clearSearchValue(){this._searchValue=""}_revertPart(e){if(!this._isAllSelected()){const t=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(t),this._selectNextPart(e)}this._clearSearchValue()}_useMaskBehavior(){const{mode:e}=this.option();return this.option("useMaskBehavior")&&e==="text"}_prepareRegExpInfo(){this._regExpInfo=Kg(this._getFormatPattern(),ie);const{regexp:e}=this._regExpInfo,{source:t}=e,{flags:n}=e,s=new RegExp(/(\{[0-9]+,?[0-9]*\})/),o=t.split(s).map((r=>s.test(r)?r:Se.convertDigits(r,!1))).join("");this._regExpInfo.regexp=new RegExp(o,n)}_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()}_renderMask(){super._renderMask(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())}_renderDateParts(){if(!this._useMaskBehavior())return;const e=this.option("text")||this._getDisplayedText(this._maskValue);e&&(this._dateParts=GR(e,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}_detachMaskEvents(){_.off(this._input(),".dateBoxMask")}_attachMaskEvents(){_.on(this._input(),k("dxclick","dateBoxMask"),this._maskClickHandler.bind(this)),_.on(this._input(),k("paste","dateBoxMask"),this._maskPasteHandler.bind(this)),_.on(this._input(),k("drop","dateBoxMask"),(()=>{this._renderSelectedPart()})),_.on(this._input(),k("compositionend","dateBoxMask"),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&_.on(this._input(),k("beforeinput","dateBoxMask"),this._maskBeforeInputHandler.bind(this))}_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()}_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(-1))}_selectFirstPart(){this.option("text")&&this._dateParts&&(this._activePartIndex=-1,this._selectNextPart(1))}_hasMouseWheelHandler(){return!0}_onMouseWheel(e){this._useMaskBehavior()&&this._partIncrease(e.delta>0?1:-1,e)}_selectNextPart(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!this.option("text")||this._disposed)return;e&&(this._initialMaskValue=new Date(this._maskValue));let t=at(this._activePartIndex+e,0,this._dateParts.length-1);if(this._dateParts[t].isStub){if(!(t===0&&e<0||t===this._dateParts.length-1&&e>0)){this._selectNextPart(e>=0?e+1:e-1);return}t=this._activePartIndex}this._activePartIndex!==t&&this._clearSearchValue(),this._activePartIndex=t,this._caret(this._getActivePartProp("caret"))}_getRealLimitsPattern(){if(this._getActivePartProp("pattern")[0]==="d")return"dM"}_getActivePartLimits(e){return this._getActivePartProp("limits")(this._maskValue,e&&this._getRealLimitsPattern())}_getActivePartValue(e){e=e||this._maskValue;const t=this._getActivePartProp("getter");return L(t)?t(e):e[t]()}_addLeadingZeroes(e){const t=/^0+/.exec(this._searchValue),n=this._getActivePartLimits(),s=String(n.max).length;return((t&&t[0]||"")+String(e)).substr(-s)}_setActivePartValue(e,t){t=t||this._maskValue;const n=this._getActivePartProp("setter"),s=this._getActivePartLimits();e=gi(e,s.min,s.max)?e:e%10,e=this._addLeadingZeroes(at(e,s.min,s.max)),L(n)?n(t,e):t[n](e),this._renderDisplayText(this._getDisplayedText(t)),this._renderDateParts()}_getActivePartProp(e){if(!(!this._dateParts||!this._dateParts[this._activePartIndex]))return this._dateParts[this._activePartIndex][e]}_loadMaskValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dateOption("value");this._maskValue=e&&new Date(e),this._initialMaskValue=e&&new Date(e)}_saveMaskValue(){const e=this._maskValue&&new Date(this._maskValue),{type:t}=this.option();e&&t==="date"&&e.setHours(0,0,0,0),this._initialMaskValue=new Date(e),this._applyInternalValidation(e).isValid&&this.dateOption("value",e)}_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()}_renderDisplayText(e){super._renderDisplayText(e),this._useMaskBehavior()&&this.option("text",e)}_partIncrease(e,t){this._setNewDateIfEmpty();const{max:n,min:s}=this._getActivePartLimits(t);let o=e+this._getActivePartValue();o>n?o=this._applyLimits(o,{limitBase:s,limitClosest:n,max:n}):o<s&&(o=this._applyLimits(o,{limitBase:n,limitClosest:s,max:n})),this._setActivePartValue(o)}_applyLimits(e,t){let{limitBase:n,limitClosest:s,max:o}=t;const r=(e-s)%o;return r?n+r-1*vn(r):s}_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=KR(this._dateParts,this._caret().start),this._isAllSelected()||(this._clearSearchValue(),y(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))}_maskCompositionEndHandler(e){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}}_maskPasteHandler(e){const t=this._replaceSelectedText(this.option("text"),this._caret(),Ir(e)),n=ie.parse(t,this._getFormatPattern());n&&this._isDateValid(n)&&(this._maskValue=n,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),e.preventDefault()}_isDateValid(e){return zt(e)&&!isNaN(e)}_isValueDirty(){const e=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(e&&e.getTime())}_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&_.trigger(this._input(),"change")}_enterHandler(){this._fireChangeEvent(),this._selectNextPart(1)}_focusOutHandler(e){this._useMaskBehavior()&&!e.isDefaultPrevented()?(this._fireChangeEvent(),super._focusOutHandler(e),this._selectFirstPart()):super._focusOutHandler(e)}_valueChangeEventHandler(e){const t=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(e),t?this._maskValue===null&&this._loadMaskValue(t):this._maskValue=null,this._saveMaskValue()):super._valueChangeEventHandler(e)}_optionChanged(e){switch(e.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":super._optionChanged(e),this._renderMask();break;case"value":this._loadMaskValue(),super._optionChanged(e),this._renderDateParts();break;case"emptyDateValue":break;default:super._optionChanged(e)}}_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue}clear(){this._clearMaskState(),this._activePartIndex=0,super.clear()}_clean(){super._clean(),this._detachMaskEvents(),this._clearMaskState()}}ve("dxDateBox",UR);function jR(i){return y(i)?i:"right"}function qR(i){switch(i){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}function YR(i){let{item:e,$parent:t,rootElementCssClassList:n,validationGroup:s,createComponentCallback:o}=i;const r=u("<div>").appendTo(t).addClass(n.join(" ")).addClass("dx-field-button-item").css("textAlign",jR(e.horizontalAlignment));t.css("justifyContent",qR(e.verticalAlignment));const a=u("<div>").appendTo(r);return{$rootElement:r,buttonInstance:o(a,I({validationGroup:s},e.buttonOptions))}}function XR(i){const{$parent:e,rootElementCssClassList:t}=i;return u("<div>").addClass("dx-field-empty-item").html("&nbsp;").addClass(t.join(" ")).appendTo(e)}function Xv(i){const e=i.children().first();return e.hasClass("dx-template-wrapper")?e.children().first():e}function Zv(i){if(i&&si(ke())){const e=".dx-field-item-content-wrapper",t=n=>{let{element:s,component:o}=n;const{isValid:r,validationMessageMode:a}=o.option();u(s).parents(e).toggleClass("dx-invalid",r===!1&&(o._isFocused()||a==="always"))};i.on("optionChanged",(n=>{n.name==="isValid"&&t(n)})),i.on("focusIn",t).on("focusOut",t).on("enterKey",t)}}function ZR(i){var e;return i?.data("dx-validation-target")||(i==null||(e=i.parent)===null||e===void 0||(e=e.call(i))===null||e===void 0?void 0:e.data("dx-validation-target"))}function Jv(i,e,t){return{dataField:i.dataField,editorType:i.editorType,editorOptions:e,component:t,name:i.name}}function JR(i){let{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:s,labelOptions:o,labelNeedBaselineAlign:r,labelLocation:a,needRenderLabel:l,formLabelLocation:c,item:d,editorOptions:h,isSimpleItem:p,isRequired:m,template:g,helpID:f,labelID:v,name:b,helpText:w,requiredMessageTemplate:T,validationGroup:H}=i;const N=u("<div>").addClass(t.join(" ")).appendTo(e);N.addClass(m?"dx-field-item-required":"dx-field-item-optional"),p&&N.addClass("dx-flex-layout"),p&&r&&N.addClass("dx-field-item-label-align");const Y=u("<div>");Y.data("dx-form-item",d),Y.addClass(ad).addClass("dx-field-item-content-location-"+{right:"left",left:"right",top:"bottom"}[c]);let z=null;if(l&&(o.labelTemplate&&(o.labelTemplateData=Jv(d,h,n)),z=dO(o)),z){const{editorType:Re}=d;N.append(z),(a==="top"||a==="left")&&N.append(Y),a==="right"&&N.prepend(Y),a==="top"?N.addClass("dx-label-v-align"):N.addClass("dx-label-h-align"),(Re==="dxCheckBox"||Re==="dxSwitch")&&_.on(z,ft,(()=>{_.trigger(Y.children(),ft)}));const j=["dxCheckBox","dxSwitch","dxRadioGroup"].includes(Re),$=o.alignment;!g&&j&&a==="top"&&($==="left"||!$)&&Y.addClass("dx-toggle-controls-paddings")}else N.append(Y);let be;if(g)g.render({container:ae(Y),model:Jv(d,h,n),onRendered(){const Re=Xv(Y),it=ZR(Re);Zv(it)}});else{const Re=u("<div>").appendTo(Y);try{be=s(Re,d.editorType,h),be.setAria("describedby",f),v&&be.setAria("labelledby",v),be.setAria("required",m)}catch(it){Ne.log("E1035",it.message)}}const q=Xv(Y),de=q?.data("dx-validation-target");if(de){var Z;const Re=(Z=d.label)===null||Z===void 0?void 0:Z.text,it=Re?null:b,j=Re?d.label.text:it&&ih(it);let $=null;if(p)if(d.validationRules)$=d.validationRules;else{const R=Ln(T,j);$=d.isRequired?[{type:"required",message:R}]:null}Array.isArray($)&&$.length&&s(q,Sc,{validationRules:$,validationGroup:H,dataGetter:()=>({formItem:d})}),Zv(de)}return w&&p&&Y.parent().append(u("<div>").addClass("dx-field-item-content-wrapper").append(Y).append(u("<div>").addClass("dx-field-item-help-text").attr("id",f).text(w))),{$fieldEditorContainer:Y,$rootElement:N,widgetInstance:be}}const Qv="dx-responsivebox-screen-";class e0 extends Ni{_getDefaultOptions(){return C({},super._getDefaultOptions(),{rows:[],cols:[],singleColumnScreen:"",screenByWidth:null,height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onLayoutChanged:null})}_init(){const{screenByWidth:e}=this.option();e||this._options.silent("screenByWidth",jo),super._init(),this._initLayoutChangedAction()}_initLayoutChangedAction(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readOnly"]})}_itemClass(){return"dx-box-item"}_itemDataKey(){return"dxBoxItemData"}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-responsivebox")}_renderItems(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()}_itemOptionChanged(e){const t=this._findItemElementByItem(e);t.length&&(this._refreshItem(t,e),this._clearItemNodeTemplates(),this._update(!0))}_setScreenSize(){const e=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(Qv+e),this.option("currentScreenFactor",e)}_removeScreenSizeClass(){const{currentScreenFactor:e}=this.option();e&&this.$element().removeClass(Qv+e)}_prepareGrid(){this._grid=[],this._prepareRowsAndCols(),S(this._rows,(()=>{const e=[];this._grid.push(e),S(this._cols,(()=>{e.push(this._createEmptyCell())}))}))}getSingleColumnRows(){const{rows:e}=this.option(),t=this._screenItems.length;if(e!=null&&e.length){const n=this._filterByScreen(e),s=[];for(let o=0;o<t;o+=1){const r=this._defaultSizeConfig();o<n.length&&y(n[o].shrink)&&(r.shrink=n[o].shrink),s.push(r)}return s}return this._defaultSizeConfig(t)}_prepareRowsAndCols(){if(this._isSingleColumnScreen())this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1);else{const{rows:e,cols:t}=this.option();this._rows=this._sizesByScreen(e),this._cols=this._sizesByScreen(t)}}_isSingleColumnScreen(){const{singleColumnScreen:e,rows:t,cols:n}=this.option();return this._screenRegExp().test(e)||!(t!=null&&t.length)||!(n!=null&&n.length)}_prepareSingleColumnScreenItems(){this._screenItems.sort(((e,t)=>e.location.row-t.location.row||e.location.col-t.location.col)),S(this._screenItems,((e,t)=>{Object.assign(t.location,{row:e,col:0,rowspan:1,colspan:1})}))}_sizesByScreen(e){return qe(this._filterByScreen(e),(t=>I(this._defaultSizeConfig(),t)))}_createDefaultSizeConfig(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}}_defaultSizeConfig(e){const t=this._createDefaultSizeConfig();if(!arguments.length)return t;const n=[];for(let s=0;s<e;s+=1)n.push(t);return n}_filterByScreen(e){const t=this._screenRegExp();return St(e,(n=>!n.screen||t.test(n.screen)))}_screenRegExp(){const e=this._getCurrentScreen();return new RegExp(`(^|\\s)${e}($|\\s)`,"i")}_getCurrentScreen(){const e=this._screenWidth(),{screenByWidth:t}=this.option();return t?.(e)}_screenWidth(){return te()?me(we()):1920}_createEmptyCell(){return{item:{},location:{colspan:1,rowspan:1}}}_spreadItems(){S(this._screenItems,((e,t)=>{const n=t.location||{},s=n.col,o=n.row,r=this._grid[o],a=r?.[s];this._occupyCells(a,t)}))}_itemsByScreen(){const{items:e=[]}=this.option();return e.reduce(((t,n)=>{let s=n.location??{};return s=J(s)?[s]:s,this._filterByScreen(s).forEach((o=>{t.push({item:n,location:C({rowspan:1,colspan:1},o)})})),t}),[])}_occupyCells(e,t){!e||this._isItemCellOccupied(e,t)||(I(e,t),this._markSpanningCell(e))}_isItemCellOccupied(e,t){if(!Jt(e.item))return!0;let n=!1;return this._loopOverSpanning(t.location,(s=>{n=n||!Jt(s.item)})),n}_loopOverSpanning(e,t){const n=e.row+e.rowspan-1,s=e.col+e.colspan-1,o=Math.min(n,this._rows.length-1),r=Math.min(s,this._cols.length-1);e.rowspan-=n-o,e.colspan-=s-r;for(let a=e.row;a<=o;a+=1)for(let l=e.col;l<=r;l+=1)(a!==e.row||l!==e.col)&&t(this._grid[a][l])}_markSpanningCell(e){this._loopOverSpanning(e.location,(t=>{t.item=e.item,t.spanningCell=e}))}_linkNodeToItem(){S(this._itemElements(),((e,t)=>{const n=u(t),s=n.data("dxBoxItemData");s.box||(s.node=n.children())}))}_layoutItems(){const e=this._grid.length,t=e&&this._grid[0].length;if(!e&&!t)return;const n=this._layoutBlock({direction:"col",row:{start:0,end:e-1},col:{start:0,end:t-1}}),s=this._prepareBoxConfig(n?.box??{direction:"row",items:[I(n,{ratio:1})]});I(s,this._rootBoxConfig(s.items)),this._$root=u("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,Qi,s)}_rootBoxConfig(e){const t=S(e,((s,o)=>{this._needApplyAutoBaseSize(o)&&(o.baseSize="auto")})),{itemHoldTimeout:n}=this.option();return{width:"100%",height:"100%",items:t,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:n,onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}}_needApplyAutoBaseSize(e){return!e.baseSize&&(!e.minSize||e.minSize==="auto")&&(!e.maxSize||e.maxSize==="auto")}_prepareBoxConfig(e){const{onItemStateChanged:t}=this.option();return I(e||{},{crossAlign:"stretch",onItemStateChanged:t})}_layoutBlock(e){return this._isSingleItem(e)?this._itemByCell(e.row.start,e.col.start):this._layoutDirection(e)}_isSingleItem(e){const{row:t,col:n}=e,s=this._grid[t.start][n.start].location,o=t.end-t.start===s.rowspan-1,r=n.end-n.start===s.colspan-1;return o&&r}_itemByCell(e,t){const n=this._grid[e][t];return n.spanningCell?null:n.item}_layoutDirection(e){const t=[],{direction:n}=e,s=this._crossDirection(n);let o=null;for(;o=this._nextBlock(e);){if(this._isBlockIndivisible(e.prevBlockOptions,o))throw Ne.Error("E1025");const r=this._layoutBlock({direction:s,row:o.row,col:o.col,prevBlockOptions:e});r&&(I(r,this._blockSize(o,s)),t.push(r)),e[s].start=o[s].end+1}return{box:this._prepareBoxConfig({direction:n,items:t})}}_isBlockIndivisible(e,t){return!!e&&e.col.start===t.col.start&&e.col.end===t.col.end&&e.row.start===t.row.start&&e.row.end===t.row.end}_crossDirection(e){return e==="col"?"row":"col"}_nextBlock(e){const{direction:t}=e,n=this._crossDirection(t),s=e[t].start,o=e[t].end,r=e[n].start;if(r>e[n].end)return null;let a=1;for(let c=r;c<r+a;c+=1){let d=1;for(let m=s;m<=o;m+=1){const g=this._cellByDirection(t,m,c);d=Math.max(d,g.location[`${n}span`])}const h=c+d,p=r+a;h>p&&(a+=h-p)}const l={};return l[t]={start:s,end:o},l[n]={start:r,end:r+a-1},l}_cellByDirection(e,t,n){return e==="col"?this._grid[n][t]:this._grid[t][n]}_blockSize(e,t){const n=t==="row"?"auto":0,s=t==="row"?this._rows:this._cols,o=C({},this._createDefaultSizeConfig(),{ratio:0});for(let r=e[t].start;r<=e[t].end;r+=1){const a=s[r];o.ratio+=a.ratio,o.baseSize+=a.baseSize,o.minSize+=a.minSize,o.maxSize+=a.maxSize,y(a.shrink)&&(o.shrink=a.shrink)}return o.minSize||(o.minSize=n),o.maxSize||(o.maxSize="auto"),this._isSingleColumnScreen()&&(o.baseSize="auto"),o}_update(e){var t;const n=this._$root;this._renderItems(),n&&(e?n.remove():(n.detach(),this._saveAssistantRoot(n))),(t=this._layoutChangedAction)===null||t===void 0||t.call(this)}_saveAssistantRoot(e){this._assistantRoots=this._assistantRoots??[],this._assistantRoots.push(e)}_dispose(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),super._dispose()}_cleanUnusedRoots(){this._assistantRoots&&S(this._assistantRoots,((e,t)=>{u(t).remove()}))}_clearItemNodeTemplates(){const{items:e}=this.option();S(e,(function(){delete this.node}))}_attachClickEvent(){}_optionChanged(e){const{name:t}=e;switch(t){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":super._optionChanged(e),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),super._optionChanged(e);break;case"currentScreenFactor":break;default:super._optionChanged(e)}}_dimensionChanged(){const{currentScreenFactor:e}=this.option();this._getCurrentScreen()!==e&&this._update()}repaint(){this._update()}}ve("dxResponsiveBox",e0);const t0=200;class i0 extends jt{_getDefaultOptions(){return C({},super._getDefaultOptions(),{layoutData:{},readOnly:!1,colCount:1,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:t0,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:F.format("dxForm-optionalMark"),requiredMessage:F.getFormatter("dxForm-requiredMessage")})}_setOptionsByReference(){super._setOptionsByReference(),I(this._optionsByReference,{layoutData:!0,validationGroup:!0})}_init(){const{layoutData:e}=this.option();super._init(),this._itemWatchers=[],this._itemsRunTimeInfo=new xg,this._updateReferencedOptions(e),this._initDataAndItems(e)}_dispose(){super._dispose(),this._cleanItemWatchers()}_initDataAndItems(e){this._syncDataWithItems(),this._updateItems(e)}_syncDataWithItems(){const{layoutData:e,items:t}=this.option();y(t)&&t.forEach((n=>{if(n.dataField&&this._getDataByField(n.dataField)===void 0){var s;const o=(s=n.editorOptions)===null||s===void 0?void 0:s.value;(y(o)||n.dataField in e)&&this._updateFieldValue(n.dataField,o)}}))}_getDataByField(e){return e?this.option(`layoutData.${e}`):null}_isCheckboxUndefinedStateEnabled(e,t,n){if(e&&t==="dxCheckBox"){const s=["layoutData",...n.split(".")],o=s.pop(),r=this.option(s.join("."));return o?r&&o in r:!1}return!1}_updateFieldValue(e,t){const{layoutData:n}=this.option();let s=t;!vt.isWrapped(n[e])&&y(e)?this.option(`layoutData.${e}`,s):vt.isWritableWrapped(n[e])&&(s=L(s)?s():s,n[e](s)),this._triggerOnFieldDataChanged({dataField:e,value:s})}_triggerOnFieldDataChanged(e){this._createActionByOption("onFieldDataChanged")(e)}_updateItems(e){const{items:t}=this.option(),n=y(t),{customizeItem:s}=this.option(),o=n?t:this._generateItemsByData(e);if(y(o)){const r=[];S(o,((a,l)=>{this._isAcceptableItem(l)&&(l=this._processItem(l),s?.(l),X(l)&&vt.unwrap(l.visible)!==!1&&r.push(l))})),(!this._itemWatchers.length||!n)&&this._updateItemWatchers(o),this._setItems(r),this._sortItems()}}_cleanItemWatchers(){this._itemWatchers.forEach((e=>{e()})),this._itemWatchers=[]}_updateItemWatchers(e){const t=this._getWatch();e.forEach((n=>{X(n)&&y(n.visible)&&L(t)&&this._itemWatchers.push(t((()=>vt.unwrap(n.visible)),(()=>{const{layoutData:s}=this.option();this._updateItems(s),this.repaint()}),{skipImmediate:!0}))}))}_generateItemsByData(e){const t=[];return y(e)&&S(e,(n=>{t.push({dataField:n})})),t}_isAcceptableItem(e){const t=le(e)?e:e.dataField,n=this._getDataByField(t);return!(L(n)&&!vt.isWrapped(n))}_processItem(e){if(typeof e=="string"&&(e={dataField:e}),typeof e=="object"&&!e.itemType&&(e.itemType=ld),!y(e.editorType)&&y(e.dataField)){const t=this._getDataByField(e.dataField);e.editorType=y(t)?this._getEditorTypeByDataType(gt(t)):"dxTextBox"}return e.editorType==="dxCheckBox"&&(e.allowIndeterminateState=e.allowIndeterminateState??!0),e}_getEditorTypeByDataType(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}}_sortItems(){tE(this._items,"visibleIndex"),this._sortIndexes()}_sortIndexes(){var e;(e=this._items)===null||e===void 0||e.sort(((t,n)=>{const s=t.visibleIndex,o=n.visibleIndex;return s>o?1:s<o?-1:0}))}_initMarkup(){this._itemsRunTimeInfo.clear(),this.$element().addClass(zA),super._initMarkup(),this._renderResponsiveBox()}_renderResponsiveBox(){var e;const t=[];if((e=this._items)!==null&&e!==void 0&&e.length){const n=this._getColCount(),s=u("<div>").appendTo(this.$element());this._prepareItemsWithMerging(n);const o=this._generateLayoutItems();this._responsiveBox=super._createComponent(s,e0,this._getResponsiveBoxConfig(o,n,t)),te()||this._renderTemplates(t)}}_itemStateChangedHandler(e){this._refresh()}_renderTemplates(e){let t=0;e.forEach((n=>{var s;let{item:o}=n;o!=null&&(s=o.label)!==null&&s!==void 0&&s.template&&(t+=1)})),S(e,((n,s)=>{switch(s.itemType){case"empty":XR(s);break;case"button":this._renderButtonItem(s);break;default:this._renderFieldItem(s,t)}}))}_getResponsiveBoxConfig(e,t,n){const s=this,{colCountByScreen:o,screenByWidth:r}=this.option(),a=o?.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged:()=>{const{onLayoutChanged:l}=this.option(),c=this.isSingleColumnMode();l&&(this.$element().toggleClass(ag,c),l(c))},onContentReady:l=>{te()&&this._renderTemplates(n);const{onLayoutChanged:c}=this.option();c&&this.$element().toggleClass(ag,this.isSingleColumnMode(l.component))},itemTemplate(l,c,d){var h;const{location:p}=l;if(!p)return;const m=u(d),g=p.row*t,f=(h=s._items)===null||h===void 0?void 0:h[p.col+g];if(!f)return;const v=[f.cssClass??""];m.toggleClass(GA,s.isSingleColumnMode(this)),p.row===0&&v.push("dx-first-row"),p.col===0&&v.push("dx-first-col");const{isRoot:b}=s.option();f.itemType===ld&&b&&m.addClass(dg);const w=p.col===t-1||p.col+p.colspan===t,T=s._getRowsCount(),H=p.row===T-1;if(w&&v.push("dx-last-col"),H&&v.push("dx-last-row"),f.itemType!=="empty"){v.push(rg);const{cssItemClass:N=""}=s.option();v.push(N),y(f.col)&&v.push(`dx-col-${f.col}`)}n.push({itemType:f.itemType,item:f,$parent:m,rootElementCssClassList:v})},cols:this._generateRatio(t),rows:this._generateRatio(this._getRowsCount(),!0),dataSource:e,screenByWidth:r,singleColumnScreen:a?!1:"xs"}}_getColCount(){let{colCount:e}=this.option();const t=this.option("colCountByScreen");if(t){const{form:n}=this.option();let s=n?.getTargetScreenFactor();s||(s=te()?Ka(this.option("screenByWidth")):"lg"),e=t[s]||e}if(e==="auto"){if(this._cashedColCount)return this._cashedColCount;e=this._getMaxColCount(),this._cashedColCount=e}return e<1?1:e}_getMaxColCount(){if(!te())return 1;const{minColWidth:e=t0}=this.option(),t=me(this.$element()),n=this._items.length,s=Math.floor(t/e)||1;return n<s?n:s}isCachedColCountObsolete(){return!!this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount}_prepareItemsWithMerging(e){const t=(this._items??[]).slice(0);let n=[];for(let s=0;s<t.length;s+=1){const o=t[s];n.push(o);const{alignItemLabels:r}=this.option();if((r||o.alignItemLabels||o.colSpan)&&(o.col=this._getColByIndex(n.length-1,e)),o.colSpan>1&&o.col+o.colSpan<=e){const a=[];for(let l=0;l<o.colSpan-1;l+=1)a.push({merged:!0});n=n.concat(a)}else delete o.colSpan}this._setItems(n)}_getColByIndex(e,t){return e%t}_setItems(e){this._items=e,this._cashedColCount=null}_generateLayoutItems(){const e=this._items??[],t=this._getColCount(),n=[];for(let s=0;s<e.length;s+=1){const o=e[s];if(!o.merged){const r={row:parseInt(String(s/t),10),col:this._getColByIndex(s,t)};y(o.colSpan)&&(r.colspan=o.colSpan),y(o.rowSpan)&&(r.rowspan=o.rowSpan);const a={location:r};y(o.disabled)&&(a.disabled=o.disabled),y(o.visible)&&(a.visible=o.visible),n.push(a)}}return n}_renderButtonItem(e){const{item:t,$parent:n,rootElementCssClassList:s}=e,{validationGroup:o}=this.option(),{$rootElement:r,buttonInstance:a}=YR({item:t,$parent:n,rootElementCssClassList:s,validationGroup:o,createComponentCallback:(l,c)=>super._createComponent(l,Dt,c)});this._itemsRunTimeInfo.add({item:t,widgetInstance:a,guid:t.guid,$itemContainer:r})}_renderFieldItem(e,t){var n;const{item:s,$parent:o,rootElementCssClassList:r}=e,a=this._getDataByField(s.dataField);let l=!1;if(a===void 0){const{allowIndeterminateState:z,editorType:be,dataField:q}=s;l=this._isCheckboxUndefinedStateEnabled(z,be,q)}const c=s.dataField||s.name,d=this._getFormOrThis(),{form:h,labelLocation:p,requiredMessage:m,validationGroup:g,validationBoundary:f,showColonAfterLabel:v,labelMode:b}=this.option(),w=aO({$parent:o,rootElementCssClassList:r,item:s,name:c,editorValue:a,canAssignUndefinedValueToEditor:l,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:p,requiredMessageTemplate:m,validationGroup:g,editorValidationBoundary:f,editorStylingMode:h?.option("stylingMode"),showColonAfterLabel:!!v,managerLabelLocation:p,template:s.template?this._getTemplate(s.template):null,labelTemplate:(n=s.label)!==null&&n!==void 0&&n.template?this._getTemplate(s.label.template):null,itemId:h?.getItemID(c),managerMarkOptions:this._getMarkOptions(),labelMode:b,onLabelTemplateRendered:()=>{this._incTemplateRenderedCallCount(),this._shouldAlignLabelsOnTemplateRendered(d,t)&&d._alignLabels(this,this.isSingleColumnMode(d))}}),{$fieldEditorContainer:T,widgetInstance:H,$rootElement:N}=JR(w),{onFieldItemRendered:Y}=this.option();Y?.(),H&&s.dataField&&this._bindDataField(H,s.dataField,T),this._itemsRunTimeInfo.add({item:s,widgetInstance:H,guid:s.guid,$itemContainer:N})}_incTemplateRenderedCallCount(){this._labelTemplateRenderedCallCount=(this._labelTemplateRenderedCallCount??0)+1}_shouldAlignLabelsOnTemplateRendered(e,t){const{templatesRenderAsynchronously:n}=e.option();return!!n&&this._labelTemplateRenderedCallCount===t}_getMarkOptions(){const{showRequiredMark:e,requiredMark:t,showOptionalMark:n,optionalMark:s}=this.option();return{showRequiredMark:e,requiredMark:t,showOptionalMark:n,optionalMark:s}}_getFormOrThis(){const{form:e}=this.option();return e||this}_bindDataField(e,t,n){const s=this._getFormOrThis();e.on("enterKey",(o=>{s._createActionByOption("onEditorEnterKey")(I(o,{dataField:t}))})),this._createWatcher(e,n,t),this.linkEditorToDataField(e,t)}_createWatcher(e,t,n){const s=this._getWatch();if(!L(s))return;const o=s((()=>this._getDataByField(n)),(()=>{const r=this._getDataByField(n);if(e.NAME==="dxTagBox"){const a=e.option("value");if(r!==a&&(function(l,c){if(!Array.isArray(l)||!Array.isArray(c)||l.length!==c.length)return!1;for(let d=0;d<l.length;d+=1)if(l[d]!==c[d])return!1;return!0})(r,a))return}e.option("value",r)}),{deep:!0,skipImmediate:!0},{createWatcherDataField:n});_.on(t,pn,o)}_getWatch(){if(!y(this._watch)){const{form:e}=this.option();this._watch=e?.option("integrationOptions.watchMethod")}return this._watch}_createComponent(e,t,n){const{readOnly:s}=this.option();let o=Object.hasOwn(n,"readOnly");const r=super._createComponent(e,t,C({},n,{readOnly:o?n.readOnly:s}));let a=!1;return r.on("optionChanged",(l=>{l.name==="readOnly"&&!a&&(o=!0)})),this.on("optionChanged",(l=>{l.name==="readOnly"&&!o&&(a=!0,r.option(l.name,l.value),a=!1)})),r}_generateRatio(e,t){const n=[];for(let s=0;s<e;s+=1){const o={ratio:1};t&&(o.baseSize="auto"),n.push(o)}return n}_getRowsCount(){const e=this._items??[];return Math.ceil(e.length/this._getColCount())}_updateReferencedOptions(e){const t=this.option("layoutData");X(t)&&Object.getOwnPropertyNames(t).forEach((n=>delete this._optionsByReference[`layoutData.${n}`])),X(e)&&Object.getOwnPropertyNames(e).forEach((n=>this._optionsByReference[`layoutData.${n}`]=!0))}_clearWidget(e){this._disableEditorValueChangedHandler=!0,e.clear(),this._disableEditorValueChangedHandler=!1,e.option("isValid",!0)}_optionChanged(e){if(e.fullName.search("layoutData.")!==0)switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"layoutData":{this._updateReferencedOptions(e.value);const{items:t}=this.option();t?Jt(e.value)||this._itemsRunTimeInfo.each(((n,s)=>{if(y(s.item)){const{dataField:o}=s.item;if(o&&y(s.widgetInstance)){const a=et(o)(e.value),{allowIndeterminateState:l,editorType:c}=s.item;a!==void 0||this._isCheckboxUndefinedStateEnabled(l,c,o)?s.widgetInstance.option("value",a):this._clearWidget(s.widgetInstance)}}})):(this._initDataAndItems(e.value),this._invalidate());break}case"items":this._cleanItemWatchers(),this._initDataAndItems(e.value),this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":case"colCountByScreen":this._resetColCount();break;case"minColWidth":{const{colCount:t}=this.option();t==="auto"&&this._resetColCount();break}case"readOnly":case"onFieldDataChanged":break;case"width":{super._optionChanged(e);const{colCount:t}=this.option();t==="auto"&&this._resetColCount();break}default:super._optionChanged(e)}}_resetColCount(){this._cashedColCount=null,this._invalidate()}linkEditorToDataField(e,t){this.on("optionChanged",(n=>{n.fullName===`layoutData.${t}`&&e._setOptionWithoutOptionChange("value",n.value)})),e.on("valueChanged",(n=>{const s=X(n.value)||Array.isArray(n.value);!this._disableEditorValueChangedHandler&&!(s&&n.value===n.previousValue)&&this._updateFieldValue(t,n.value)}))}_dimensionChanged(){const{colCount:e}=this.option();e==="auto"&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")}updateData(e,t){X(e)?S(e,((n,s)=>{this._updateFieldValue(n,s)})):typeof e=="string"&&this._updateFieldValue(e,t)}getEditor(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)??this._itemsRunTimeInfo.findWidgetInstanceByName(e)}isSingleColumnMode(e){const t=this._responsiveBox||e;if(t){const{currentScreenFactor:n,singleColumnScreen:s}=t.option();return n===s}return!1}getItemsRunTimeInfo(){return this._itemsRunTimeInfo}}ve("dxLayoutManager",i0);const Sa={move(i,e){rt(i,{left:e})}},Gd={moveTo(i,e,t,n){Te.animate(i.get(0),{type:"slide",to:{left:e},duration:t,complete:n})},complete(i){Te.stop(i.get(0),!0)}},n0=i=>+i,QR=i=>Li(i).left;class s0 extends Md{_activeStateUnit(){return".dx-multiview-item"}_supportedKeys(){return C({},super._supportedKeys(),{pageUp:M,pageDown:M})}_getDefaultOptions(){return C({},super._getDefaultOptions(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}}])}_itemClass(){return"dx-multiview-item"}_itemDataKey(){return"dxMultiViewItemData"}_itemContainer(){return this._$itemContainer}_itemElements(){return this._itemContainer().children(this._itemSelector())}_itemWidth(){return this._itemWidthValue?this._itemWidthValue:me(this._$wrapper)}_clearItemWidthCache(){delete this._itemWidthValue}_itemsCount(){const{items:e=[]}=this.option();return e.length}_isAllItemsHidden(){const{items:e=[]}=this.option();return e.every(((t,n)=>!this._isItemVisible(n)))}_normalizeIndex(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const s=this._itemsCount();let o=e;if(this._isAllItemsHidden())return;e<0&&(o+=s),e>=s&&(o-=s);const r=t>0?-1:1,a=r===-1?0:s-1;for(;!this._isItemVisible(o)&&(n||o!==a);)o=(o+r+s)%s;return o}_getRTLSignCorrection(){const{rtlEnabled:e}=this.option();return e?-1:1}_init(){super._init();const e=this.$element();e.addClass("dx-multiview"),this._$wrapper=u("<div>").addClass("dx-multiview-wrapper"),this._$wrapper.appendTo(e),this._$itemContainer=u("<div>").addClass("dx-multiview-item-container"),this._$itemContainer.appendTo(this._$wrapper);const{loop:t}=this.option();this.option("loopItemFocus",t),this._findBoundaryIndices(),this._initSwipeable()}_ensureSelectedItemIsVisible(){const{loop:e,selectedIndex:t}=this.option();if(!y(t)||this._isItemVisible(t))return;if(this._isAllItemsHidden()){this.option("selectedIndex",0);return}const n=-1*this._getRTLSignCorrection();let s=this._normalizeIndex(t,n,e);s===t&&(s=this._normalizeIndex(t,-n,e)),this.option("selectedIndex",s)}_initMarkup(){this._deferredItems=[],super._initMarkup(),this._ensureSelectedItemIsVisible();const e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0]),this._setElementAria(),this._setItemsAria()}_afterItemElementDeleted(e,t){super._afterItemElementDeleted(e,t),this._deferredItems&&this._deferredItems.splice(t.itemIndex,1)}_beforeItemElementInserted(e){super._beforeItemElementInserted(e),this._deferredItems&&this._deferredItems.splice(e.index,0,null)}_executeItemRenderAction(e,t,n){const{items:s=[]}=this.option(),o=s.indexOf(t);super._executeItemRenderAction(o,t,n)}_renderItemContent(e){const t=A(),n=A();n.done((()=>{const o=super._renderItemContent(e);t.resolve(o)})),this._deferredItems[e.index]=n;const{deferRendering:s}=this.option();return s||n.resolve(),t.promise()}_render(){super._render(),Pi((()=>{const e=this._getSelectedItemIndices();this._updateItems(e[0])}))}_getElementAria(){return{role:"group",roledescription:F.format("dxMultiView-elementAriaRoleDescription"),label:F.format("dxMultiView-elementAriaLabel")}}_setElementAria(){const e=this._getElementAria();this.setAria(e,this.$element())}_setItemsAria(){const e=this._itemElements(),t=this._itemsCount();e.each(((n,s)=>{const o=this._getItemAria({itemIndex:n,itemsCount:t});this.setAria(o,u(s))}))}_getItemAria(e){const{itemIndex:t,itemsCount:n}=e;return{role:"group",roledescription:F.format("dxMultiView-itemAriaRoleDescription"),label:F.format("dxMultiView-itemAriaLabel",t+1,n)}}_updateItems(e,t){this._updateItemsPosition(e,t),this._updateItemsVisibility(e,t)}_modifyByChanges(e,t){super._modifyByChanges(e,t);const n=this._getSelectedItemIndices();this._updateItemsVisibility(n[0])}_updateItemsPosition(e,t){const n=this._itemElements(),s=y(t)?-this._animationDirection(t,e):void 0,o=n.eq(e);Sa.move(o,0),y(t)&&y(s)&&Sa.move(n.eq(t),100*s+"%")}_isItemVisible(e){var t;const{items:n=[]}=this.option();return(y(e)&&((t=n[e])===null||t===void 0?void 0:t.visible))??!0}_updateItemsVisibility(e,t){this._itemElements().each(((s,o)=>{const r=u(o),a=s!==e&&s!==t;a||this._renderSpecificItem(s),r.toggleClass("dx-multiview-item-hidden",a),this.setAria("hidden",a||void 0,r)}))}_renderSpecificItem(e){const t=this._itemElements().eq(e),n=t.find(this._itemContentClass()).length>0;if(y(e)&&!n){var s;(s=this._deferredItems[e])===null||s===void 0||s.resolve(),Bt(t)}}_refreshItem(e,t){super._refreshItem(e,t);const{selectedIndex:n=0}=this.option();this._updateItemsVisibility(n)}_setAriaSelectionAttribute(){}_updateSelection(e,t){const n=e[0],s=t[0];Gd.complete(this._$itemContainer),this._updateItems(s,n);const o=this._animationDirection(n,s);this._animateItemContainer(o*this._itemWidth(),(()=>{Sa.move(this._$itemContainer,0),this._updateItems(n),me(this._$itemContainer)}))}_animateItemContainer(e,t){const{animationEnabled:n}=this.option(),s=n?200:0;Gd.moveTo(this._$itemContainer,e,s,t)}_animationDirection(e,t){const n=QR(this._$itemContainer),s=this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),o=(t-e)*s;return vn(n!==0?n:o)}_getSwipeDisabledState(){const{swipeEnabled:e}=this.option();return!e||this._itemsCount()<=1}_initSwipeable(){this._createComponent(this.$element(),ma,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:e=>{this._swipeStartHandler(e.event)},onUpdated:e=>{this._swipeUpdateHandler(e.event)},onEnd:e=>{this._swipeEndHandler(e.event)}})}_findBoundaryIndices(){const{items:e=[]}=this.option();let t,n;e.forEach(((s,o)=>{const r=!!s?.disabled,a=this._isItemVisible(o);!r&&a&&(t??(t=o),n=o)})),this._boundaryIndices={firstAvailableIndex:t??0,lastAvailableIndex:n??e.length-1,firstTrueIndex:0,lastTrueIndex:e.length-1}}_swipeStartHandler(e){Gd.complete(this._$itemContainer);const{selectedIndex:t,loop:n,rtlEnabled:s}=this.option();if(!y(t)||!y(this._boundaryIndices))return;const{firstAvailableIndex:o,lastAvailableIndex:r}=this._boundaryIndices,a=s?t>o:t<r,l=s?t<r:t>o;e.maxLeftOffset=n0(!!n||a),e.maxRightOffset=n0(!!n||l)}_swipeUpdateHandler(e){const{offset:t}=e,n=vn(t)*this._getRTLSignCorrection(),{selectedIndex:s}=this.option();if(!y(s))return;const o=this._normalizeIndex(s-n,n);s!==o&&(Sa.move(this._$itemContainer,t*this._itemWidth()),this._updateItems(s,o))}_findNextAvailableIndex(e,t){if(!y(this._boundaryIndices))return e;const{items:n=[],loop:s}=this.option(),{firstAvailableIndex:o,lastAvailableIndex:r,firstTrueIndex:a,lastTrueIndex:l}=this._boundaryIndices,c=[a,o].includes(e),d=[l,r].includes(e);if(s){if(c&&t<0)return r;if(d&&t>0)return o}for(let h=e+t;h>=o&&h<=r;h+=t){const p=!!n[h].disabled,m=this._isItemVisible(h);if(!p&&m)return h}return e}_postprocessSwipe(e){}_swipeEndHandler(e){const t=e.targetOffset*this._getRTLSignCorrection();if(t){const{selectedIndex:n}=this.option();if(!y(n))return;const s=this._findNextAvailableIndex(n,-t);this.selectItem(s).fail((()=>{this._animateItemContainer(0,M)})).done((()=>{this._postprocessSwipe({swipedTabsIndex:s})}));const o=this.itemElements().filter(".dx-item-selected"),{focusStateEnabled:r}=this.option();r&&this.option("focusedElement",ae(o))}else this._animateItemContainer(0,M)}_getItemFocusLoopSignCorrection(){return this._itemFocusLooped?-1:1}_moveFocus(e,t){super._moveFocus(e,t),this._itemFocusLooped=!1}_prevItem(e){const t=super._prevItem(e);return this._itemFocusLooped=t.is(e.last()),t}_nextItem(e){const t=super._nextItem(e);return this._itemFocusLooped=t.is(e.first()),t}_dimensionChanged(){this._clearItemWidthCache()}_visibilityChanged(e){e&&this._dimensionChanged()}_updateSwipeDisabledState(){const e=this._getSwipeDisabledState();ma.getInstance(this.$element()).option("disabled",e)}_dispose(){delete this._boundaryIndices,super._dispose()}_itemOptionChanged(e,t,n,s){super._itemOptionChanged(e,t,n,s);const{selectedItem:o}=this.option();t==="visible"&&e===o&&this._ensureSelectedItemIsVisible()}_optionChanged(e){const{value:t}=e;switch(e.name){case"loop":this.option("loopItemFocus",t);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),super._optionChanged(e);break;case"selectedIndex":this._isItemVisible(t)?super._optionChanged(e):this._ensureSelectedItemIsVisible();break;default:super._optionChanged(e)}}}ve("dxMultiView",s0);function o0(i){return i.scrollWidth-i.clientWidth}function eP(i){return i.scrollHeight-i.clientHeight}function tP(i,e){return Math.round(i)<=e}function iP(i,e,t){return Math.round(o0(i)-e)<=t}function nP(i,e){return Math.round(i)<=e}function sP(i,e,t,n){return Math.round(eP(i)-e-t)<=n}const r0="dx-tabs-expanded";class oP extends En{_renderWatchers(){super._renderWatchers(),this._startWatcher("badge",this._renderBadge.bind(this))}_renderBadge(e){if(this._$element.children(".dx-badge").remove(),!e)return;const t=u("<div>").addClass("dx-tabs-item-badge").addClass("dx-badge").text(e);this._$element.append(t)}}const rP="dx-tab-text",aP="dx-tab-text-span",lP="dx-tab-text-span-pseudo",a0={vertical:"dx-tabs-vertical",horizontal:"dx-tabs-horizontal"},l0={top:"dx-tab-indicator-position-top",right:"dx-tab-indicator-position-right",bottom:"dx-tab-indicator-position-bottom",left:"dx-tab-indicator-position-left"},$o={top:"dx-tabs-icon-position-top",end:"dx-tabs-icon-position-end",bottom:"dx-tabs-icon-position-bottom",start:"dx-tabs-icon-position-start"},c0={primary:"dx-tabs-styling-mode-primary",secondary:"dx-tabs-styling-mode-secondary"},Kd={horizontal:"horizontal",vertical:"vertical"},Ea={right:"right",bottom:"bottom",left:"left"},d0={horizontal:"horizontal",vertical:"vertical"},vs={top:"top",end:"end",bottom:"bottom",start:"start"},u0={primary:"primary",secondary:"secondary"};class Ud extends Md{_activeStateUnit(){return".dx-tab"}_feedbackHideTimeout(){return 100}_getDefaultOptions(){return C({},super._getDefaultOptions(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",orientation:Kd.horizontal,iconPosition:vs.start,stylingMode:u0.primary,activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:e=>e?.badge,_itemAttributes:{role:"tab"},_indicatorPosition:null})}_defaultOptionsRules(){const e=ke();return super._defaultOptionsRules().concat([{device:()=>B.real().deviceType!=="desktop",options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>oi(e),options:{iconPosition:vs.top,stylingMode:u0.secondary}},{device:()=>wt(e),options:{useInkRipple:!0,selectOnFocus:!1,iconPosition:vs.top}}])}_init(){const{orientation:e,stylingMode:t,scrollingEnabled:n}=this.option(),s=this._getIndicatorPosition();super._init(),this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._toggleScrollingEnabledClass(n),this._toggleOrientationClass(e),this._toggleIndicatorPositionClass(s),this._toggleIconPositionClass(),this._toggleStylingModeClass(t),this._renderWrapper(),this._renderMultiple()}_prepareDefaultItemTemplate(e,t){const n=J(e)?e?.text:e;if(y(n)){const s=u("<span>").addClass("dx-tab-text-span");s.text(n);const o=u("<span>").addClass("dx-tab-text-span-pseudo");o.text(n),o.appendTo(s),s.appendTo(t)}y(e.html)&&t.html(e.html)}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({item:new so(((e,t)=>{this._prepareDefaultItemTemplate(t,e);const n=Dc(t.icon);n&&n.prependTo(e);const s=u("<div>").addClass("dx-tab-text");e.wrapInner(s)}),["text","html","icon"],this.option("integrationOptions.watchMethod"))})}_itemClass(){return"dx-tab"}_selectedItemClass(){return"dx-tab-selected"}_itemDataKey(){return"dxTabData"}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass("dx-overflow-hidden"),this._attachResizeObserverSubscription()}_postProcessRenderItems(){this._renderScrolling()}_renderScrolling(){const e=["dx-tabs-stretched",r0,"dx-overflow-hidden"];if(this.$element().removeClass(e.join(" ")),this.option("scrollingEnabled")&&this._isItemsSizeExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());const t=this.getScrollable();if(t?.update(),this.option("rtlEnabled")){const s=o0(u(this.getScrollable().container()).get(0));t?.scrollTo({left:s})}this._updateNavButtonsState();const{selectedItem:n}=this.option();this._scrollToItem(n)}this.option("scrollingEnabled")&&this._isItemsSizeExceeded()||(this._cleanScrolling(),this._needStretchItems()&&this.$element().addClass("dx-tabs-stretched"),this.$element().removeClass("dx-tabs-nav-buttons").addClass(r0))}_isVertical(){const{orientation:e}=this.option();return e===Kd.vertical}_isItemsSizeExceeded(){return this._isVertical()?this._isItemsHeightExceeded():this._isItemsWidthExceeded()}_isItemsWidthExceeded(){const e=this._getVisibleItems(),t=this._getSummaryItemsSize("width",e,!0),n=me(this.$element());return[t,n].includes(0)?!1:t>n-1}_isItemsHeightExceeded(){const e=this._getVisibleItems(),t=this._getSummaryItemsSize("height",e,!0),n=Oe(this.$element());return t-1>n}_needStretchItems(){const e=this._getVisibleItems(),t=me(this.$element()),n=[];S(e,((r,a)=>{n.push(Ue(a,!0))}));const s=Math.max.apply(null,n),o=t/e.length;return s>o+1}_cleanNavButtons(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)}_cleanScrolling(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())}_renderInkRipple(){this._inkRipple=S_()}_getPointerEvent(){return Ae.up}_toggleActiveState(e,t,n){if(super._toggleActiveState(e,t,n),!this._inkRipple)return;const s={element:e,event:n};t?this._inkRipple.showWave(s):this._inkRipple.hideWave(s)}_renderMultiple(){const{selectionMode:e}=this.option();e==="multiple"&&this.option("selectOnFocus",!1)}_renderWrapper(){this._$wrapper=u("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)}_itemContainer(){return this._$wrapper}_getScrollableDirection(){return this._isVertical()?d0.vertical:d0.horizontal}_updateScrollable(){this.getScrollable()&&this._cleanScrolling(),this._renderScrolling()}_renderScrollable(){const e=this.$element().wrapInner(u("<div>").addClass("dx-tabs-scrollable")).children(),{scrollByContent:t}=this.option();this._scrollable=this._createComponent(e,gs,{direction:this._getScrollableDirection(),showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:t,onScroll:()=>{this._updateNavButtonsState()}}),this.$element().append(this._scrollable.$element())}_scrollToItem(e){if(!this._scrollable)return;const t=this._editStrategy.getItemElement(e);this._scrollable.scrollToElement(t)}_itemPointerHandler(e){this._handleItemFocus(e)}_itemPointerUpHandler(e){super._itemPointerHandler(e)}_renderNavButtons(){const{showNavButtons:e,rtlEnabled:t}=this.option();if(this.$element().toggleClass("dx-tabs-nav-buttons",e),!e)return;this._leftButton=this._createNavButton(-30,t?"chevronnext":"chevronprev");const n=this._leftButton.$element();n.addClass("dx-tabs-nav-button-left"),this.$element().prepend(n),this._rightButton=this._createNavButton(30,t?"chevronprev":"chevronnext");const s=this._rightButton.$element();s.addClass("dx-tabs-nav-button-right"),this.$element().append(s)}_updateNavButtonsAriaDisabled(){[this._leftButton,this._rightButton].forEach((t=>{t?.$element().attr({"aria-disabled":null})}))}_updateNavButtonsState(){const e=this._isVertical(),t=this.getScrollable();if(e){var n,s;(n=this._leftButton)===null||n===void 0||n.option("disabled",nP(t.scrollTop(),1)),(s=this._rightButton)===null||s===void 0||s.option("disabled",sP(u(t.container()).get(0),t.scrollTop(),0,1))}else{var o,r;(o=this._leftButton)===null||o===void 0||o.option("disabled",tP(t.scrollLeft(),1)),(r=this._rightButton)===null||r===void 0||r.option("disabled",iP(u(t.container()).get(0),t.scrollLeft(),1))}this._updateNavButtonsAriaDisabled()}_updateScrollPosition(e,t){var n,s;(n=this._scrollable)===null||n===void 0||n.update(),(s=this._scrollable)===null||s===void 0||s.scrollBy(e/t)}_createNavButton(e,t){const n=this._createAction((()=>{this._holdInterval=setInterval((()=>{this._updateScrollPosition(e,5)}),5)})),s=k(no.name,"dxNavButton"),o=k(Ae.up,"dxNavButton"),r=k(Ae.out,"dxNavButton"),a=this._createComponent(u("<div>").addClass("dx-tabs-nav-button"),Dt,{focusStateEnabled:!1,icon:t,integrationOptions:{},elementAttr:{role:null,"aria-label":null,"aria-disabled":null},onClick:()=>{this._updateScrollPosition(e,1)}}),l=a.$element();return _.on(l,s,{timeout:300},(c=>{n({event:c})})),_.on(l,o,(()=>{this._clearInterval()})),_.on(l,r,(()=>{this._clearInterval()})),a}_clearInterval(){this._holdInterval&&clearInterval(this._holdInterval)}_updateSelection(e){if(this._scrollable)return this._scrollable.scrollToElement(this.itemElements().eq(e[0]))}_visibilityChanged(e){e&&this._dimensionChanged()}_attachResizeObserverSubscription(){ni.unobserve(this.$element().get(0)),ni.observe(this.$element().get(0),(()=>{this._dimensionChanged()}))}_dimensionChanged(){this._renderScrolling()}_enterKeyHandler(e){const{focusedElement:t}=this.option();super._enterKeyHandler(e),this.option("focusedElement",t)}_itemSelectHandler(e){const{selectionMode:t}=this.option();t==="single"&&this.isItemSelected(e.currentTarget)||super._itemSelectHandler(e)}_clean(){ni.unobserve(this.$element().get(0)),this._cleanScrolling(),super._clean()}_toggleTabsVerticalClass(e){this.$element().toggleClass(a0.vertical,e)}_toggleTabsHorizontalClass(e){this.$element().toggleClass(a0.horizontal,e)}_getIndicatorPositionClass(e){return l0[e]}_getIndicatorPosition(){const{_indicatorPosition:e,rtlEnabled:t}=this.option();if(e)return e;const n=this._isVertical();return t?n?Ea.left:Ea.bottom:n?Ea.right:Ea.bottom}_toggleIndicatorPositionClass(e){const t=this._getIndicatorPositionClass(e);this._toggleElementClasses(l0,t)}_toggleScrollingEnabledClass(e){this.$element().toggleClass("dx-tabs-scrolling-enabled",!!e)}_toggleOrientationClass(e){const t=e===Kd.vertical;this._toggleTabsVerticalClass(t),this._toggleTabsHorizontalClass(!t)}_getTabsIconPositionClass(){const{iconPosition:e}=this.option();switch(e){case vs.top:return $o.top;case vs.end:return $o.end;case vs.bottom:return $o.bottom;default:return $o.start}}_toggleIconPositionClass(){const e=this._getTabsIconPositionClass();this._toggleElementClasses($o,e)}_toggleStylingModeClass(e){const t=c0[e??"primary"];this._toggleElementClasses(c0,t)}_toggleElementClasses(e,t){for(const n in e)this.$element().removeClass(e[n]);this.$element().addClass(t)}_toggleFocusedDisabledNextClass(e,t){this._itemElements().eq(e).toggleClass("dx-focused-disabled-next-tab",t)}_toggleFocusedDisabledPrevClass(e,t){this._itemElements().eq(e).toggleClass("dx-focused-disabled-prev-tab",t)}_toggleFocusedDisabledClasses(e){const{selectedIndex:t}=this.option();this._itemElements().removeClass("dx-focused-disabled-next-tab").removeClass("dx-focused-disabled-prev-tab");const n=t-1,s=t+1,o=u(e).index(),r=this._itemElements().eq(s).hasClass("dx-state-disabled"),a=this._itemElements().eq(n).hasClass("dx-state-disabled"),l=r&&o===s,c=a&&o===n;this._toggleFocusedDisabledNextClass(t,l),this._toggleFocusedDisabledPrevClass(t,c)}_updateFocusedElement(){const{focusStateEnabled:e,selectedIndex:t}=this.option(),n=this._itemElements();if(e&&n.length){const s=n.get(t);this.option({focusedElement:s})}}_optionChanged(e){var t;const{name:n,value:s}=e;switch(n){case"useInkRipple":case"scrollingEnabled":this._toggleScrollingEnabledClass(s),this._invalidate();break;case"showNavButtons":case"badgeExpr":this._invalidate();break;case"scrollByContent":(t=this._scrollable)===null||t===void 0||t.option(n,s);break;case"width":case"height":super._optionChanged(e),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),super._optionChanged(e);break;case"focusedElement":this._toggleFocusedDisabledClasses(u(s)),super._optionChanged(e),this._scrollToItem(s);break;case"rtlEnabled":{super._optionChanged(e);const o=this._getIndicatorPosition();this._toggleIndicatorPositionClass(o);break}case"orientation":{this._toggleOrientationClass(s);const o=this._getIndicatorPosition();this._toggleIndicatorPositionClass(o),te()&&this._updateScrollable();break}case"iconPosition":this._toggleIconPositionClass(),te()&&this._dimensionChanged();break;case"stylingMode":this._toggleStylingModeClass(s),te()&&this._dimensionChanged();break;case"_indicatorPosition":{const o=this._getIndicatorPosition();this._toggleIndicatorPositionClass(o);break}case"selectedIndex":case"selectedItem":case"selectedItems":super._optionChanged(e),this._updateFocusedElement();break;default:super._optionChanged(e)}}_afterItemElementInserted(){super._afterItemElementInserted(),this._planPostRenderActions()}_afterItemElementDeleted(e,t){super._afterItemElementDeleted(e,t),this._renderScrolling()}getScrollable(){return this._scrollable}}Ud.ItemClass=oP,ve("dxTabs",Ud);class cP extends En{_renderWatchers(){this._startWatcher("badge",M),super._renderWatchers()}}const xs={top:"dx-tabpanel-tabs-position-top",right:"dx-tabpanel-tabs-position-right",bottom:"dx-tabpanel-tabs-position-bottom",left:"dx-tabpanel-tabs-position-left"},on={top:"top",right:"right",bottom:"bottom",left:"left"},dP={top:"bottom",right:"left",bottom:"top",left:"right"},h0={horizontal:"horizontal",vertical:"vertical"},p0={top:"top",start:"start"},m0={primary:"primary",secondary:"secondary"};class jd extends s0{_getDefaultOptions(){return C({},super._getDefaultOptions(),{itemTitleTemplate:"title",hoverStateEnabled:!0,selectOnFocus:!1,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,tabsPosition:on.top,iconPosition:p0.start,stylingMode:m0.primary,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:e=>e?.badge,_tabsIndicatorPosition:null})}_defaultOptionsRules(){const e=ke();return super._defaultOptionsRules().concat([{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>!Mt.touch,options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}},{device:()=>oi(e),options:{stylingMode:m0.secondary}},{device:()=>si(e),options:{iconPosition:p0.top}}])}_init(){super._init(),this.$element().addClass("dx-tabpanel"),this._toggleTabPanelTabsPositionClass()}_getElementAria(){return{role:"tabpanel"}}_getItemAria(){return{role:"tabpanel"}}_initMarkup(){super._initMarkup(),this._createTitleActions(),this._renderLayout()}_prepareTabsItemTemplate(e,t){const n=Dc(e?.icon);n&&t.append(n);const s=J(e)?e?.title:e;if(y(s)&&!J(s)){const o=u("<span>").addClass(aP);o.append(D.createTextNode(s));const r=u("<span>").addClass(lP);r.append(D.createTextNode(s)),r.appendTo(o),o.appendTo(t)}}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({title:new so(((e,t)=>{this._prepareTabsItemTemplate(t,e);const n=u("<div>").addClass(rP);e.wrapInner(n)}),["title","icon"],this.option("integrationOptions.watchMethod"))})}_createTitleActions(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()}_createTitleClickAction(){this._titleClickAction=this._createActionByOption("onTitleClick")}_createTitleHoldAction(){this._titleHoldAction=this._createActionByOption("onTitleHold")}_createTitleRenderedAction(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")}_renderLayout(){if(this._tabs)return;const e=this.$element();this._$tabContainer=u("<div>").addClass("dx-tabpanel-tabs").appendTo(e);const t=u("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(t,Ud,this._tabConfig()),this._$container=u("<div>").addClass("dx-tabpanel-container").appendTo(e),this._$container.append(this._$wrapper);const{focusStateEnabled:n,selectedIndex:s}=this.option();if(n&&y(s)){const o=this._tabs.itemElements().get(s);o&&this._tabs.option({focusedElement:o})}}_refreshActiveDescendant(){if(!this._tabs)return;const e=this._tabs,t=e.itemElements(),n=u(t[e.option("selectedIndex")]),s=this.getFocusedItemId();this.setAria("controls",void 0,u(t)),this.setAria("controls",s,n)}_getTabsIndicatorPosition(){const{_tabsIndicatorPosition:e,tabsPosition:t}=this.option();return e??dP[t??on.top]}_tabConfig(){const e=this._getTabsIndicatorPosition(),{focusStateEnabled:t,hoverStateEnabled:n,repaintChangesOnly:s,tabIndex:o,selectedIndex:r,badgeExpr:a,itemHoldTimeout:l,items:c,scrollingEnabled:d,scrollByContent:h,showNavButtons:p,loop:m,iconPosition:g,stylingMode:f}=this.option();return{selectOnFocus:!0,focusStateEnabled:t,hoverStateEnabled:n,repaintChangesOnly:s,tabIndex:o,selectedIndex:r,badgeExpr:a,onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:l,onSelectionChanging:v=>{const b=v.addedItems[0],w=this._getIndexByItemData(b),T=this.selectItem(w),H=T.state();if(H!=="pending"){v.cancel=H==="rejected";return}v.cancel=new Promise((N=>{T.done((()=>{N(!1)})).fail((()=>{N(!0)}))}))},onSelectionChanged:()=>{this._refreshActiveDescendant()},onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:c,noDataText:null,scrollingEnabled:d,scrollByContent:h,showNavButtons:p,itemTemplateProperty:"tabTemplate",loopItemFocus:m,selectionRequired:!0,onOptionChanged:v=>{if(v.name==="focusedElement")if(v.value){const b=u(v.value),w=this._itemElements().eq(b.index());this.option("focusedElement",ae(w))}else this.option("focusedElement",v.value)},onFocusIn:v=>{this._focusInHandler(v.event)},onFocusOut:v=>{this._isFocusOutHandlerExecuting||this._focusOutHandler(v.event)},orientation:this._getTabsOrientation(),iconPosition:g,stylingMode:f,_itemAttributes:{class:"dx-tabpanel-tab"},_indicatorPosition:e}}_renderFocusTarget(){this._focusTarget().attr("tabIndex",-1)}_getTabsOrientation(){const{tabsPosition:e}=this.option();return[on.right,on.left].includes(e)?h0.vertical:h0.horizontal}_getTabPanelTabsPositionClass(){const{tabsPosition:e}=this.option();switch(e){case on.right:return xs.right;case on.bottom:return xs.bottom;case on.left:return xs.left;case on.top:default:return xs.top}}_toggleTabPanelTabsPositionClass(){for(const t in xs)this.$element().removeClass(xs[t]);const e=this._getTabPanelTabsPositionClass();this.$element().addClass(e)}_updateTabsOrientation(){const e=this._getTabsOrientation();this._setTabsOption("orientation",e)}_toggleWrapperFocusedClass(e){this._toggleFocusClass(e,this._$wrapper)}_toggleDisabledFocusedClass(e){this._focusTarget().toggleClass("dx-disabled-focused-tab",e)}_updateFocusState(e,t){super._updateFocusState(e,t);const n=e.target===this._tabs._focusTarget().get(0),s=e.target===this._focusTarget().get(0);if(n&&this._toggleFocusClass(t,this._focusTarget()),n||s){const o=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(t&&!o),this._toggleDisabledFocusedClass(t&&o)}s&&(this._toggleFocusClass(t,this._tabs.$element()),this._toggleFocusClass(t,this._tabs.option("focusedElement")))}_focusOutHandler(e){this._isFocusOutHandlerExecuting=!0,super._focusOutHandler(e),this._tabs._focusOutHandler(e),this._isFocusOutHandlerExecuting=!1}_setTabsOption(e,t){this._tabs&&this._tabs.option(e,t)}_postprocessSwipe(e){this._setTabsOption("selectedIndex",e.swipedTabsIndex)}_visibilityChanged(e){e&&this._tabs._dimensionChanged()}registerKeyHandler(e,t){super.registerKeyHandler(e,t),this._tabs&&this._tabs.registerKeyHandler(e,t)}repaint(){super.repaint(),this._tabs.repaint()}_updateTabsIndicatorPosition(){const e=this._getTabsIndicatorPosition();this._setTabsOption("_indicatorPosition",e)}_optionChanged(e){const{name:t,value:n,fullName:s}=e;switch(t){case"dataSource":default:super._optionChanged(e);break;case"items":this._setTabsOption(t,this.option(t)),this.option("repaintChangesOnly")||this._tabs.repaint(),super._optionChanged(e);break;case"width":super._optionChanged(e),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":{this._setTabsOption(s,n),super._optionChanged(e);const{focusStateEnabled:o}=this.option();if(o===!0){const r=this.option("selectedIndex"),a=this._itemElements().eq(r);this.option("focusedElement",ae(a))}break}case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(s,n),super._optionChanged(e);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(s,n);break;case"focusedElement":{const o=n&&u(n).index(),r=n&&this._tabs?this._tabs._itemElements().eq(o):n;if(this._setTabsOption("focusedElement",ae(r)),n){const a=this._isDisabled(n);this._toggleWrapperFocusedClass(!a),this._toggleDisabledFocusedClass(a)}super._optionChanged(e);break}case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",n),super._optionChanged(e);break;case"badgeExpr":this._invalidate();break;case"tabsPosition":this._toggleTabPanelTabsPositionClass(),this._updateTabsIndicatorPosition(),this._updateTabsOrientation();break;case"iconPosition":this._setTabsOption("iconPosition",n);break;case"stylingMode":this._setTabsOption("stylingMode",n);break;case"_tabsIndicatorPosition":this._setTabsOption("_indicatorPosition",n)}}}jd.ItemClass=cP,ve("dxTabPanel",jd);const uP=["items","isRequired","validationRules","visible"];let f0=class extends jt{_init(){super._init(),this._dirtyFields=new Set,this._cachedColCountOptions=[],this._itemsRunTimeInfo=new xg,this._groupsColCount=[],this._attachSyncSubscriptions()}_getDefaultOptions(){return C({},super._getDefaultOptions(),{formID:`dx-${new $e}`,formData:{},colCount:1,screenByWidth:jo,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:F.format("dxForm-optionalMark"),requiredMessage:F.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,scrollingEnabled:!1,stylingMode:ce().editorStylingMode,labelMode:"outside",isDirty:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>si(ke()),options:{labelLocation:"top"}},{device:()=>wt(ke()),options:{showColonAfterLabel:!1}}])}_setOptionsByReference(){super._setOptionsByReference(),I(this._optionsByReference,{formData:!0,validationGroup:!0})}_getGroupColCount(e){return parseInt(e.attr(pg)??"1",10)}_applyLabelsWidthByCol(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=n!=null&&n.inOneColumn?rg:og+t,o=n!=null&&n.excludeTabbed?`:not(.${ug})`:"";hO(e,`.${s}${o}`)}_applyLabelsWidth(e,t,n,s){const o={excludeTabbed:t,inOneColumn:n},r=n?1:s??this._getGroupColCount(e);for(let a=0;a<r;a+=1)this._applyLabelsWidthByCol(e,a,o)}_getGroupElementsInColumn(e,t,n){const s=y(n)?`.${hg}${n}`:"",o=`.${og}${t} > .${ad} > .${rd}${s}`;return e.find(o)}_applyLabelsWidthWithGroups(e,t,n){const{alignRootItemLabels:s}=this.option();if(s===!0){const r=e.find(`.${dg}`);for(let a=0;a<t;a+=1)this._applyLabelsWidthByCol(r,a)}if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(e,t,n);else{const r=this.$element().find(`.${rd}`);for(let a=0;a<r.length;a+=1)this._applyLabelsWidth(r.eq(a),n,!1,void 0)}}_applyLabelsWidthWithNestedGroups(e,t,n){const s={excludeTabbed:n};for(let o=0;o<t;o+=1){const r=this._getGroupElementsInColumn(e,o);this._applyLabelsWidthByCol(r,0,s);for(let a=0;a<this._groupsColCount.length;a+=1){const l=this._getGroupElementsInColumn(e,o,this._groupsColCount[a]),c=this._getGroupColCount(l);for(let d=1;d<c;d+=1)this._applyLabelsWidthByCol(l,d,s)}}}_labelLocation(){const{labelLocation:e}=this.option();return e}_alignLabelsInColumn(e){const{layoutManager:t,inOneColumn:n,$container:s,excludeTabbed:o,items:r}=e;!te()||this._labelLocation()==="top"||(n?this._applyLabelsWidth(s,o,!0,void 0):this._checkGrouping(r)?this._applyLabelsWidthWithGroups(s,t._getColCount(),o):this._applyLabelsWidth(s,o,!1,t._getColCount()))}_prepareFormData(){y(this.option("formData"))||this.option("formData",{})}_setStylingModeClass(){const{stylingMode:e}=this.option();e==="underlined"&&this.$element().addClass(XA)}_initMarkup(){Ce.addGroup(this._getValidationGroup(),!1),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(HA),this._setStylingModeClass(),super._initMarkup(),this.setAria("role","form",this.$element());const{scrollingEnabled:e}=this.option();e&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()}_attachResizeObserverSubscription(){if(te()){const e=this.$element().get(0);ni.unobserve(e),ni.observe(e,(()=>{this._resizeHandler()}))}}_resizeHandler(){this._cachedLayoutManagers.length&&S(this._cachedLayoutManagers,((e,t)=>{const{onLayoutChanged:n}=t.option();n?.(t.isSingleColumnMode())}))}_getCurrentScreenFactor(){const{screenByWidth:e}=this.option();return te()?Ka(e):"lg"}_clearCachedInstances(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]}_alignLabels(e,t){const{items:n}=this.option();this._alignLabelsInColumn({$container:this.$element(),layoutManager:e,excludeTabbed:!0,items:n,inOneColumn:t}),Bt(this.$element().find(`.${Rr}`))}_clean(){this._clearValidationSummary(),super._clean(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,ni.unobserve(this.$element().get(0))}_renderScrollable(){const e=this.option("useNativeScrolling");this._scrollable=new gs(this.$element(),{useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1})}_getContent(){var e;const{scrollingEnabled:t}=this.option();return t?u((e=this._scrollable)===null||e===void 0?void 0:e.content()):this.$element()}_clearValidationSummary(){var e;(e=this._$validationSummary)===null||e===void 0||e.remove(),this._$validationSummary=void 0,this._validationSummary=void 0}_renderValidationSummary(){this._clearValidationSummary();const{showValidationSummary:e}=this.option();e&&(this._$validationSummary=u("<div>").addClass(YA).appendTo(this._getContent()),this._validationSummary=super._createComponent(this._$validationSummary,bc,{validationGroup:this._getValidationGroup()}))}_prepareItems(e,t,n,s){if(e){const o=[];for(let r=0;r<e.length;r+=1){let a=e[r];const l=mg(n,cd(r,s)),c={item:a,itemIndex:r,path:l},d=this._itemsRunTimeInfo.add(c);if(le(a)&&(a={dataField:a}),X(a)){const h=C({},a);c.preparedItem=h,h.guid=d,this._tryPrepareGroupItemCaption(h),this._tryPrepareGroupItem(h),this._tryPrepareTabbedItem(h,l),this._tryPrepareItemTemplate(h),t&&(h.cssItemClass=ug),h.items&&(h.items=this._prepareItems(h.items,t,l)),o.push(h)}else o.push(a)}return o}return e}_isGroupItem(e){return e.itemType==="group"}_tryPrepareGroupItemCaption(e){this._isGroupItem(e)&&(e._prepareGroupCaptionTemplate=t=>{e.captionTemplate&&(e.groupCaptionTemplate=this._getTemplate(t)),e.captionTemplate=this._itemGroupTemplate.bind(this,e)},e._prepareGroupCaptionTemplate(e.captionTemplate))}_tryPrepareGroupItem(e){this._isGroupItem(e)&&(e.alignItemLabels=Be(e.alignItemLabels,!0),e._prepareGroupItemTemplate=t=>{e.template&&(e.groupContentTemplate=this._getTemplate(t)),e.template=this._itemGroupTemplate.bind(this,e)},e._prepareGroupItemTemplate(e.template))}_isTabbedItem(e){return e.itemType==="tabbed"}_tryPrepareTabbedItem(e,t){this._isTabbedItem(e)&&(e.template=this._itemTabbedTemplate.bind(this,e),e.tabs=this._prepareItems(e.tabs,!0,t,!0))}_tryPrepareItemTemplate(e){e.template&&(e.template=this._getTemplate(e.template))}_checkGrouping(e){if(e){for(let t=0;t<e.length;t+=1)if(e[t].itemType==="group")return!0}return!1}_renderLayout(){const{items:e}=this.option(),t=this._getContent(),n=this._prepareItems(e),{colCount:s,alignItemLabels:o,screenByWidth:r,colCountByScreen:a}=this.option();this._rootLayoutManager=this._renderLayoutManager(t,this._createLayoutManagerOptions(n,{isRoot:!0,colCount:s,alignItemLabels:o,screenByWidth:r,colCountByScreen:a,onLayoutChanged:l=>{this._alignLabels.bind(this)(this._rootLayoutManager,l)},onContentReady:l=>{this._alignLabels(l.component,l.component.isSingleColumnMode())}}))}_tryGetItemsForTemplate(e){return e.items??[]}_itemTabbedTemplate(e,t,n){const s=u("<div>").appendTo(n),o=C({},e.tabPanelOptions,{dataSource:e.tabs,onItemRendered:l=>{var c,d;(c=e.tabPanelOptions)===null||c===void 0||(d=c.onItemRendered)===null||d===void 0||d.call(c,l),uc(l.itemElement)},itemTemplate:(l,c,d)=>{const{screenByWidth:h}=this.option(),p=u(d),m=Be(l.alignItemLabels,!0),g=this._renderLayoutManager(p,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(l),{colCount:l.colCount,alignItemLabels:m,screenByWidth:h,colCountByScreen:l.colCountByScreen,cssItemClass:l.cssItemClass,onLayoutChanged:f=>{this._alignLabelsInColumn({$container:u(d),layoutManager:g,items:l.items,inOneColumn:f,excludeTabbed:!1})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(l.guid??"",{layoutManager:g}),m&&this._alignLabelsInColumn({$container:p,layoutManager:g,items:l.items,inOneColumn:g.isSingleColumnMode(),excludeTabbed:!1})}}),r=(l,c)=>{Array.isArray(l)&&l.forEach((d=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(d.guid??"",{widgetInstance:c})))},a=this._createComponent(s,jd,o);u(n).parent().addClass(jA),a.on("optionChanged",(l=>{const{fullName:c,value:d,component:h}=l;c==="dataSource"&&r(d,h)})),r([{guid:e.guid},...e.tabs??[]],a)}_itemGroupCaptionTemplate(e,t,n){if(e.groupCaptionTemplate){const s=u("<div>").addClass(WA).attr("id",n).appendTo(t);e._renderGroupCaptionTemplate=()=>{var o;const r={component:this,caption:e.caption,name:e.name};(o=e.groupCaptionTemplate)===null||o===void 0||o.render({model:r,container:ae(s)})},e._renderGroupCaptionTemplate();return}e.caption&&u("<span>").addClass(NA).text(e.caption).attr("id",n).appendTo(t)}_itemGroupContentTemplate(e,t){const n=u("<div>").addClass(KA).appendTo(t);if(e.groupContentTemplate)e._renderGroupContentTemplate=()=>{var o;n.empty();const r={formData:this.option("formData"),component:this};(o=e.groupContentTemplate)===null||o===void 0||o.render({model:r,container:ae(n)})},e._renderGroupContentTemplate();else{var s;const o=this._renderLayoutManager(n,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,colCountByScreen:e.colCountByScreen,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass}));(s=this._itemsRunTimeInfo)===null||s===void 0||s.extendRunTimeItemInfoByKey(e.guid??"",{layoutManager:o});const r=o._getColCount();this._groupsColCount.includes(r)||this._groupsColCount.push(r),t.addClass(hg+r),t.attr(pg,r)}}_itemGroupTemplate(e,t,n){var s;const{id:o}=t.editorOptions.inputAttr,r=u("<div>").toggleClass(qA,!!((s=e.caption)!==null&&s!==void 0&&s.length)).addClass(rd).appendTo(n),a={role:"group",labelledby:o};this.setAria(a,r),u(n).parent().addClass(UA),this._itemGroupCaptionTemplate(e,r,o),this._itemGroupContentTemplate(e,r)}_createLayoutManagerOptions(e,t){return fO({form:this,formOptions:this.option(),$formElement:this.$element(),items:e,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:t,onFieldDataChanged:n=>{this._isDataUpdating||this._triggerOnFieldDataChanged(n)},onContentReady:n=>{var s;this._itemsRunTimeInfo.addItemsOrExtendFrom(n.component._itemsRunTimeInfo),(s=t.onContentReady)===null||s===void 0||s.call(t,n)},onDisposing:n=>{const{component:s}=n,o=s.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(o)},onFieldItemRendered:()=>{var n;(n=this._validationSummary)===null||n===void 0||n.refreshValidationGroup()}})}_renderLayoutManager(e,t){const n={lg:t.colCount,md:t.colCount,sm:t.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:I(n,t.colCountByScreen)});const s=u("<div>");s.appendTo(e);const o=this._createComponent(s,i0,t);return o.on("autoColCountChanged",(()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout((()=>!this._disposed&&this._refresh()),0)})),this._cachedLayoutManagers.push(o),o}_getValidationGroup(){const{validationGroup:e}=this.option();return e??this}_createComponent(e,t,n){const{readOnly:s}=this.option();return this._extendConfig(n??{},{readOnly:s}),super._createComponent(e,t,n)}_attachSyncSubscriptions(){this.on("optionChanged",(e=>{const{fullName:t,name:n}=e;t==="formData"&&(y(e.value)||this._options.silent("formData",e.value={}),this._triggerOnFieldDataChangedByDataSet(e.value)),this._cachedLayoutManagers.length&&S(this._cachedLayoutManagers,((s,o)=>{t==="formData"&&(this._isDataUpdating=!0,o.option("layoutData",e.value),this._isDataUpdating=!1),(n==="readOnly"||n==="disabled")&&o.option(t,e.value)}))}))}_optionChanged(e){const{fullName:t}=e,n=t.split(".");n.length>1&&n[0].search("items")!==-1&&this._itemsOptionChangedHandler(e)||n.length>1&&n[0].search("formData")!==-1&&this._formDataOptionChangedHandler(e)||this._defaultOptionChangedHandler(e)}_defaultOptionChangedHandler(e){switch(e.name){case"formData":this.option("items")?Jt(e.value)&&this._clear():this._invalidate();break;case"onFieldDataChanged":case"alignRootItemLabels":case"readOnly":case"isDirty":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":{const{colCount:t}=this.option();t==="auto"&&this._invalidate();break}case"width":super._optionChanged(e),this._rootLayoutManager.option(e.name,e.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":Ce.removeGroup(e.previousValue||this),this._invalidate();break;default:super._optionChanged(e)}}_itemsOptionChangedHandler(e){const{value:t,fullName:n}=e,s=n.split("."),o=this._getItemPath(s),r=this.option(o),a=n.replace(`${o}.`,""),l=a.split(".")[0].replace(/\[\d+]/,""),c=this._tryCreateItemOptionAction(l,r,r[l],e.previousValue,o);let d=this._tryExecuteItemOptionAction(c)??this._tryChangeLayoutManagerItemOption(n,t);if(!d&&r){this._changeItemOption(r,a,t);const{items:h}=this.option(),p=this._generateItemsFromData(h);this.option("items",p),d=!0}return d}_formDataOptionChangedHandler(e){const t=e.fullName.split("."),{value:n}=e,s=t.slice(1).join("."),o=this.getEditor(s);return o?o.option("value",n):this._triggerOnFieldDataChanged({dataField:s,value:n}),!0}_tryCreateItemOptionAction(e,t,n,s,o){let r=n;return e==="tabs"&&(this._itemsRunTimeInfo.removeItemsByPathStartWith(`${o}.tabs`),r=this._prepareItems(r,!0,o,!0)),bO(e,{item:t,value:r,previousValue:s,itemsRunTimeInfo:this._itemsRunTimeInfo})}_tryExecuteItemOptionAction(e){return e?.tryExecute()}_updateValidationGroupAndSummaryIfNeeded(e){const t=fg(e);if(uP.includes(t)&&(Ce.addGroup(this._getValidationGroup(),!1),this.option("showValidationSummary"))){var n;(n=this._validationSummary)===null||n===void 0||n.refreshValidationGroup()}}_setLayoutManagerItemOption(e,t,n,s){if(this._updateLockCount>0){e._updateLockCount||e.beginUpdate();const r=this._itemsRunTimeInfo.findKeyByPath(s);this.postponedOperations.add(r,(()=>(e._disposed||e.endUpdate(),A().resolve())))}const o=r=>{if(r.component.off("contentReady",o),_g(s)){const a=mO(s),l=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(a);if(l){const{items:c}=l.option();this._alignLabelsInColumn({items:c,layoutManager:l,$container:l.$element(),inOneColumn:l.isSingleColumnMode(),excludeTabbed:!1})}}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};e.on("contentReady",o),e.option(t,n),this._updateValidationGroupAndSummaryIfNeeded(t)}_tryChangeLayoutManagerItemOption(e,t){const n=e.split("."),s=fg(e);if(s==="items"&&n.length>1){const o=this._getItemPath(n),r=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(o);if(r){this._itemsRunTimeInfo.removeItemsByItems(r.getItemsRunTimeInfo());const a=this._prepareItems(t,!1,o);return this._setLayoutManagerItemOption(r,s,a,o),!0}}else if(n.length>2){const o=n.length-2,r=this._getItemPath(n.slice(0,o)),a=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(r);if(a){const l=Do(n[o],s);if(s==="editorType"&&a.option(l)!==t)return!1;if(s==="visible"){const c=this.option(Do(r,"items"));if(c!=null&&c.length){const{items:d}=a.option();c.forEach(((h,p)=>{const m=d[p];m.visibleIndex=h.visibleIndex}))}}return this._setLayoutManagerItemOption(a,l,t,r),!0}}return!1}_tryChangeLayoutManagerItemOptions(e,t){let n=!1;return this.beginUpdate(),S(t,((s,o)=>(n=this._tryChangeLayoutManagerItemOption(Do(e,s),o),!!n))),this.endUpdate(),n}_getItemPath(e){let t=e[0];for(let n=1;n<e.length&&e[n].search(/items\[\d+]|tabs\[\d+]/)!==-1;n+=1)t+=`.${e[n]}`;return t}_triggerOnFieldDataChanged(e){this._updateIsDirty(e.dataField??""),this._createActionByOption("onFieldDataChanged")(e)}_triggerOnFieldDataChangedByDataSet(e){e&&X(e)&&Object.keys(e).forEach((t=>{this._triggerOnFieldDataChanged({dataField:t,value:e[t]})}))}_updateFieldValue(e,t){const{formData:n}=this.option();if(y(n)){const s=this.getEditor(e);this.option(`formData.${e}`,t),s&&s.option("value")!==t&&s.option("value",t)}}_generateItemsFromData(e){const{formData:t}=this.option(),n=[];return!e&&y(t)&&S(t,(s=>{n.push({dataField:s})})),e&&S(e,((s,o)=>{X(o)?n.push(o):n.push({dataField:o})})),n}_getItemByField(e,t){const n=X(e)?e:this._getFieldParts(e),{fieldName:s}=n,{fieldPath:o}=n;let r=!1;return t.length&&S(t,((a,l)=>{const{itemType:c}=l;if(o.length){const d=o.slice();l=this._getItemByFieldPath(d,s,l)}else if(this._isGroupItem(l)&&!(l.caption||l.name)||c==="tabbed"&&!l.name){const d=this._getSubItemField(c);l.items=this._generateItemsFromData(l.items),l=this._getItemByField({fieldName:s,fieldPath:o},l[d])}return pO(l,s)?(r=l,!1):!0})),r}_getFieldParts(e){let t=e,n=t.indexOf(".");const s=[];for(;n!==-1;)s.push(t.substr(0,n)),t=t.substr(n+1),n=t.indexOf(".");return{fieldName:t,fieldPath:s.reverse()}}_getItemByFieldPath(e,t,n){const{itemType:s}=n,o=this._getSubItemField(s),r=s==="group"||s==="tabbed"||n.title;let a=!1;do if(r){const l=n.name||n.caption||n.title,c=y(l),d=dd(l);let h="";if(n[o]=this._generateItemsFromData(n[o]),c&&(h=e.pop()),!e.length&&(a=this._getItemByField(t,n[o]),a))break;(!c||c&&d===h)&&e.length&&(a=this._searchItemInEverySubItem(e,t,n[o]))}else break;while(e.length&&!y(a));return a}_getSubItemField(e){return e==="tabbed"?"tabs":"items"}_searchItemInEverySubItem(e,t,n){let s=!1;return S(n,((o,r)=>(s=this._getItemByFieldPath(e.slice(),t,r),!s))),s||!1}_changeItemOption(e,t,n){X(e)&&(e[t]=n)}_dimensionChanged(){const e=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==e&&(this._isColCountChanged(this._lastMarkupScreenFactor,e)&&(this._targetScreenFactor=e,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=e)}_isColCountChanged(e,t){let n=!1;return S(this._cachedColCountOptions,((s,o)=>o.colCountByScreen[e]!==o.colCountByScreen[t]?(n=!0,!1):!0)),n}_refresh(){const e=`.${hA}.${nI}:not(.${$A}) .${pA}`;_.trigger(this.$element().find(e),"change"),super._refresh()}_updateIsDirty(e){const t=this.getEditor(e);t&&(t.option("isDirty")?this._dirtyFields.add(e):this._dirtyFields.delete(e),this.option("isDirty",!!this._dirtyFields.size))}updateRunTimeInfoForEachEditor(e){this._itemsRunTimeInfo.each(((t,n)=>{const{widgetInstance:s}=n;y(s)&&Xi.isEditor(s)&&e(s)}))}_clear(){this.updateRunTimeInfoForEachEditor((e=>{e.clear(),e.option("isValid",!0)})),Ce.resetGroup(this._getValidationGroup())}_updateData(e,t,n){const s=n?t:e;X(s)?S(s,((o,r)=>{this._updateData(n?`${e}.${o}`:o,r,X(r))})):le(e)&&this._updateFieldValue(e,t)}registerKeyHandler(e,t){super.registerKeyHandler(e,t),this._itemsRunTimeInfo.each(((n,s)=>{y(s.widgetInstance)&&s.widgetInstance.registerKeyHandler(e,t)}))}_focusTarget(){return this.$element().find(`.${ad} [tabindex]`).first()}_visibilityChanged(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())}_clearAutoColCountChangedTimeout(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)}_dispose(){this._clearAutoColCountChangedTimeout(),Ce.removeGroup(this._getValidationGroup()),super._dispose()}clear(){this._clear()}resetValues(){this._clear()}reset(e){this.updateRunTimeInfoForEachEditor((t=>{const{name:n=""}=t.option();e&&n in e?(t.reset(e[n]),this._updateIsDirty(n)):t.reset()})),this._renderValidationSummary()}updateData(e,t){this._updateData(e,t)}getEditor(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)??this._itemsRunTimeInfo.findWidgetInstanceByName(e)}getButton(e){return this._itemsRunTimeInfo.findWidgetInstanceByName(e)}updateDimensions(){const e=A();return this._scrollable?this._scrollable.update().done((()=>{e.resolveWith(this)})):e.resolveWith(this),e.promise()}itemOption(e,t,n){const{items:s}=this.option(),o=this._generateItemsFromData(s),r=this._getItemByField(e,o),a=gg(o,r);if(r){if(arguments.length===1)return r;switch(arguments.length){case 3:{const l=this._tryCreateItemOptionAction(t,r,n,r[t??""],a);this._changeItemOption(r,t??"",n);const c=Do(a,t);!this._tryExecuteItemOptionAction(l)&&!this._tryChangeLayoutManagerItemOption(c,n)&&this.option("items",o);break}default:if(X(t)&&!this._tryChangeLayoutManagerItemOptions(a,t)){let l=!1;S(t,((c,d)=>{const h=this._tryCreateItemOptionAction(c,r,d,r[c],a);this._changeItemOption(r,c,d),!l&&!this._tryExecuteItemOptionAction(h)&&(l=!0)})),l&&this.option("items",o)}}}}validate(){return Ce.validateGroup(this._getValidationGroup())}getItemID(e){const{formID:t}=this.option();return`dx_${t}_${e||new $e}`}getTargetScreenFactor(){return this._targetScreenFactor}};ve("dxForm",f0);const Ia=_.on;_.one;const ys=_.off;_.trigger,_.Event;const hP=_.triggerHandler;/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function Vn(...i){return i.filter(e=>e).join(".")}function pP(i){const e=i.split("[");return e.length===1?{isCollectionItem:!1,name:i}:{isCollectionItem:!0,name:e[0],index:Number(e[1].slice(0,-1))}}const mP=(i,e)=>Object.keys(i).length!==Object.keys(e).length?!1:Object.keys(i).every(t=>i[t]===e[t]);/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const _0=["style","id"],g0="className",fP=["dropZone","dialogTrigger"],_P={WidgetClass:{},isPortalComponent:!1,defaults:{},templateProps:[],expectedChildren:{},subscribableOptions:[],independentEvents:[],useRequestAnimationFrameFlag:!1,clearExtensions:()=>{},renderChildren:()=>{},beforeCreateWidget:()=>{},afterCreateWidget:()=>{},children:null};function gP(i){return i==="children"||i===g0||_0.includes(i)||Object.prototype.hasOwnProperty.call(_P,i)}function vP(i){return i?.current?i.current.instance?.().element()?i.current.instance().element():i.current:i}function xP(i,e,t){t=t||[];const n={},s={},o={},r={};return t.forEach(a=>{r[a.component]=!0,r[a.render]=!0}),Object.keys(i).forEach(a=>{const l=e?e[a]:null,c=i[a];if(!gP(a)){if(l){n[l]=c;return}if(r[a]){o[a]=c;return}if(fP.includes(a)){s[a]=vP(c);return}s[a]=i[a]}}),{options:s,defaults:n,templates:o}}function v0(i){return i[g0]}/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function yP(i,e,t){return e.tmplOption==="template"&&t?{optionName:e.tmplOption,isAnonymous:!0,type:"children",content:i.children}:i[e.render]?{optionName:e.tmplOption,isAnonymous:!0,type:"render",content:i[e.render]}:i[e.component]?{optionName:e.tmplOption,isAnonymous:!0,type:"component",content:i[e.component]}:null}/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const x0=E.createContext(void 0),y0=E.createContext(void 0),Cs=E.createContext({parentExpectedChildren:{},parentFullName:"",onChildOptionsReady:()=>{},onNamedTemplateReady:()=>{},getOptionComponentKey:()=>0,treeUpdateToken:Symbol("initial tree update token"),parentType:"component"}),qd=E.createContext({isTemplateRendering:!1});/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function C0(i){let e=i,t="";for(;e&&e.name;)t=e.name.concat(typeof e.index=="number"?`[${e.index}]`:"",t?`.${t}`:""),e=e.parentNode;return t}const CP={isTemplateRendering:!0},bP=(i,e)=>{const t=xP(i.props,i.descriptor.initialValuesProps,i.descriptor.templates);return{node:{name:i.descriptor.name,predefinedOptions:i.descriptor.predefinedValuesProps,initialOptions:t.defaults,options:t.options,templates:[],configCollections:{},configs:{}},configCollectionMaps:{},getConfigCollectionData(n){return this.node.configCollections[n]||(this.node.configCollections[n]=[],this.configCollectionMaps[n]={}),[this.node.configCollections[n],this.configCollectionMaps[n]]},addChildNode(n,s){s.parentNode=this.node,this.node.configs[n]=s},addCollectionNode(n,s,o){const[r,a]=this.getConfigCollectionData(n),l=a[o]??r.length;s.index=l,s.parentNode=this.node,l<r.length?r[l]=s:(a[o]=l,r.push(s))},addTemplate(n){this.node.templates.push(n)},updateAnonymousTemplates(n){this.node.templates=this.node.templates.filter(s=>!s.isAnonymous),i.descriptor.templates.forEach(s=>{const o=yP(i.props,s,n&&(i.descriptor.isCollection||e.length>0));o&&this.node.templates.push(this.wrapTemplate(o))})},wrapTemplate(n){return n.type==="children"?{...n,content:E.createElement(qd.Provider,{value:CP},n.content)}:n}}};/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function b0(i,e,t,n){const s=E.useContext(Cs),{parentFullName:o}=s,r=Symbol("update token"),a=bP(i,o),l=E.useRef(0),c={parentExpectedChildren:i.descriptor.expectedChildren,parentFullName:Vn(o,i.descriptor.name),parentType:n,treeUpdateToken:r,getOptionComponentKey:()=>(l.current+=1,l.current),onNamedTemplateReady:(d,h)=>{h===r&&d&&a.addTemplate(d)},onChildOptionsReady:(d,h,p,m)=>{if(p!==r)return;const{isCollection:g,name:f}=h;if(g){a.addCollectionNode(f,d,m);return}a.addChildNode(f,d)}};return E.useLayoutEffect(()=>{a.updateAnonymousTemplates(e())},[t]),[a.node,c]}/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function Yd(i,e,t){const n=C0(i);i.templates.forEach(s=>{if(s.isAnonymous){const o=Vn(n,s.optionName);e[s.optionName]=o,t[o]=s}else t[s.optionName]=s})}function bs(i,e,t){const n={};return Object.keys(i.predefinedOptions).forEach(s=>{n[s]=i.predefinedOptions[s]}),Object.keys(i.configs).forEach(s=>{n[s]=bs(i.configs[s],e,t)}),Object.keys(i.configCollections).forEach(s=>{n[s]=i.configCollections[s].map(o=>bs(o,e,t))}),t||Object.keys(i.initialOptions).forEach(s=>{n[s]=i.initialOptions[s]}),Object.keys(i.options).forEach(s=>{n[s]=i.options[s]}),Yd(i,n,e),n}function Xd(i,e){const t={},n=bs(i,t,e);return{templates:t,options:n}}var rn;(function(i){i[i.Simple=0]="Simple",i[i.Complex=1]="Complex",i[i.Array=2]="Array"})(rn||(rn={}));function S0(i,e){const t=e.shift();if(!t)return{value:i,type:rn.Simple};if(i instanceof Object&&Object.keys(i).includes(t))return S0(i[t],e)}function Ss(i,e){const t=e.shift();if(!t)return{value:Xd(i,!0).options,type:rn.Complex};const n=pP(t);if(n.name in i.options){const r=n.isCollectionItem?i.options[n.name][n.index]:i.options[n.name];return S0(r,e)}if(n.isCollectionItem){const r=i.configCollections[n.name];if(!r)return;const a=r[n.index];return a?Ss(a,e):void 0}const s=i.configs[n.name];if(s)return Ss(s,e);const o=i.configCollections[n.name];if(o)return e.length!==0?void 0:{value:o.map(r=>bs(r,{},!0)),type:rn.Array}}/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function wa(i,e){return i===e}function SP(i,e,t,n){const s={},o={},r={},a={};Yd(i,s,o),Yd(t,r,a),n.addRemovedValues(s,r,e),Object.keys(s).forEach(l=>{wa(s[l],r[l])||(n.options[Vn(e,l)]=s[l])}),Object.keys(o).forEach(l=>{const c=o[l],d=a[l];d&&wa(c.content,d.content)||(n.templates[l]=c)})}function Zd(i,e,t){const n=C0(i);if(!e){t.options[n]=bs(i,t.templates,!0);return}t.addRemovedValues(i.options,e.options,n),t.addRemovedValues(i.configCollections,e.configCollections,n),t.addRemovedValues(i.configs,e.configs,n),wP(i,n,e,t),Object.keys(i.configs).forEach(s=>{Zd(i.configs[s],e.configs[s],t)}),Object.keys(i.options).forEach(s=>{wa(i.options[s],e.options[s])||(t.options[Vn(n,s)]=i.options[s])}),SP(i,n,e,t)}function EP(i,e,t,n){Object.keys(e).filter(o=>!Object.keys(i).includes(o)).forEach(o=>{n.push(Vn(t,o))})}function IP(i,e){const t={options:{},removedOptions:[],templates:{},addRemovedValues(n,s,o){EP(n,s,o,this.removedOptions)}};return Zd(i,e,t),t}function wP(i,e,t,n){Object.keys(i.configCollections).forEach(s=>{const o=i.configCollections[s],r=t.configCollections[s]||[];if(!o||o.length!==r.length){const a=[];o.forEach(l=>{const c=bs(l,n.templates,!0);a.push(c)}),n.options[Vn(e,s)]=a;return}for(let a=0;a<o.length;a+=1)Zd(o[a],r[a],n)})}/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function Jd(){return Math.random().toString(36).substring(2)}class DP{constructor(){this._map=new Map}set({key1:e,key2:t},n){let s=this._map.get(e);s||(s=new Map,this._map.set(e,s)),s.set(t,n)}get({key1:e,key2:t}){const n=this._map.get(e);return n?n.get(t):void 0}delete({key1:e,key2:t}){const n=this._map.get(e);n&&(n.delete(t),n.size===0&&this._map.delete(e))}clear(){this._map.clear()}get empty(){return this._map.size===0}*[Symbol.iterator](){for(const[e,t]of this._map)for(const[n,s]of t)yield[{key1:e,key2:n},s]}}class TP extends DP{}function AP(i){return i.length?`${i[0].toUpperCase()}${i.substr(1)}`:""}function OP(i){return!!Object.keys(i.ExpectedChildren||{}).length}/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const Qd=new Set;let E0=-1,I0=-1;function w0(){clearTimeout(E0),clearTimeout(I0)}function D0(){w0(),E0=window.setTimeout(()=>{I0=window.setTimeout(()=>{Qd.forEach(i=>i.execGuards())})})}class kP{constructor(){this.guards={},this.isUpdating=!1,this.onOptionChanged=this.onOptionChanged.bind(this),this.wrapOptionValue=this.wrapOptionValue.bind(this)}setInstance(e,t,n,s){this.instance=e,this.currentConfig=t,this.subscribableOptions=new Set(n),this.independentEvents=new Set(s),Qd.add(this)}getInitialOptions(e){const t=Xd(e,!1),n={};return Object.keys(t.options).forEach(s=>{n[s]=this.wrapOptionValue(s,t.options[s])}),n}getTemplateOptions(e){return Xd(e,!1).templates}update(e,t){const n=[],s=({value:r,fullName:a})=>{n.push([a,r])};this.instance.on("optionChanged",s);const o=IP(e,this.currentConfig);!o.options&&!o.templates&&!o.removedOptions.length||(this.instance.beginUpdate(),this.isUpdating=!0,o.removedOptions.forEach(r=>{this.resetOption(r)}),Object.keys(t).length>0&&this.setValue("integrationOptions",{templates:t}),Object.keys(o.options).forEach(r=>{this.setValue(r,o.options[r])}),this.isUpdating=!1,this.instance.off("optionChanged",s),this.currentConfig=e,n.forEach(([r,a])=>{const l=e.options[r];Object.prototype.hasOwnProperty.call(e.options,r)&&l!==a&&this.setValue(r,l)}),this.instance.endUpdate())}onOptionChanged(e){if(this.isUpdating)return;let t=Ss(this.currentConfig,e.fullName.split("."));if((!t||t.value!==e.value)&&this.callOptionChangeHandler(e.fullName,e.value),t=Ss(this.currentConfig,e.fullName.split(".")),!t)return;const{value:n,type:s}=t;if(n instanceof Array&&s===rn.Array)for(let o=0;o<n.length;o+=1){const r=e.value?.[o];if(n[o]!==r){this.addGuard(e.fullName,n,r);return}}else if(s===rn.Complex&&n instanceof Object)Object.keys(n).forEach(o=>{const r=e.value?.[o];n[o]!==r&&this.addGuard(Vn(e.fullName,o),n[o],r)});else{const o=n===e.value,r=!o&&n instanceof Object&&e.value instanceof Object&&mP(n,e.value);if(o||r||this.instance.skipOptionsRollBack)return;this.addGuard(e.fullName,n,e.value)}}get isInstanceSet(){return!!this.instance}dispose(){Qd.delete(this),Object.keys(this.guards).forEach(e=>{delete this.guards[e]}),this.instance=null}isOptionSubscribable(e){return this.subscribableOptions.has(e)}isIndependentEvent(e){return this.independentEvents.has(e)}callOptionChangeHandler(e,t){if(!this.isOptionSubscribable(e))return;const n=e.split("."),s=n[n.length-1];if(s.startsWith("on"))return;const o=`on${AP(s)}Change`;n[n.length-1]=o;const r=Ss(this.currentConfig,n);if(r){if(typeof r.value!="function")throw new Error(`Invalid value for the ${o} property.
                ${o} must be a function.`);r.value(t)}}wrapOptionValue(e,t){return e.substr(0,2)==="on"&&typeof t=="function"?(...n)=>{(!this.isUpdating||this.isIndependentEvent(e))&&t(...n)}:t}addGuard(e,t,n){if(this.guards[e]!==void 0){this.guards[e].latestValue=n;return}const s=()=>{this.setValue(e,t),delete this.guards[e]};this.guards[e]={handler:s,latestValue:n},D0()}execGuards(){Object.values(this.guards).forEach(e=>e.handler())}resetOption(e){this.isCollectionOption(e)?this.setValue(e,[]):this.instance.resetOption(e)}isCollectionOption(e){return Ss(this.currentConfig,e.split("."))?.type===rn.Array}setValue(e,t){if(this.guards[e])try{if(wa(this.guards[e].latestValue,t))return}finally{delete this.guards[e]}this.instance.option(e,this.wrapOptionValue(e,t))}}/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const T0=(i,e,t)=>{const n={display:"none"};switch(i){case"TABLE":return E.createElement("tbody",{style:n,ref:e});case"TBODY":return E.createElement("tr",{style:n,ref:e});default:return E.createElement(t,{style:n,ref:e})}},MP=({templateFactory:i,data:e,index:t,container:n,onRemoved:s,onRendered:o,componentKey:r})=>{const[a,l]=E.useState(!1),c=E.useRef(!1),d=E.useMemo(()=>({lock(){c.current=!0},unlock(){c.current=!1}}),[]),h=E.useRef([]),p=E.useRef(),m=E.useRef(),g=E.useCallback((w,T)=>{T?.isUnmounting||c.current||([...h.current,m.current].forEach(H=>H&&ys(H,ki,g)),Promise.resolve().then(()=>{s(r)}))},[s]);E.useLayoutEffect(()=>{const w=h.current.filter(T=>T.nodeType===Node.ELEMENT_NODE);return w.length?w.forEach(T=>{ys(T,ki,g),Ia(T,ki,g)}):a?m.current&&(ys(m.current,ki,g),Ia(m.current,ki,g)):l(!0),()=>{const T=H=>{H&&n&&!n.contains(H)&&n.appendChild(H)};[...h.current,p.current,m.current].forEach(H=>T(H)),w.length&&w.forEach(H=>ys(H,ki,g))}},[g,a,n]),E.useEffect(()=>{o()},[o]);const f=Array.from(n.childNodes),v=T0(n?.nodeName,w=>{p.current=w,h.current=[];let T=w?.previousSibling;for(;T;)f.includes(T)||h.current.push(T),T=T?.previousSibling},"div"),b=a?T0(n?.nodeName,w=>{m.current=w},"span"):void 0;return Vo.createPortal(E.createElement(E.Fragment,null,E.createElement(x0.Provider,{value:d},i({data:e,index:t,onRendered:o}),v,b)),n)},RP=E.memo(MP);/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function p1(i){return i}const PP=(i,e)=>({key1:i,key2:e}),$P=(i,e)=>{i.nodeType===Node.ELEMENT_NODE&&ys(i,ki,e)},BP=(i,e)=>{i.nodeType===Node.ELEMENT_NODE&&Ia(i,ki,e)},VP=i=>i.get?i.get(0):i,A0=()=>`${Jd()}${Jd()}${Jd()}`,LP=({init:i,onTemplatesRendered:e})=>{const t=E.useRef(!1),[n,s]=E.useState({collection:new TP}),[o,r]=E.useState(),a=E.useRef(""),l=E.useRef({}),{collection:c}=n,d=E.useCallback(h=>({model:p,index:m,container:g,onRendered:f})=>{const v=VP(g),b=PP(p,v),w=N=>{const Y=c.get(b);Y&&(!N||Y.componentKey===N)&&(c.delete(b),s({collection:c}))},T=()=>{w()},H=a.current;return c.set(b,{templateKey:h,index:m,componentKey:A0(),onRendered:()=>{$P(v,T),H===a.current&&f?.()},onRemoved:w,onContainerRemoved:T}),s({collection:c}),v},[c]);return E.useMemo(()=>{function h(f){switch(f.type){case"children":return()=>f.content;case"render":return v=>f.content(v.data,v.index);case"component":return v=>(v=v,E.createElement.bind(null,f.content)(v));default:return()=>E.createElement(E.Fragment)}}function p(f){const v=Object.entries(f).reduce((w,[T,H])=>({...w,[T]:h(H)}),{});return l.current=v,Object.keys(v).reduce((w,T)=>(w[T]={render:d(T)},w),{})}function m(){a.current=A0(),n.collection.clear(),s({...n})}function g(f){t.current&&r({onUpdated:f})}i({createDXTemplates:p,clearInstantiationModels:m,updateTemplates:g})},[i,d]),E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),E.useEffect(()=>{o&&o.onUpdated(),e()},[o,e]),n.collection.empty?null:E.createElement(E.Fragment,null,Array.from(n.collection).map(([{key1:h,key2:p},{index:m,templateKey:g,componentKey:f,onRendered:v,onRemoved:b,onContainerRemoved:w}])=>{BP(p,w);const T=l.current[g];return T?E.createElement(RP,{key:f,componentKey:f,templateFactory:T,data:h,index:m,container:p,onRemoved:b,onRendered:v}):null}))};/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var Da;(function(i){i[i.Option=0]="Option",i[i.Template=1]="Template",i[i.Unknown=2]="Unknown"})(Da||(Da={}));function FP(i,e,t){let n=i.OptionName,s=i.IsCollectionItem;const o=t&&t[n];return o&&(s=o.isCollectionItem,o.optionName&&(n=o.optionName)),{type:Da.Option,descriptor:{name:n,isCollection:!!s,templates:i.TemplateProps||[],initialValuesProps:i.DefaultsProps||{},predefinedValuesProps:i.PredefinedProps||{},expectedChildren:i.ExpectedChildren||{}},props:e}}/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const HP=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","MozAnimationIterationCount","MozBoxFlex","MozBoxFlexGroup","MozLineClamp","msAnimationIterationCount","msFlex","msZoom","msFlexGrow","msFlexNegative","msFlexOrder","msFlexPositive","msFlexShrink","msGridColumn","msGridColumnSpan","msGridRow","msGridRowSpan","WebkitAnimationIterationCount","WebkitBoxFlex","WebKitBoxFlexGroup","WebkitBoxOrdinalGroup","WebkitColumnCount","WebkitColumns","WebkitFlex","WebkitFlexGrow","WebkitFlexPositive","WebkitFlexShrink","WebkitLineClamp"]);/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const ki="dxremove";ce({buyNowLink:"https://go.devexpress.com/Licensing_Installer_Watermark_DevExtremeReact.aspx",licensingDocLink:"https://go.devexpress.com/Licensing_Documentation_DevExtremeReact.aspx"});const O0=E.forwardRef((i,e)=>{const{templateProps:t=[],defaults:n={},expectedChildren:s={},isPortalComponent:o=!1,useRequestAnimationFrameFlag:r=!1,subscribableOptions:a=[],WidgetClass:l,independentEvents:c=[],renderChildren:d,beforeCreateWidget:h=()=>{},afterCreateWidget:p=()=>{}}=i,[,m]=E.useState(Symbol("initial force update token")),g=E.useContext(x0),f=E.useContext(y0),v=E.useRef(),b=E.useRef(),w=E.useRef(),T=E.useRef(!1),H=E.useRef(!1),N=E.useRef(!1),Y=E.useRef(!1),z=E.useRef(new kP),be=E.useRef(),q=E.useRef(),de=E.useRef(),Z=E.useRef(),Re=E.useRef(),it=E.useRef(null),{parentType:j}=E.useContext(Cs);if(j==="option")return E.createElement("div");const[$,R]=b0({type:Da.Option,descriptor:{name:"",isCollection:!1,templates:t,initialValuesProps:n,predefinedValuesProps:{},expectedChildren:s},props:i},()=>!!it.current?.childNodes.length,Symbol("initial update token"),"component"),G=E.useCallback(()=>{N.current&&be.current?.length&&b.current&&(b.current.append(...be.current),N.current=!1),f&&b.current&&!b.current.isConnected&&f()},[be.current,b.current,N.current,f]),V=E.useCallback((ye,xe)=>{const Tt=ye?v0(ye):void 0,Zt=v0(xe);if(Tt!==Zt){if(Tt){const Bo=Tt.split(" ").filter(eu=>eu);Bo.length&&b.current?.classList.remove(...Bo)}if(Zt){const Bo=Zt.split(" ").filter(eu=>eu);Bo.length&&b.current?.classList.add(...Bo)}}},[b.current]),Q=E.useCallback(ye=>{if(b.current){const xe=b.current;Object.entries(ye).forEach(([Tt,Zt])=>{typeof Zt=="number"&&!HP.has(Tt)?xe.style[Tt]=`${Zt}px`:xe.style[Tt]=Zt})}},[b.current]),oe=E.useCallback(({createDXTemplates:ye,clearInstantiationModels:xe,updateTemplates:Tt})=>{q.current=ye,de.current=xe,Z.current=Tt},[q.current,de.current,Z.current]),x=E.useCallback(()=>{const ye={ref:xe=>{xe&&(b.current=xe)}};return _0.forEach(xe=>{xe in i&&(ye[xe]=i[xe])}),ye},[b.current,i]),O=E.useCallback(()=>{if(H.current)return;H.current=!0,(T.current?Ts:zs)(()=>{H.current=!1,Z.current?.(()=>D0())}),w0()},[H.current,T.current,Z.current]),W=E.useCallback(ye=>{h(),ye=ye||b.current;let xe={templatesRenderAsynchronously:!0,...z.current.getInitialOptions($)};const Tt=z.current.getTemplateOptions($),Zt=q.current?.(Tt);Zt&&Object.keys(Zt).length&&(xe={...xe,integrationOptions:{templates:Zt}}),de.current?.(),v.current=new l(ye,xe),r||(T.current=v.current.option("integrationOptions.useDeferUpdateForTemplates")),z.current.setInstance(v.current,$,a,c),v.current.on("optionChanged",z.current.onOptionChanged),p()},[h,p,b.current,z.current,q.current,de.current,l,r,T.current,v.current,a,c,$]),K=E.useCallback(()=>{Y.current&&v.current?.focus&&(v.current.focus(),Y.current=!1)},[Y.current,v.current]),ne=E.useCallback(()=>{if(!z.current?.isInstanceSet)return;V(Re.current,i);const ye=z.current.getTemplateOptions($),xe=q.current?.(ye)||{};z.current.update($,xe),O(),Re.current=i},[z.current,Re.current,q.current,O,V,i,$]),fe=E.useCallback(()=>{const{style:ye}=i;N.current?G():b.current?.childNodes.length&&(be.current=Array.from(b.current?.childNodes)),V(void 0,i),ye&&Q(ye),Re.current=i},[be.current,b.current,N.current,V,Q,i]),ge=E.useCallback(()=>{if(g?.lock(),v.current){const ye={isUnmounting:!0};if(Y.current=!!b.current?.contains(document.activeElement),be.current?.forEach(xe=>xe.parentNode?.removeChild(xe)),N.current=!0,b.current){const xe=Tt=>Tt.stopPropagation();Ia(b.current,"focusout",xe),hP(b.current,ki,ye),ys(b.current,"focusout",xe)}v.current.dispose(),v.current=null}z.current.dispose(),g?.unlock()},[g,v.current,be.current,b.current,z.current,N.current,Y.current]);E.useLayoutEffect(()=>(fe(),()=>{ge()}),[]),E.useLayoutEffect(()=>{ne()}),E.useImperativeHandle(e,()=>({getInstance(){return v.current},getElement(){return b.current},createWidget(ye){W(ye)}}),[v.current,b.current,W]);const je=E.useCallback(()=>{if(d)return d();const{children:ye}=i;return ye},[i,d]),Fe=E.useCallback(()=>w.current&&Vo.createPortal(je(),w.current),[w.current,je]),nt=E.useCallback(()=>{const{children:ye}=i;return o&&ye?E.createElement("div",{ref:xe=>{xe&&w.current!==xe&&(w.current=xe,m(Symbol("force update token")))},style:{display:"contents"}}):je()},[i,o,w.current,je]),ci=E.useMemo(()=>({isTemplateRendering:!1}),[]);return E.createElement(y0.Provider,{value:G},E.createElement(qd.Provider,{value:ci},E.createElement("div",{ref:it,...x()},E.createElement(Cs.Provider,{value:R},nt()),E.createElement(LP,{init:oe,onTemplatesRendered:K}),o&&E.createElement(Cs.Provider,{value:R},Fe()))))});/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function NP(i){return i.type?.componentType==="extension"}E.forwardRef((i,e)=>{const t=E.useRef(null),n=E.useCallback(s=>{t.current?.createWidget(s)},[t.current]);return E.useLayoutEffect(()=>{const{onMounted:s}=i;s?s(n):n()},[]),E.useImperativeHandle(e,()=>({getInstance(){return t.current?.getInstance()},getElement(){return t.current?.getElement()},createWidget(s){n(s)}}),[t.current,n]),E.createElement(O0,{ref:t,...i})});/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const WP=E.forwardRef((i,e)=>{const t=E.useRef(null),n=E.useRef([]),s=E.useCallback(c=>{n.current.push(c)},[n.current]),o=E.useCallback(()=>{n.current.forEach(c=>c(t.current?.getElement()))},[n.current,t.current]),r=E.useCallback(()=>E.Children.map(i.children,c=>E.isValidElement(c)&&NP(c)?E.cloneElement(c,{onMounted:s}):c),[i,s]),a=E.useCallback(c=>{t.current?.createWidget(c)},[t.current]),l=E.useCallback(()=>{i.clearExtensions&&i.clearExtensions(),n.current=[]},[n.current,i.clearExtensions]);return E.useLayoutEffect(()=>(a(),o(),()=>{l()}),[]),E.useImperativeHandle(e,()=>({getInstance(){return t.current?.getInstance()},getElement(){return t.current?.getElement()},createWidget(c){a(c)},clearExtensions(){l()}}),[t.current,a,l]),E.createElement(O0,{ref:t,renderChildren:r,...i})});/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const Ke=function(e){const{children:t}=e,{elementDescriptor:n,...s}=e,{isTemplateRendering:o}=E.useContext(qd);if(!n||typeof document>"u"||o)return null;const r=n.TemplateProps?.some(w=>e[w.tmplOption]&&typeof e[w.tmplOption]=="string"),{parentExpectedChildren:a,onChildOptionsReady:l,getOptionComponentKey:c,treeUpdateToken:d}=E.useContext(Cs),[h]=E.useState(c()),p=FP(n,s,a),m=E.useMemo(()=>document.createElement("div"),[]),g=OP(n)||r,f=g?()=>!!m.childNodes.length:()=>!!t,[v,b]=b0(p,f,d,"option");return E.useLayoutEffect(()=>{l(v,p.descriptor,d,h)},[d]),g?E.createElement(E.Fragment,{},Vo.createPortal(E.createElement(Cs.Provider,{value:b},t),m)):null};/*!
 * devextreme-react
 * Version: 25.1.6
 * Build date: Mon Oct 13 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const zP=E.memo(E.forwardRef((i,e)=>{const t=E.useRef(null);E.useImperativeHandle(e,()=>({instance(){return t.current?.getInstance()}}),[]);const n=E.useMemo(()=>["formData"],[]),s=E.useMemo(()=>["onContentReady","onDisposing","onEditorEnterKey","onInitialized"],[]),o=E.useMemo(()=>({defaultFormData:"formData"}),[]),r=E.useMemo(()=>({ButtonItem:{optionName:"items",isCollectionItem:!0},colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1},EmptyItem:{optionName:"items",isCollectionItem:!0},GroupItem:{optionName:"items",isCollectionItem:!0},item:{optionName:"items",isCollectionItem:!0},SimpleItem:{optionName:"items",isCollectionItem:!0},TabbedItem:{optionName:"items",isCollectionItem:!0}}),[]);return E.createElement(WP,{WidgetClass:f0,ref:t,subscribableOptions:n,independentEvents:s,defaults:o,expectedChildren:r,...i})}));Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"async"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,ExpectedChildren:{buttonOptions:{optionName:"buttonOptions",isCollectionItem:!1}},PredefinedProps:{itemType:"button"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"buttonOptions",TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"colCountByScreen"}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"compare"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"custom"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"email"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,PredefinedProps:{itemType:"empty"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,ExpectedChildren:{colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}},TemplateProps:[{tmplOption:"captionTemplate",render:"captionRender",component:"captionComponent"},{tmplOption:"template",render:"render",component:"component"}],PredefinedProps:{itemType:"group"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,ExpectedChildren:{AsyncRule:{optionName:"validationRules",isCollectionItem:!0},buttonOptions:{optionName:"buttonOptions",isCollectionItem:!1},colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},label:{optionName:"label",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},tab:{optionName:"tabs",isCollectionItem:!0},tabPanelOptions:{optionName:"tabPanelOptions",isCollectionItem:!1},validationRule:{optionName:"validationRules",isCollectionItem:!0}},TemplateProps:[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent"},{tmplOption:"template",render:"render",component:"component"},{tmplOption:"captionTemplate",render:"captionRender",component:"captionComponent"}]}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"label",TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"numeric"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"pattern"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"range"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"required"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,ExpectedChildren:{AsyncRule:{optionName:"validationRules",isCollectionItem:!0},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},label:{optionName:"label",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},TemplateProps:[{tmplOption:"template",render:"render",component:"component"}],PredefinedProps:{itemType:"simple"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"stringLength"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"tabs",IsCollectionItem:!0,ExpectedChildren:{colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}},TemplateProps:[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent"},{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,ExpectedChildren:{tab:{optionName:"tabs",isCollectionItem:!0},tabPanelOptions:{optionName:"tabPanelOptions",isCollectionItem:!1}},PredefinedProps:{itemType:"tabbed"}}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"tabPanelOptions",DefaultsProps:{defaultItems:"items",defaultSelectedIndex:"selectedIndex",defaultSelectedItem:"selectedItem"},ExpectedChildren:{item:{optionName:"items",isCollectionItem:!0},tabPanelOptionsItem:{optionName:"items",isCollectionItem:!0}},TemplateProps:[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent"},{tmplOption:"itemTitleTemplate",render:"itemTitleRender",component:"itemTitleComponent"}]}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,TemplateProps:[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent"},{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(i=>E.createElement(Ke,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"required"}}}),{componentType:"option"});const GP={name:"Phạm Phú Tân",position:"Nhân viên",gender:"Nam","birth day":"13/04/1978"},KP=()=>st.jsx("div",{style:{width:"30vw",height:"20vh",background:"#ccc",padding:20,margin:"10%",border:"1px solid #ccc"},children:st.jsx(zP,{formData:GP,colCount:2})});di.CustomForm=G0,di.Modal01=KP,di.React=P0,di.ReactDOM=V0,Object.defineProperty(di,Symbol.toStringTag,{value:"Module"})}));
